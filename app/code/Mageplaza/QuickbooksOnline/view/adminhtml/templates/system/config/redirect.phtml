<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_QuickbooksOnline
 * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */

/**
 * @var \Mageplaza\QuickbooksOnline\Block\Adminhtml\System\Config\RedirectUrl $block
 */
?>

<div class="input-group-btn">
    <input style="opacity:1;" readonly type="text" id="redirect-url-input" class="input-text admin__control-text"
           value="<?= /** @noEscape */ $block->escapeHtml($block->getRedirectUrl()) ?>">
    <button id="redirect-url-copy" type="button" title="Copy URL to clipboard" data-clipboard-target="#redirect-url-input">
        <span class="tooltipText" id="myTooltip"><?= /** @noEscape */ __('Copy to clipboard') ?></span>
        <i aria-hidden="true" data-hidden="true" class="fa fa-clipboard"></i>
    </button>
</div>

<script type="text/javascript">
    require(['jquery', 'mage/translate'], function ($, $t) {
        var copyBtn = $('#redirect-url-copy'),
            tooltip = $('#myTooltip');
        copyBtn.on('click', function () {
            $('#redirect-url-input').select();
            document.execCommand('copy');
            tooltip.html($t('Copied!'));
        });

        copyBtn.on('mouseout', function () {
            tooltip.html($t('Copy to clipboard'));
        })
    });
</script>
