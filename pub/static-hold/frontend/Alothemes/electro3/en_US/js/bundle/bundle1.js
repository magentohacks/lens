require.config({"config": {
        "jsbuild":{"Amasty_CheckoutCore/js/view/form/element/email.js":"define([\n    'jquery',\n    'uiRegistry',\n    'ko',\n    'underscore',\n    'Magento_Checkout/js/view/form/element/email',\n    'Magento_Customer/js/model/customer',\n    'Magento_Customer/js/customer-data',\n    'Magento_Checkout/js/checkout-data',\n    'Amasty_CheckoutCore/js/model/payment-validators/login-form-validator',\n    'Amasty_CheckoutCore/js/action/save-password',\n    'Amasty_CheckoutCore/js/model/payment/place-order-state',\n    'Magento_Ui/js/lib/view/utils/async'\n], function (\n    $,\n    registry,\n    ko,\n    _,\n    Component,\n    customer,\n    customerData,\n    checkoutData,\n    loginFormValidator,\n    saveAction,\n    placeOrderState\n) {\n    'use strict';\n\n    /**\n     * Setting 'Let Customers Create an Account at Checkout'\n     * Decryption of codes for this.createAcc:\n     * 0 - No\n     * 1 - After Placing an Order\n     * 2 - While Placing an Order, Optional\n     * 3 - While Placing an Order, Required\n     */\n\n    /**\n     * @return {*}\n     */\n    var getData = function () {\n        return customerData.get('checkout-data')();\n    };\n\n    return Component.extend({\n        defaults: {\n            isCreateAccountAction: ko.observable(true),\n            isPassword: ko.observable(false),\n            createAcc: +window.checkoutConfig.quoteData.additional_options.create_account,\n            passwordConfirmation: '',\n            passValidationDelay: 500,\n            loginFormSelector: 'form[data-role=\"email-with-possible-login\"]',\n            modules: {\n                dateOfBirth: 'checkout.sidebar.additional.checkboxes.date_of_birth',\n                loginCaptcha: '${ $.name }.additional-login-form-fields.captcha',\n                mspRecaptcha: '${ $.name }.msp_recaptcha',\n                recaptcha: '${ $.name }.recaptcha',\n                createAccountRecaptcha: '${ $.name }.recaptcha-customer-create'\n            },\n            listens: {\n                passwordConfirmation: 'validateAndSaveRegistration'\n            }\n        },\n        passValidationTimeout: 0,\n\n        initialize: function () {\n            this._super();\n\n            if (this.createAcc <= '1') {\n                return;\n            }\n\n            this.template = 'Amasty_CheckoutCore/form/element/email';\n            this._renderLoginForm(this._resolveInitialPasswordVisibility());\n\n            this.isLoading.subscribe(function (isLoading) {\n                if (isLoading === false) {\n                    $.when(this.isEmailCheckComplete)\n                        .done(function () {\n                            this._isNeededCreateAccountFunc(true);\n                        }.bind(this))\n                        .fail(function () {\n                            this._isNeededCreateAccountFunc(false);\n                        }.bind(this));\n                }\n            }.bind(this));\n\n            if (this.createAcc === 3 && !customer.isLoggedIn()) {\n                this.isPassword(true);\n                placeOrderState(false);\n\n                this.isLoading.subscribe(function () {\n                    $.when(this.isEmailCheckComplete).done(function () {\n                        this.isPassword(true);\n                    }.bind(this)).fail(function () {\n                        this.isPassword(false);\n                    }.bind(this)).always(function () {\n                        placeOrderState(true);\n                    });\n                }.bind(this));\n\n                this.\u0441heckEnteredEmail();\n            }\n        },\n\n        initObservable: function () {\n            this._super().observe('passwordConfirmation');\n\n            if (this.createAcc <= 1) {\n                return this;\n            }\n\n            this.validate = ko.computed(function () {\n                $.async('#customer-password', function (elem) {\n                    if (this.isPasswordVisible() && this.isCreateAccountAction() === true) {\n                        $(elem).rules('add', 'validate-customer-password');\n                    } else if ($.data(elem.form, 'validator')\n                        && $(elem).rules().hasOwnProperty('validate-customer-password')\n                    ) {\n                        $(elem).rules('remove', 'validate-customer-password');\n                    }\n                }.bind(this));\n\n                loginFormValidator.validate();\n\n                return this.isPasswordVisible() && this.isCreateAccountAction() === true;\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Checks the email entered before reloading the page\n         *\n         * @returns {void}\n         */\n        \u0441heckEnteredEmail: _.once(function () {\n            if (this.email()) {\n                this.checkEmailAvailability();\n            }\n        }),\n\n        isPasswordRequired: function () {\n            this._visibleDateOfBirth();\n            this._visibleLoginCaptcha();\n            this._visibleReCaptcha();\n        },\n\n        getTooltip: function () {\n            return this.tooltip;\n        },\n\n        isPasswordSet: function (element) {\n            this.isPassword(!!element.value);\n\n            this._visibleDateOfBirth();\n            this._visibleLoginCaptcha();\n            this._visibleReCaptcha();\n        },\n\n        emailHasChanged: function () {\n            this._super();\n\n            if (this.createAcc <= 1) {\n                return;\n            }\n\n            if (!this.validateEmail()) {\n                this.isCreateAccountAction(false)\n            }\n\n            setTimeout(function () {\n                this._visibleLoginCaptcha();\n                this._visibleReCaptcha();\n            }.bind(this), this.checkDelay);\n        },\n\n        getRequiredCharacterClassesNumber: function () {\n            return parseInt(registry.get('checkoutProvider').requiredCharacterClassesNumber, 10);\n        },\n\n        getMinimumPasswordLength: function () {\n            return parseInt(registry.get('checkoutProvider').minimumPasswordLength, 10);\n        },\n\n        validateAndSaveRegistration: function () {\n            if (loginFormValidator.validate()) {\n                saveAction();\n            }\n        },\n\n        /**\n         * Override submit action\n         * on create account action - just validate and save\n         * @returns {void|UIClass}\n         */\n        login: function () {\n            if (this.createAcc >= 2\n                && this.isPasswordVisible()\n                && this.isCreateAccountAction() === true) {\n                this.validateAndSaveRegistration();\n            } else {\n                return this._super();\n            }\n        },\n\n        _isNeededCreateAccountFunc: function (state) {\n            this.isCreateAccountAction(state);\n            this.isPasswordVisible(true);\n\n            this._visibleLoginCaptcha();\n            this._visibleReCaptcha();\n        },\n\n        _renderLoginForm: function (state) {\n            if (state) {\n                this.isPasswordVisible(true);\n                this.isCreateAccountAction(false);\n            } else {\n                $.async(this.loginFormSelector, function () {\n                    if (this.validateEmail()) {\n                        this.isPasswordVisible(true);\n                        this.isCreateAccountAction(true);\n                    } else {\n                        this.isPasswordVisible(false);\n                        this.isCreateAccountAction(false);\n                    }\n                }.bind(this));\n            }\n        },\n\n        /**\n         * Resolves an initial sate of a login form.\n         *\n         * @returns {Boolean} - initial visibility state.\n         */\n        _resolveInitialPasswordVisibility: function () {\n            if (checkoutData.getInputFieldEmailValue() !== '') {\n                return checkoutData.getInputFieldEmailValue() === this._getCheckedEmailValue();\n            }\n\n            return false;\n        },\n\n        _getCheckedEmailValue: function () {\n            return getData().checkedEmailValue || '';\n        },\n\n        _visibleLoginCaptcha: function () {\n            if (this.loginCaptcha()) {\n                this.loginCaptcha().currentCaptcha.setIsVisible(\n                    (this.isPasswordVisible() && !this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isLoginCaptcha)\n                    || (this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isCreateAccountCaptcha)\n                );\n            }\n        },\n\n        _visibleReCaptcha: function () {\n            // for magento < 2.4.0\n            if (this.mspRecaptcha()) {\n                $.async({\n                    selector: '#msp-recaptcha-checkout-inline-login-wrapper'\n                }, function (loginWrapper) {\n                    $(loginWrapper).toggle(\n                        this.isReCaptchaVisible()\n                    );\n                }.bind(this));\n            }\n            //for magento >= 2.4.0\n            if (this.recaptcha()) {\n                $.async({\n                    // customer_login recaptcha\n                    selector: '#recaptcha-checkout-inline-login-wrapper'\n                }, function (loginWrapper) {\n                    $(loginWrapper).toggle(\n                        this.isPasswordVisible() && !this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isLoginReCaptcha\n                    );\n                }.bind(this));\n            }\n            if (this.createAccountRecaptcha()) {\n                $.async({\n                    // customer_create recaptcha\n                    selector: '#recaptcha-checkout-inline-create-wrapper'\n                }, function (loginWrapper) {\n                    $(loginWrapper).toggle(\n                        this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isCreateAccountReCaptcha\n                    );\n                }.bind(this));\n            }\n        },\n\n        isReCaptchaVisible: function() {\n            return (this.isPasswordVisible() && !this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isLoginReCaptcha)\n                || (this.isCreateAccountAction() && window.checkoutConfig.amastyOscCaptcha.isCreateAccountReCaptcha);\n        },\n\n        _visibleDateOfBirth: function () {\n            if (this.dateOfBirth()) {\n                this.dateOfBirth().visible(this.isPassword() && this.isCreateAccountAction());\n            }\n        }\n    });\n});\n","Amasty_CheckoutCore/js/view/validators/order-summary-validation.js":"define([\n    'uiComponent',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Amasty_CheckoutCore/js/model/payment-validators/order-summary-validator'\n], function (Component, additionalValidators, orderSummaryValidator) {\n    'use strict';\n\n    additionalValidators.registerValidator(orderSummaryValidator);\n\n    return Component.extend({});\n});\n","Amasty_CheckoutCore/js/view/validators/agreement-validation.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Amasty_CheckoutCore/js/model/payment-validators/agreement-validator'\n    ],\n    function (Component, additionalValidators, agreementValidator) {\n        'use strict';\n        additionalValidators.registerValidator(agreementValidator);\n        return Component.extend({});\n    }\n);\n","Amasty_CheckoutCore/js/view/checkout/datepicker.js":"define([\n    'moment',\n    'ko',\n    'underscore',\n    'jquery',\n    'mage/translate',\n    'mage/calendar'\n], function (moment, ko, _, $, $t) {\n    'use strict';\n\n    var defaults = {\n        showsTime: false,\n        timeFormat: null,\n        buttonImage: null,\n        buttonImageOnly: null,\n        buttonText: $t('Select Date')\n    };\n\n    ko.bindingHandlers.amastydatepicker = {\n\n        init: function (el, valueAccessor) {\n\n            var config = valueAccessor(),\n                observable,\n                options = {};\n\n            _.extend(options, defaults);\n\n            if (typeof config === 'object') {\n                observable = config.storage;\n\n                _.extend(options, config.options);\n            } else {\n                observable = config;\n            }\n\n            var date = moment(observable(), config.elem.pickerDateTimeFormat);\n\n            $(el).calendar(options);\n            observable() && $(el).datepicker('setDate', date.format(config.elem.pickerDateTimeFormat));\n            $(el).blur();\n\n            ko.utils.registerEventHandler(el, 'change', function () {\n                observable(this.value);\n            });\n        }\n    };\n});\n","Amasty_CheckoutCore/js/view/checkout/design/collapsible-steps.js":"define([\n    'jquery',\n    'mage/collapsible',\n    'Magento_Ui/js/modal/modal'\n], function ($) {\n    'use strict';\n\n    $.widget('amasty.checkoutCollapsibleSteps', $.mage.collapsible, {\n        _create: function () {\n            this.createCollapsible();\n            this.trigger = this.element.find(this.options.header);\n        },\n\n        initCollapsible: function () {\n            $(this.element).parent().collapsible({\n                header: '[data-amcheckout-js=\"step-title\"]',\n                content: $(this.element).parent().find('[data-amcheckout-js=\"step-content\"]'),\n                active: true,\n                openedState: '-collapsible -opened',\n                closedState: '-collapsible -closed',\n                icons: {\n                    header: 'amcheckout-icon -plus',\n                    activeHeader: 'amcheckout-icon -minus'\n                },\n                animate: 300\n            });\n        },\n\n        createCollapsible: function () {\n            var checkoutWindow = window;\n\n            if (!$(this.element).parent().data('mageCollapsible')\n                && checkoutWindow.checkoutDesign == 'modern'\n                && (checkoutWindow.checkoutLayout == '1column' || checkoutWindow.checkoutLayout == '2columns')) {\n                this.initCollapsible();\n            }\n        },\n\n        destroyCollapsible: function () {\n            var collapsibleElement = $(this.element).parent();\n\n            if (collapsibleElement.data('mageCollapsible')) {\n                collapsibleElement.collapsible(\"forceActivate\").collapsible(\"destroy\");\n            }\n        }\n    });\n\n    return $.amasty.checkoutCollapsibleSteps;\n});\n","Amasty_CheckoutCore/js/view/checkout/summary/cart-items.js":"/**\n * Checkout cart items view.\n */\ndefine([\n    'ko',\n    'Magento_Checkout/js/model/totals',\n    'Magento_Checkout/js/view/summary/cart-items'\n], function (ko, totals, Component) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Amasty_CheckoutCore/checkout/summary/cart-items'\n        },\n\n        itemsQty: ko.observable(),\n\n        initialize: function () {\n            this._super();\n\n            this.itemsQty(this.getItemsQty());\n            totals.totals.subscribe(function () {\n                this.itemsQty(this.getItemsQty());\n            }, this);\n\n            return this;\n        },\n\n        getItemsQty: function () {\n            return parseFloat(totals.totals().items_qty);\n        }\n    });\n});\n","Amasty_CheckoutCore/js/view/checkout/summary/item/details.js":"define(\n    [\n        'jquery',\n        'Magento_Checkout/js/view/summary/item/details',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Ui/js/modal/confirm',\n        'Amasty_CheckoutCore/js/action/remove-item',\n        'Amasty_CheckoutCore/js/action/update-item',\n        'mage/translate',\n        'ko',\n        'Amasty_CheckoutCore/js/options/configurable',\n        'priceOptions',\n        'mage/validation'\n    ],\n    function ($, Component, quote, confirm, removeItemAction, updateItemAction, $t, ko, configurable, priceOptions) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Amasty_CheckoutCore/checkout/summary/item/details',\n                messages: {\n                    deleteItem: $t('Are you sure you would like to remove this item from the shopping cart?')\n                }\n            },\n\n            /**\n             * @param {Object} item\n             * @return {*}\n             */\n            getItemConfig: function (item) {\n                return this.getPropertyDataFromItem(item, 'amcheckout');\n            },\n\n            /**\n             *\n             * @param {Object} item\n             * @param {Object} propertyName\n             * @return {*}\n             */\n            getPropertyDataFromItem: function (item, propertyName) {\n                var property,\n                    itemDetails,\n                    quoteItem;\n\n                if (item.hasOwnProperty(propertyName)) {\n                    property = item[propertyName];\n                }\n\n                quoteItem = this.getItemFromQuote(item);\n\n                if (quoteItem.hasOwnProperty(propertyName)) {\n                    property = quoteItem[propertyName];\n                }\n\n                if (property) {\n                    this.storage().set('item_details' + item.item_id + propertyName, property);\n\n                    return property;\n                }\n\n                itemDetails = this.storage().get('item_details' + item.item_id + propertyName);\n\n                return itemDetails || false;\n            },\n\n            /**\n             *\n             * @param {Object} item\n             * @return {*}\n             */\n            getItemFromQuote: function (item) {\n                var items = quote.getItems(),\n                    quoteItems = items.filter(function (quoteItem) {\n                        return +quoteItem.item_id === item.item_id;\n                    });\n\n                if (quoteItems.length === 0) {\n                    return false;\n                }\n\n                return quoteItems[0];\n            },\n\n            getConfigurableOptions: function (item) {\n                var itemConfig = this.getItemConfig(item);\n\n                if (itemConfig.hasOwnProperty('configurableAttributes')) {\n                    return itemConfig.configurableAttributes.template;\n                }\n\n                return '';\n            },\n\n            getCustomOptions: function (item, element) {\n                var itemConfig = this.getItemConfig(item),\n                    template = '';\n\n                if (itemConfig.hasOwnProperty('customOptions')) {\n                    template = itemConfig.customOptions.template;\n                }\n\n                $(element).html(template).trigger('contentUpdated');\n            },\n\n            optionsAfterRender: function (item, element) {\n                $(element).one('beforeOpen', this.initOnOpen.bind(this, item));\n            },\n\n            initOnOpen: function (item) {\n                const itemConfig = this.getItemConfig(item);\n\n                if (itemConfig.hasOwnProperty('configurableAttributes')) {\n                    this.preSelectOptions(itemConfig, item);\n                }\n            },\n\n            preSelectOptions: function (itemConfig, item) {\n                const container = item.form;\n\n                container.amcheckoutConfigurable({\n                    spConfig: JSON.parse(itemConfig.configurableAttributes.spConfig),\n                    superSelector: '[data-role=\"product-attributes\"][data-item-id=' + item.item_id + ']' + ' .super-attribute-select'\n                });\n\n                item.preSelect = true;\n            },\n\n            isDecimal: function (item) {\n                var quoteItem = this.getItemFromQuote(item);\n\n                return quoteItem.is_qty_decimal;\n            },\n\n            isEditingAvailable: function (item) {\n                return this.isEditable(item) && !this.isNegotiableQuote();\n            },\n\n            isEditingLocked: function (item) {\n                return this.isEditable(item) && this.isNegotiableQuote();\n            },\n\n            isEditable: function (item) {\n                var itemConfig = this.getItemConfig(item);\n\n                return itemConfig.isEditable;\n            },\n\n            isNegotiableQuote: function () {\n                return window.checkoutConfig.isNegotiableQuote && this.backQuoteUrl();\n            },\n\n            backQuoteUrl: function () {\n                return window.checkoutConfig.backQuoteUrl;\n            },\n\n            initOptions: function (item) {\n                const itemConfig = this.getItemConfig(item),\n                    containerSelector = '[data-role=\"product-attributes\"][data-item-id=' + item.item_id + ']',\n                    container = $(containerSelector);\n\n                if (itemConfig.hasOwnProperty('customOptions')) {\n                    container.priceOptions({\n                        optionConfig: JSON.parse(itemConfig.customOptions.optionConfig)\n                    });\n                }\n\n                item.form = container;\n                item.isUpdated = ko.observable(false);\n                item.validation = container.validation();\n\n                container.find('input, select, textarea').change(function () {\n                    item.isUpdated(true);\n                });\n            },\n\n            updateItem: function (item) {\n                if (item.validation.valid()) {\n                    const itemConfig = this.getItemConfig(item);\n\n                    if (itemConfig.hasOwnProperty('configurableAttributes') && !item.preSelect) {\n                        this.preSelectOptions(itemConfig, item);\n                    }\n\n                    updateItemAction(item.item_id, item.form.serialize());\n                }\n            },\n\n            /**\n             * Automatically updates the order form if it`s changed\n             *\n             * @param {Object} item\n             * @return {*}\n             */\n            updateItemAuto: function (item) {\n                const itemConfig = this.getItemConfig(item);\n                let isNotEmpty = true,\n                    options;\n\n                if (!Object.prototype.hasOwnProperty.call(item, 'form')) {\n                    return;\n                }\n\n                if (itemConfig.hasOwnProperty('configurableAttributes') && !item.preSelect) {\n                    this.preSelectOptions(itemConfig, item);\n                }\n\n                options = item.form.serializeArray();\n                $.each(options, function () {\n                    if (this.value === '') {\n                        isNotEmpty = false;\n                    }\n                });\n\n                if (isNotEmpty) {\n                    item.validation.valid();\n                    updateItemAction(item.item_id, item.form.serialize());\n                }\n            },\n\n            deleteItem: function (item) {\n                confirm({\n                    content: this.messages.deleteItem,\n                    actions: {\n                        confirm: function () {\n                            removeItemAction(item.item_id);\n                        },\n                        always: function (event) {\n                            event.stopImmediatePropagation();\n                        }\n                    }\n                });\n            },\n\n            canShowDeleteButton: function () {\n                return this.isCheckoutItemsEditable() && quote.getItems().length >= 1 && !this.isNegotiableQuote();\n            },\n\n            isCheckoutItemsEditable: function () {\n                return window.checkoutConfig.isCheckoutItemsEditable;\n            }\n        });\n    }\n);\n","Amasty_CheckoutCore/js/view/checkout/summary/item/price/unit_excl_tax.js":"/* eslint-disable dot-notation */\ndefine([\n    'Magento_Weee/js/view/checkout/summary/item/price/row_excl_tax'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getUnitPriceExclTax: function (item) {\n            var unitPriceExclTax = parseFloat(item['row_total']) / parseFloat(item['qty']);\n\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\n                unitPriceExclTax += this.getUnitWeeeTaxExclTax(item);\n            }\n\n            return unitPriceExclTax;\n        },\n\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getUnitWeeeTaxExclTax: function (item) {\n            var totalWeeeTaxExclTaxApplied = 0,\n                weeeTaxAppliedAmounts;\n\n            if (item['weee_tax_applied']) {\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                    totalWeeeTaxExclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount.amount, 0));\n                });\n            }\n\n            return totalWeeeTaxExclTaxApplied;\n        }\n    });\n});\n","Amasty_CheckoutCore/js/view/checkout/summary/item/price/unit_incl_tax.js":"define([\n    'Magento_Weee/js/view/checkout/summary/item/price/row_incl_tax'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        /**\n         * @param {Object} item\n         * @return {Number}\n         */\n        getUnitPriceInclTax: function (item) {\n            var unitPriceInclTax = parseFloat(item['price_incl_tax']);\n\n            if (window.checkoutConfig.getIncludeWeeeFlag) {\n                unitPriceInclTax += this.getUnitWeeeTaxInclTax(item);\n            }\n\n            return unitPriceInclTax;\n        },\n\n        /**\n         * @param {Object}item\n         * @return {Number}\n         */\n        getUnitWeeeTaxInclTax: function (item) {\n            var totalWeeeTaxInclTaxApplied = 0,\n                weeeTaxAppliedAmounts;\n\n            if (item['weee_tax_applied']) {\n                weeeTaxAppliedAmounts = JSON.parse(item['weee_tax_applied']);\n                weeeTaxAppliedAmounts.forEach(function (weeeTaxAppliedAmount) {\n                    totalWeeeTaxInclTaxApplied += parseFloat(Math.max(weeeTaxAppliedAmount['amount_incl_tax'], 0));\n                });\n            }\n\n            return totalWeeeTaxInclTaxApplied;\n        }\n    });\n});\n","Amasty_CheckoutCore/js/view/payment/list.js":"// Checkout payment methods view mixin\ndefine([\n    'Magento_Checkout/js/model/payment-service',\n    'Amasty_CheckoutCore/js/view/utils'\n], function (paymentService, viewUtils) {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            /**\n             * add loader block for payment\n             */\n            isLoading: paymentService.isLoading,\n\n            getGroupTitle: function (newValue) {\n                var paymentMethodLayoutConfig = viewUtils.getBlockLayoutConfig('payment_method');\n\n                if (newValue().index === 'methodGroup'\n                    && paymentMethodLayoutConfig !== null\n                ) {\n                    return paymentMethodLayoutConfig.title;\n                }\n\n                return this._super(newValue);\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/payment/method-renderer/default-mixin.js":"/**\n * By default Magento flow, when payment method selected billing address is updates.\n * And when billing address updates, isPlaceOrderActionAllowed also update.\n * But One Step Checkout optimize billing address KO update. @see onepage.replaceEqualityComparer\n * So we need update isPlaceOrderActionAllowed on payment method change, to emulate default flow.\n * Also we added placeOrderState for Place Order button. Thus, we can flexibly manage its state.\n */\ndefine([\n    'jquery',\n    'ko',\n    'underscore',\n    'Magento_Checkout/js/model/quote',\n    'Amasty_CheckoutCore/js/model/payment/place-order-state',\n    'Amasty_CheckoutCore/js/model/payment/payment-loading'\n], function ($, ko, _, quote, placeOrderState, paymentLoader) {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            initObservable: function () {\n                this._super();\n\n                this.isPlaceOrderActionAllowed = ko.pureComputed({\n                    read: this.isPlaceOrderActionAllowedRead,\n                    write: this.isPlaceOrderActionAllowedWrite,\n                    owner: this\n                });\n\n                return this;\n            },\n\n            /**\n             * Read function for KO computed isPlaceOrderActionAllowed.\n             *\n             * Don't call this function directly.\n             * Use isPlaceOrderActionAllowed().\n             *\n             * @returns {boolean}\n             */\n            isPlaceOrderActionAllowedRead: function () {\n                return quote.billingAddress() !== null && placeOrderState() && !paymentLoader();\n            },\n\n            /**\n             * Write function for KO computed isPlaceOrderActionAllowed.\n             *\n             * Don't call this function directly.\n             * Use isPlaceOrderActionAllowed(value).\n             *\n             * @param {boolean} value\n             * @returns {boolean}\n             */\n            isPlaceOrderActionAllowedWrite: function (value) {\n                return placeOrderState(!!value);\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/payment/method-renderer/in-context/checkout-express-mixin.js":"define([\n    'ko',\n    'underscore',\n    'uiRegistry',\n    'rjsResolver',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/payment/method-list'\n], function (ko, _, registry, onJsLoad, quote, paymentMethods) {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            validationTimeout: 0,\n\n            /**\n             * fix paypal behavior for one step checkout\n             * reactivate button on shipping save\n             */\n            initListeners: function () {\n                this._super();\n                onJsLoad(function () {\n                    var fields = registry.filter(function (module) {\n                        return ko.isObservable(module.required)\n                            && module.required.peek() === true\n                            && ko.isObservable(module.value)\n                            && ko.isObservable(module.visible)\n                            && ko.isObservable(module.disabled);\n                    });\n\n                    paymentMethods.subscribe(this.amDeferredValidation, this);\n                    _.each(fields, function (element) {\n                        element.value.subscribe(function (value) {\n                            if ((value || value === 0 || value === false)\n                                && element.required()\n                                && element.visible()\n                                && !element.disabled()\n                            ) {\n                                this.amDeferredValidation();\n                            }\n                        }.bind(this));\n                    }.bind(this));\n\n                }.bind(this));\n            },\n\n            validate: function () {\n                this._super();\n                clearTimeout(this.validationTimeout);\n            },\n\n            amDeferredValidation: function () {\n                clearTimeout(this.validationTimeout);\n\n                if (quote.paymentMethod() && quote.paymentMethod().method === this.item.method) {\n                    this.validationTimeout = setTimeout(function () {\n                        window.shippingErrorHideIsNotAllowed = true;\n                        this.validate();\n                        delete window.shippingErrorHideIsNotAllowed;\n                    }.bind(this), 200);\n                }\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/payment/method-renderer/braintree/cc-form-mixin.js":"// upgrade Braintree flow for One Step Checkout\ndefine([\n], function () {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            /**\n             * Brantree harcoded disallow order place on initialization.\n             * By default Magento flow, payment method cannot be preselected.\n             * Dnd when payment method selected billing address is updates.\n             * And when billing address updates, isPlaceOrderActionAllowed also update.\n             * But One Step Checkout optimize billing address KO update.\n             */\n            initFormValidationEvents: function () {\n                this._super();\n                this.updateIsPlaceOrderActionAllowed();\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/payment/method-renderer/braintree/paypal-mixin.js":"define([\n    'underscore',\n    'Magento_Checkout/js/model/quote',\n    'Amasty_CheckoutCore/js/model/events'\n], function (_, quote, events) {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            /**\n             * fix braintree paypal behavior for one step checkout\n             */\n            initObservable: function () {\n                var self = this;\n\n                this._super();\n\n                events.onAfterShippingSave(_.debounce(function () {\n                    var method = quote.paymentMethod();\n\n                    if (method && method.method === self.code) {\n                        self.reInitPayPal();\n                    }\n                }, 50));\n\n                return this;\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/shipping-address/list-mixin.js":"/**\n * Change shipping address list view.\n */\ndefine([\n    'ko',\n    'underscore',\n    'Amasty_CheckoutCore/js/model/address-form-state',\n    'Amasty_CheckoutCore/js/model/shipping-registry',\n    'Magento_Customer/js/model/address-list',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/shipping-address/form-popup-state',\n    'Magento_Checkout/js/action/select-shipping-address',\n    'Magento_Checkout/js/checkout-data',\n    'mage/translate',\n    'jquery'\n], function (\n    ko,\n    _,\n    addressFormState,\n    shippingRegistry,\n    addressList,\n    quote,\n    formPopUpState,\n    selectShippingAddress,\n    checkoutData,\n    $t\n) {\n    'use strict';\n\n    var newAddressOption = {\n        /**\n         * Get new address label\n         * @returns {String}\n         */\n        getAddressInline: function () {\n            return $t('New Address');\n        },\n        customerAddressId: null\n    };\n\n    function isAddressNew(address) {\n        return address && (address === newAddressOption || address.getType() === 'new-customer-address');\n    }\n\n    return function (Component) {\n        return Component.extend({\n            defaults: {\n                dropdownTemplate: 'Amasty_CheckoutCore/shipping-address/shipping-address',\n                modules: {\n                    shippingInformationComponent: 'index = ship-to',\n                    shippingAddressComponent: '${ $.parentName }'\n                }\n            },\n\n            initialize: function () {\n                _.bindAll(\n                    this,\n                    'addressOptionsText',\n                    'changeAddress',\n                    'onAddressChange',\n                    'updateAddress',\n                    'cancelAddressEdit'\n                );\n\n                this._super();\n\n                if (this.getVisible()) {\n                    window.isShippingAddressFormOverridden(true);\n                    this.shippingAddressComponent(this.overrideNewShippingAddress);\n                    shippingRegistry.excludedCollectionNames.push('shipping-address-fieldset');\n                }\n\n                return this;\n            },\n\n            initObservable: function () {\n                this._super()\n                    .observe({\n                        /**\n                         * Current dropdown value\n                         */\n                        selectedAddress: quote.shippingAddress(),\n\n                        /**\n                         * On true shows current shipping address information as plain text\n                         */\n                        isAddressDetailsVisible: quote.shippingAddress() != null,\n\n                        /**\n                         * On true shows new address form if isAddressListVisible is also true\n                         */\n                        isAddressFormVisible: false,\n\n                        /**\n                         * On true shows dropdown and new address form\n                         */\n                        isAddressListVisible: !quote.shippingAddress(),\n                    });\n\n                this.initSubscribers();\n\n                return this;\n            },\n\n            /**\n             * Set subscribers to observables\n             */\n            initSubscribers: function () {\n                if (this.getVisible()) {\n                    quote.shippingAddress.subscribe(this.onShippingAddressUpdate, this);\n                    this.selectedAddress.subscribe(this.onAddressChange, this);\n                    this.isAddressFormVisible.subscribe(this.updatePopupState, this);\n                    this.isAddressListVisible.subscribe(this.isShippingFormVisibleUpdate, this);\n                }\n            },\n\n            /**\n             * Modify new shipping address for registered customer functionality.\n             *  Old behavior - popup; new - inline form\n             *\n             * @param {object} shippingComponent\n             */\n            overrideNewShippingAddress: function (shippingComponent) {\n                //override popup functionality\n                shippingComponent.getPopUp = shippingComponent.getPopUpOverride;\n            },\n\n            /**\n             * Override for better compatibility.\n             * Magento_NegotiableQuote compatibility.\n             *\n             * @return {string}\n             */\n            getTemplate: function () {\n                this._super();\n\n                return this.dropdownTemplate;\n            },\n\n            /**\n             * Override to prevent not used functionality render (performance save)\n             */\n            initChildren: function () {\n                return this;\n            },\n\n            /**\n             * Override to prevent not used functionality render (performance save).\n             * This list uses ship-to component instead origin\n             */\n            createRendererComponent: function () {},\n\n            /**\n             * Visible by default is usual variable,\n             * but it can be changed to observable or computed by vendors (amazon)\n             *\n             * @return {boolean}\n             */\n            getVisible: function () {\n                return ko.utils.unwrapObservable(this.visible);\n            },\n\n            /**\n             * Subscriber\n             * updates new shipping address core state\n             * required to suppress address update before save\n             */\n            updatePopupState: function () {\n                if (this.getVisible()) {\n                    formPopUpState.isVisible(this.isAddressListVisible() && this.isAddressFormVisible());\n                }\n            },\n\n            /**\n             * Shipping address subscriber\n             * Close form on shipping address change\n             *\n             * @param {object} newAddress\n             */\n            onShippingAddressUpdate: function (newAddress) {\n                if (newAddress != null) {\n                    this.isAddressDetailsVisible(true);\n                    this.isAddressListVisible(false);\n                }\n            },\n\n            /**\n             * New Address form visibility subscriber\n             */\n            isShippingFormVisibleUpdate: function () {\n                this.updatePopupState();\n\n                if (this.getVisible()) {\n                    addressFormState.isShippingFormVisible(\n                        this.isAddressListVisible()\n                    );\n                }\n            },\n\n            /*\n             * html Select binding methods\n             */\n\n            /**\n             * Options array\n             */\n            addressOptions: ko.pureComputed(function () {\n                var addressOptions = _.clone(addressList()),\n                    newAddressAdded;\n\n                _.find(addressOptions, function (address) {\n                    if (isAddressNew(address)) {\n                        newAddressAdded = true;\n\n                        return true;//break\n                    }\n                });\n\n                if (!newAddressAdded) {\n                    addressOptions.push(newAddressOption);\n                }\n\n                return addressOptions;\n            }),\n\n            /**\n             * For html option text binding\n             *\n             * @param {Object} address\n             * @return {string}\n             */\n            addressOptionsText: function (address) {\n                if (address.getAddressInline) {\n                    return address.getAddressInline();\n                }\n\n                if (isAddressNew(address)) {\n                    return $t('New Address');\n                }\n\n                return this.getCaptionByAddressType(address);\n            },\n\n            /**\n             * @param {Object} address\n             * @returns {*}\n             */\n            getCaptionByAddressType: function (address) {\n                switch (address.getType()) {\n                    case 'gift-registry':\n                        return $t('Recipient Address');\n                    default:\n                        return address.getKey();\n                }\n            },\n\n            /**\n             * Update address action\n             */\n            updateAddress: function () {\n                var canCloseForm = false;\n\n                if (this.selectedAddress() != null) {\n                    if (this.isAddressFormVisible()) {\n                        this.shippingAddressComponent().saveNewAddress();\n                    } else {\n                        selectShippingAddress(this.selectedAddress());\n                        checkoutData.setSelectedShippingAddress(this.selectedAddress().getKey());\n                        canCloseForm = true;\n                    }\n                }\n\n                if (this.shippingAddressComponent().source.get('params.invalid') !== true || canCloseForm === true) {\n                    this.cancelAddressEdit();\n                }\n            },\n\n            /**\n             * Update dropdown selected value. Should same as current shipping address.\n             */\n            updateDropdownAddress: function () {\n                var shippingAddress = quote.shippingAddress(),\n                    list = addressList(),\n                    addressIndex,\n                    selectedAddress;\n\n                selectedAddress = _.find(list, function (address) {\n                    return address === shippingAddress;\n                });\n\n                if (!selectedAddress && isAddressNew(shippingAddress)) {\n                    //Resolve when shipping address and selectedAddress different objects with same value.\n                    addressIndex = _.findIndex(list, function (address) {\n                        return isAddressNew(address);\n                    });\n\n                    if (addressIndex !== -1) {\n                        list[addressIndex] = shippingAddress;\n                        addressList(list);\n                    }\n                }\n\n                this.selectedAddress(shippingAddress);\n            },\n\n            /**\n             * Show address dropdown\n             */\n            changeAddress: function () {\n                this.updateDropdownAddress();\n                this.isAddressListVisible(true);\n                this.isAddressDetailsVisible(false);\n            },\n\n            /**\n             * Cancel address edit action.\n             */\n            cancelAddressEdit: function () {\n                this.updateDropdownAddress();\n                this.isAddressDetailsVisible(true);\n                this.isAddressListVisible(false);\n            },\n\n            /**\n             * On dropdown value change\n             *\n             * @param {Object} address\n             */\n            onAddressChange: function (address) {\n                this.isAddressFormVisible(isAddressNew(address));\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/shipping-address/address-renderer/default-mixin.js":"define([\n    'underscore',\n    'uiRegistry'\n], function (_) {\n    'use strict';\n\n    return function (targetModule) {\n        return targetModule.extend({\n            getCustomAttributeLabel: function (attribute) {\n                if (_.isObject(attribute)\n                    && _.isString(attribute.attribute_code)\n                    && attribute.attribute_code.indexOf('custom_field_') !== -1\n                ) {\n                    return this._super(attribute.value);\n                }\n\n                return this._super();\n            }\n        });\n    };\n});\n","Amasty_CheckoutCore/js/view/summary/sticky-widget.js":"define([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('amasty.stickyWidget', {\n        options: {\n            //selectors\n            parentContainer: '[data-amsticky-js=\"main-container\"]',\n            element: '[data-amsticky-js=\"sticky-element\"]',\n            scrollContentContainer: '[data-amsticky-js=\"scroll-element\"]',\n            stopper: '[data-amsticky-js=\"stopper\"]',\n\n            //sticky options\n            stickyOffset: {\n                top: 0,\n                left: 0\n            },\n            stickyPosition: 'right',\n            stickyClass: '-sticky',\n            disableBreakpoint: 1024\n        },\n\n        _create: function () {\n            var toggleSticky = this.stickyToggle.bind(this),\n                windowGlobal = window;\n\n            if ($(windowGlobal).width() >= this.options.disableBreakpoint) {\n                if ($(this.options.scrollContentContainer).length) {\n                    this.stickyPosition(this.options.stickyPosition);\n                };\n\n                $(windowGlobal).off('scroll', toggleSticky).on('scroll', toggleSticky);\n            }\n\n            $(windowGlobal).on('resize', function () {\n                this.stickyToggle();\n                if ($(windowGlobal).width() >= this.options.disableBreakpoint) {\n                    this.stickyPosition(this.options.stickyPosition);\n                    $(windowGlobal).off('scroll', toggleSticky).on('scroll', toggleSticky);\n                } else {\n                    $(windowGlobal).off('scroll', toggleSticky);\n                }\n            }.bind(this));\n        },\n\n        stickyToggle: function () {\n            var stickyOptions = this.options,\n                parentIsSet = $(stickyOptions.parentContainer).length,\n                parentContainer = (parentIsSet)\n                    ? $(stickyOptions.parentContainer)\n                    : $('body'),\n                parentContainerOffset = parentContainer.offset(),\n                scrollContentIsSet = $(stickyOptions.scrollContentContainer).length,\n                scrollContent = (scrollContentIsSet)\n                    ? $(stickyOptions.scrollContentContainer)\n                    : $('body'),\n                stickyElement = $(stickyOptions.element),\n                stickyIsRight = stickyOptions.stickyPosition == 'right',\n                stickyOffset = stickyOptions.stickyOffset,\n                stickyOffsetLeft = (scrollContentIsSet)\n                    ? scrollContent.offset().left + scrollContent.outerWidth() + stickyOffset.left\n                    : stickyOffset.left,\n                stopperOffset = ($(stickyOptions.stopper).length)\n                    ? $(stickyOptions.stopper).offset()\n                    :   {\n                            top: parentContainerOffset.top + parentContainer.height(),\n                            left: parentContainerOffset.left\n                        },\n                windowScrollTop = $(window).scrollTop();\n\n            if ($(window).width() < stickyOptions.disableBreakpoint) {\n                this.enableMobileLayout();\n\n                return;\n            }\n\n            if (parentContainer.height() <= stickyElement.height()) {\n                this.stickyDisable(stickyElement);\n\n                return;\n            }\n\n            if (stopperOffset.top - stickyElement[0].scrollHeight < windowScrollTop) {\n                if (stickyElement.css('position') != 'absolute') {\n                    stickyElement.css({\n                        position: 'absolute',\n                        top: 'initial',\n                        right: stickyIsRight ? 0 : 'initial',\n                        bottom: parentContainer.height() - (stopperOffset.top - parentContainerOffset.top),\n                        left: stickyIsRight ? 'initial' : 0\n                    });\n                    stickyElement.removeClass(stickyOptions.stickyClass);\n                }\n            } else if (parentContainerOffset.top < windowScrollTop + stickyOffset.top) {\n                if (stickyElement.css('position') != 'fixed') {\n                    stickyElement.css({\n                        position: 'fixed',\n                        top: stickyOffset.top,\n                        right: 'initial',\n                        bottom: 'initial',\n                        left: stickyIsRight ? stickyOffsetLeft : (parentContainerOffset.left + stickyOffset.left)\n                    });\n                    stickyElement.addClass(this.options.stickyClass);\n                }\n            } else {\n                this.stickyDisable(stickyElement);\n            }\n        },\n\n        stickyPosition: function (position) {\n            var stickyElement = $(this.options.element),\n                stickyFloat = (position == 'right') ? 'right' : 'left',\n                scrollContent = $(this.options.scrollContentContainer),\n                scrollContentFloat = (stickyFloat == 'right') ? 'left' : 'right';\n\n            stickyElement.css('float', stickyFloat);\n            scrollContent.css('float', scrollContentFloat);\n        },\n\n        stickyDisable: function (stickyElement) {\n            if (stickyElement.css('position') != 'static') {\n                stickyElement.css({\n                    position: 'static',\n                    top: 'initial',\n                    right: 'initial',\n                    bottom: 'initial',\n                    left: 'initial'\n                });\n                stickyElement.removeClass(this.options.stickyClass);\n            }\n        },\n\n        enableMobileLayout: function () {\n            var stickyElement = $(this.options.element),\n                scrollContent = $(this.options.scrollContentContainer);\n\n            this.stickyDisable(stickyElement);\n            stickyElement.css('float', 'none');\n            if (scrollContent.length) scrollContent.css('float', 'none');\n        }\n    });\n\n    return $.amasty.stickyWidget;\n});\n","Amasty_CheckoutCore/js/view/summary/abstract-total.js":"define([], function () {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            isFullMode: function () {\n                return this.getTotals();\n            }\n        });\n    }\n});","Amasty_CheckoutCore/js/view/summary/cart-items-mixin.js":"define([], function () {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            /**\n             * After Magento 2.2.4 items is not expanded by default.\n             * return true for expanded by default\n             */\n            isItemsBlockExpanded: function () {\n                return true;\n            }\n        });\n    }\n});","Amasty_CheckoutCore/js/view/summary/summary-widget.js":"define([\n    'jquery',\n    'stickyWidget',\n    'checkoutCollapsibleSteps'\n], function ($) {\n    'use strict';\n\n    $.widget('amasty.summaryWidget', {\n        options: {\n            desktopBreakpoint: 1024,\n        },\n\n        _create: function () {\n            if ($(this.element).parents('[data-amcheckout-js=\"main-container\"]').length) {\n                this.summaryByLayout();\n            }\n        },\n\n        summaryByLayout: function () {\n            switch (window.checkoutLayout) {\n                case '1column':\n                    $(this.element).checkoutCollapsibleSteps();\n                    break;\n\n                case '2columns':\n                    this.manageCollapsible();\n                    if (!$(this.element).data('amastyStickyWidget')) {\n                        $(this.element).stickyWidget({\n                            parentContainer: '[data-amcheckout-js=\"main-container\"]',\n                            element: '[data-amcheckout-js=\"sidebar-column\"]',\n                            scrollContentContainer: '[data-amcheckout-js=\"main-column\"]',\n                            stickyOffset: {\n                                top: 0,\n                                left: 60\n                            },\n                            stickyPosition: 'right'\n                        });\n                    }\n                    break;\n\n                default:\n                    break;\n            }\n        },\n\n        manageCollapsible: function () {\n            if ($(window).width() < this.options.desktopBreakpoint) {\n                $(this.element).checkoutCollapsibleSteps();\n            } else {\n                $('[data-amcheckout-js=\"step-container\"]').on(\"dimensionsChanged\", function () {\n                    $(window).trigger('scroll');\n                });\n            }\n\n            $(window).on('resize', function () {\n                if ($(window).width() < this.options.desktopBreakpoint) {\n                    $(this.element).checkoutCollapsibleSteps().checkoutCollapsibleSteps('createCollapsible');\n                } else {\n                    if ($(this.element).data('amastyCheckoutCollapsibleSteps')) {\n                        $(this.element).checkoutCollapsibleSteps('destroyCollapsible');\n                    }\n                }\n            }.bind(this));\n        }\n    });\n\n    return $.amasty.summaryWidget;\n});\n","Amasty_CheckoutCore/vendor/tooltipster/js/tooltipster.min.js":"!function(t,i){\"function\"==typeof define&&define.amd?define([\"jquery\"],function(t){return i(t)}):\"object\"==typeof exports?module.exports=i(require(\"jquery\")):i(jQuery)}(0,function(t){var i={animation:\"fade\",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:[\"sideTip\"],repositionOnScroll:!1,restoration:\"none\",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:\"hover\",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:\"rotate\",zIndex:9999999,styles:{backgroundColor:\"\",textColor:\"\"}},o=\"undefined\"!=typeof window?window:null,e={hasTouchCapability:!(!o||!(\"ontouchstart\"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:function(){if(!o)return!1;var t=(o.document.body||o.document.documentElement).style,i=\"transition\",e=[\"Moz\",\"Webkit\",\"Khtml\",\"O\",\"ms\"];if(\"string\"==typeof t[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<e.length;n++)if(\"string\"==typeof t[e[n]+i])return!0;return!1}(),IE:!1,semVer:\"4.2.8\",window:o},n=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=e};function s(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function r(i,o){var e=!0;return t.each(i,function(t,n){if(void 0===o[t]||i[t]!==o[t])return e=!1,!1}),e}function _(i){var o=i.attr(\"id\"),n=o?e.window.document.getElementById(o):null;return n?n===i[0]:t.contains(e.window.document.body,i[0])}n.prototype={__bridge:function(o,e,n){if(!e[n]){var s=function(){};s.prototype=o;var r=new s;r.__init&&r.__init(e),t.each(o,function(t,o){0!=t.indexOf(\"__\")&&(e[t]?i.debug&&console.log(\"The \"+t+\" method of the \"+n+\" plugin conflicts with another plugin or native methods\"):(e[t]=function(){return r[t].apply(r,Array.prototype.slice.apply(arguments))},e[t].bridged=r))}),e[n]=r}return this},__setWindow:function(t){return e.window=t,this},_getRuler:function(t){return new s(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(i){if(\"string\"==typeof i){var o=i,e=null;return o.indexOf(\".\")>0?e=this.__plugins[o]:t.each(this.__plugins,function(t,i){if(i.name.substring(i.name.length-o.length-1)==\".\"+o)return e=i,!1}),e}if(i.name.indexOf(\".\")<0)throw new Error(\"Plugins must be namespaced\");return this.__plugins[i.name]=i,i.core&&this.__bridge(i.core,this,i.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return\"string\"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(i){var o=[];return t(i||\".tooltipstered\").each(function(){var i=t(this),e=i.data(\"tooltipster-ns\");e&&t.each(e,function(t,e){o.push(i.data(e))})}),o},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(i){return t((i?i+\" \":\"\")+\".tooltipstered\").toArray()},setDefaults:function(o){return t.extend(i,o),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new n,t.Tooltipster=function(i,o){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace=\"tooltipster-\"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state=\"closed\",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(i,o)},t.Tooltipster.prototype={__init:function(o,n){var s=this;if(s._$origin=t(o),s.__options=t.extend(!0,{},i,n),s.__optionsFormat(),!e.IE||e.IE>=s.__options.IEmin){var r=null;if(void 0===s._$origin.data(\"tooltipster-initialTitle\")&&(void 0===(r=s._$origin.attr(\"title\"))&&(r=null),s._$origin.data(\"tooltipster-initialTitle\",r)),null!==s.__options.content)s.__contentSet(s.__options.content);else{var _,a=s._$origin.attr(\"data-tooltip-content\");a&&(_=t(a)),_&&_[0]?s.__contentSet(_.first()):s.__contentSet(r)}s._$origin.removeAttr(\"title\").addClass(\"tooltipstered\"),s.__prepareOrigin(),s.__prepareGC(),t.each(s.__options.plugins,function(t,i){s._plug(i)}),e.hasTouchCapability&&t(e.window.document.body).on(\"touchmove.\"+s.__namespace+\"-triggerOpen\",function(t){s._touchRecordEvent(t)}),s._on(\"created\",function(){s.__prepareTooltip()})._on(\"repositioned\",function(t){s.__lastPosition=t.position})}else s.__options.disabled=!0},__contentInsert:function(){var t=this._$tooltip.find(\".tooltipster-content\"),i=this.__Content;return this._trigger({type:\"format\",content:this.__Content,format:function(t){i=t}}),this.__options.functionFormat&&(i=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),\"string\"!=typeof i||this.__options.contentAsHTML?t.empty().append(i):t.text(i),this},__contentSet:function(i){return i instanceof t&&this.__options.contentCloning&&(i=i.clone(!0)),this.__Content=i,this._trigger({type:\"updated\",content:i}),this},__destroyError:function(){throw new Error(\"This tooltip has been destroyed and cannot execute your method call.\")},__geometry:function(){var i=this._$origin,o=this._$origin.is(\"area\");if(o){var n=this._$origin.parent().attr(\"name\");i=t('img[usemap=\"#'+n+'\"]')}var s=i[0].getBoundingClientRect(),r=t(e.window.document),_=t(e.window),a=i,l={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:e.window.scrollX||e.window.document.documentElement.scrollLeft,top:e.window.scrollY||e.window.document.documentElement.scrollTop},size:{height:_.height(),width:_.width()}},origin:{fixedLineage:!1,offset:{},size:{height:s.bottom-s.top,width:s.right-s.left},usemapImage:o?i[0]:null,windowOffset:{bottom:s.bottom,left:s.left,right:s.right,top:s.top}}};if(o){var p=this._$origin.attr(\"shape\"),c=this._$origin.attr(\"coords\");if(c&&(c=c.split(\",\"),t.map(c,function(t,i){c[i]=parseInt(t)})),\"default\"!=p)switch(p){case\"circle\":var h=c[0],d=c[1],u=c[2],g=d-u,f=h-u;l.origin.size.height=2*u,l.origin.size.width=l.origin.size.height,l.origin.windowOffset.left+=f,l.origin.windowOffset.top+=g;break;case\"rect\":var m=c[0],w=c[1],v=c[2],y=c[3];l.origin.size.height=y-w,l.origin.size.width=v-m,l.origin.windowOffset.left+=m,l.origin.windowOffset.top+=w;break;case\"poly\":for(var b=0,$=0,C=0,O=0,T=\"even\",z=0;z<c.length;z++){var E=c[z];\"even\"==T?(E>C&&(C=E,0===z&&(b=C)),E<b&&(b=E),T=\"odd\"):(E>O&&(O=E,1==z&&($=O)),E<$&&($=E),T=\"even\")}l.origin.size.height=O-$,l.origin.size.width=C-b,l.origin.windowOffset.left+=b,l.origin.windowOffset.top+=$}}for(this._trigger({type:\"geometry\",edit:function(t){l.origin.size.height=t.height,l.origin.windowOffset.left=t.left,l.origin.windowOffset.top=t.top,l.origin.size.width=t.width},geometry:{height:l.origin.size.height,left:l.origin.windowOffset.left,top:l.origin.windowOffset.top,width:l.origin.size.width}}),l.origin.windowOffset.right=l.origin.windowOffset.left+l.origin.size.width,l.origin.windowOffset.bottom=l.origin.windowOffset.top+l.origin.size.height,l.origin.offset.left=l.origin.windowOffset.left+l.window.scroll.left,l.origin.offset.top=l.origin.windowOffset.top+l.window.scroll.top,l.origin.offset.bottom=l.origin.offset.top+l.origin.size.height,l.origin.offset.right=l.origin.offset.left+l.origin.size.width,l.available.document={bottom:{height:l.document.size.height-l.origin.offset.bottom,width:l.document.size.width},left:{height:l.document.size.height,width:l.origin.offset.left},right:{height:l.document.size.height,width:l.document.size.width-l.origin.offset.right},top:{height:l.origin.offset.top,width:l.document.size.width}},l.available.window={bottom:{height:Math.max(l.window.size.height-Math.max(l.origin.windowOffset.bottom,0),0),width:l.window.size.width},left:{height:l.window.size.height,width:Math.max(l.origin.windowOffset.left,0)},right:{height:l.window.size.height,width:Math.max(l.window.size.width-Math.max(l.origin.windowOffset.right,0),0)},top:{height:Math.max(l.origin.windowOffset.top,0),width:l.window.size.width}};\"html\"!=a[0].tagName.toLowerCase();){if(\"fixed\"==a.css(\"position\")){l.origin.fixedLineage=!0;break}a=a.parent()}return l},__optionsFormat:function(){return\"number\"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),\"number\"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),\"number\"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),\"string\"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(e.window.document.body):\"string\"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),\"hover\"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):\"click\"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger(\"options\"),this},__prepareGC:function(){var i=this;return i.__options.selfDestruction?i.__garbageCollector=setInterval(function(){var o=(new Date).getTime();i.__touchEvents=t.grep(i.__touchEvents,function(t,i){return o-t.time>6e4}),_(i._$origin)||i.close(function(){i.destroy()})},2e4):clearInterval(i.__garbageCollector),i},__prepareOrigin:function(){var t=this;if(t._$origin.off(\".\"+t.__namespace+\"-triggerOpen\"),e.hasTouchCapability&&t._$origin.on(\"touchstart.\"+t.__namespace+\"-triggerOpen touchend.\"+t.__namespace+\"-triggerOpen touchcancel.\"+t.__namespace+\"-triggerOpen\",function(i){t._touchRecordEvent(i)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&e.hasTouchCapability){var i=\"\";t.__options.triggerOpen.click&&(i+=\"click.\"+t.__namespace+\"-triggerOpen \"),t.__options.triggerOpen.tap&&e.hasTouchCapability&&(i+=\"touchend.\"+t.__namespace+\"-triggerOpen\"),t._$origin.on(i,function(i){t._touchIsMeaningfulEvent(i)&&t._open(i)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&e.hasTouchCapability){i=\"\";t.__options.triggerOpen.mouseenter&&(i+=\"mouseenter.\"+t.__namespace+\"-triggerOpen \"),t.__options.triggerOpen.touchstart&&e.hasTouchCapability&&(i+=\"touchstart.\"+t.__namespace+\"-triggerOpen\"),t._$origin.on(i,function(i){!t._touchIsTouchEvent(i)&&t._touchIsEmulatedEvent(i)||(t.__pointerIsOverOrigin=!0,t._openShortly(i))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&e.hasTouchCapability){i=\"\";t.__options.triggerClose.mouseleave&&(i+=\"mouseleave.\"+t.__namespace+\"-triggerOpen \"),t.__options.triggerClose.touchleave&&e.hasTouchCapability&&(i+=\"touchend.\"+t.__namespace+\"-triggerOpen touchcancel.\"+t.__namespace+\"-triggerOpen\"),t._$origin.on(i,function(i){t._touchIsMeaningfulEvent(i)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var i=this,o=i.__options.interactive?\"auto\":\"\";return i._$tooltip.attr(\"id\",i.__namespace).css({\"pointer-events\":o,zIndex:i.__options.zIndex}),t.each(i.__previousThemes,function(t,o){i._$tooltip.removeClass(o)}),t.each(i.__options.theme,function(t,o){i._$tooltip.addClass(o)}),i.__previousThemes=t.merge([],i.__options.theme),i},__scrollHandler:function(i){if(this.__options.triggerClose.scroll)this._close(i);else if(_(this._$origin)&&_(this._$tooltip)){var o=null;if(i.target===e.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(i);else{o=this.__geometry();var n=!1;if(\"fixed\"!=this._$origin.css(\"position\")&&this.__$originParents.each(function(i,e){var s=t(e),r=s.css(\"overflow-x\"),_=s.css(\"overflow-y\");if(\"visible\"!=r||\"visible\"!=_){var a=e.getBoundingClientRect();if(\"visible\"!=r&&(o.origin.windowOffset.left<a.left||o.origin.windowOffset.right>a.right))return n=!0,!1;if(\"visible\"!=_&&(o.origin.windowOffset.top<a.top||o.origin.windowOffset.bottom>a.bottom))return n=!0,!1}if(\"fixed\"==s.css(\"position\"))return!1}),n)this._$tooltip.css(\"visibility\",\"hidden\");else if(this._$tooltip.css(\"visibility\",\"visible\"),this.__options.repositionOnScroll)this.reposition(i);else{var s=o.origin.offset.left-this.__Geometry.origin.offset.left,r=o.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+s,top:this.__lastPosition.coord.top+r})}}this._trigger({type:\"scroll\",event:i,geo:o})}return this},__stateSet:function(t){return this.__state=t,this._trigger({type:\"state\",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,i){clearTimeout(i)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,i=t._$tooltip.find(\".tooltipster-content\");return t.__options.trackTooltip&&(t.__contentBcr=i[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(_(t._$origin)&&_(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),e=!1;r(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?r(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(e=!0):r(o.origin.offset,t.__Geometry.origin.offset)&&(e=!0)),e||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var n=i[0].getBoundingClientRect();n.height===t.__contentBcr.height&&n.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=n)}}else t._close()},t.__options.trackerInterval),t},_close:function(i,o,n){var s=this,r=!0;if(s._trigger({type:\"close\",event:i,stop:function(){r=!1}}),r||n){o&&s.__callbacks.close.push(o),s.__callbacks.open=[],s.__timeoutsClear();var _=function(){t.each(s.__callbacks.close,function(t,o){o.call(s,s,{event:i,origin:s._$origin[0]})}),s.__callbacks.close=[]};if(\"closed\"!=s.__state){var a=!0,l=(new Date).getTime()+s.__options.animationDuration[1];if(\"disappearing\"==s.__state&&l>s.__closingTime&&s.__options.animationDuration[1]>0&&(a=!1),a){s.__closingTime=l,\"disappearing\"!=s.__state&&s.__stateSet(\"disappearing\");var p=function(){clearInterval(s.__tracker),s._trigger({type:\"closing\",event:i}),s._$tooltip.off(\".\"+s.__namespace+\"-triggerClose\").removeClass(\"tooltipster-dying\"),t(e.window).off(\".\"+s.__namespace+\"-triggerClose\"),s.__$originParents.each(function(i,o){t(o).off(\"scroll.\"+s.__namespace+\"-triggerClose\")}),s.__$originParents=null,t(e.window.document.body).off(\".\"+s.__namespace+\"-triggerClose\"),s._$origin.off(\".\"+s.__namespace+\"-triggerClose\"),s._off(\"dismissable\"),s.__stateSet(\"closed\"),s._trigger({type:\"after\",event:i}),s.__options.functionAfter&&s.__options.functionAfter.call(s,s,{event:i,origin:s._$origin[0]}),_()};e.hasTransitions?(s._$tooltip.css({\"-moz-animation-duration\":s.__options.animationDuration[1]+\"ms\",\"-ms-animation-duration\":s.__options.animationDuration[1]+\"ms\",\"-o-animation-duration\":s.__options.animationDuration[1]+\"ms\",\"-webkit-animation-duration\":s.__options.animationDuration[1]+\"ms\",\"animation-duration\":s.__options.animationDuration[1]+\"ms\",\"transition-duration\":s.__options.animationDuration[1]+\"ms\"}),s._$tooltip.clearQueue().removeClass(\"tooltipster-show\").addClass(\"tooltipster-dying\"),s.__options.animationDuration[1]>0&&s._$tooltip.delay(s.__options.animationDuration[1]),s._$tooltip.queue(p)):s._$tooltip.stop().fadeOut(s.__options.animationDuration[1],p)}}else _()}return s},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(i,o){var n=this;if(!n.__destroying&&_(n._$origin)&&n.__enabled){var s=!0;if(\"closed\"==n.__state&&(n._trigger({type:\"before\",event:i,stop:function(){s=!1}}),s&&n.__options.functionBefore&&(s=n.__options.functionBefore.call(n,n,{event:i,origin:n._$origin[0]}))),!1!==s&&null!==n.__Content){o&&n.__callbacks.open.push(o),n.__callbacks.close=[],n.__timeoutsClear();var r,a=function(){\"stable\"!=n.__state&&n.__stateSet(\"stable\"),t.each(n.__callbacks.open,function(t,i){i.call(n,n,{origin:n._$origin[0],tooltip:n._$tooltip[0]})}),n.__callbacks.open=[]};if(\"closed\"!==n.__state)r=0,\"disappearing\"===n.__state?(n.__stateSet(\"appearing\"),e.hasTransitions?(n._$tooltip.clearQueue().removeClass(\"tooltipster-dying\").addClass(\"tooltipster-show\"),n.__options.animationDuration[0]>0&&n._$tooltip.delay(n.__options.animationDuration[0]),n._$tooltip.queue(a)):n._$tooltip.stop().fadeIn(a)):\"stable\"==n.__state&&a();else{if(n.__stateSet(\"appearing\"),r=n.__options.animationDuration[0],n.__contentInsert(),n.reposition(i,!0),e.hasTransitions?(n._$tooltip.addClass(\"tooltipster-\"+n.__options.animation).addClass(\"tooltipster-initial\").css({\"-moz-animation-duration\":n.__options.animationDuration[0]+\"ms\",\"-ms-animation-duration\":n.__options.animationDuration[0]+\"ms\",\"-o-animation-duration\":n.__options.animationDuration[0]+\"ms\",\"-webkit-animation-duration\":n.__options.animationDuration[0]+\"ms\",\"animation-duration\":n.__options.animationDuration[0]+\"ms\",\"transition-duration\":n.__options.animationDuration[0]+\"ms\"}),setTimeout(function(){\"closed\"!=n.__state&&(n._$tooltip.addClass(\"tooltipster-show\").removeClass(\"tooltipster-initial\"),n.__options.animationDuration[0]>0&&n._$tooltip.delay(n.__options.animationDuration[0]),n._$tooltip.queue(a))},0)):n._$tooltip.css(\"display\",\"none\").fadeIn(n.__options.animationDuration[0],a),n.__trackerStart(),t(e.window).on(\"resize.\"+n.__namespace+\"-triggerClose\",function(i){var o=t(document.activeElement);(o.is(\"input\")||o.is(\"textarea\"))&&t.contains(n._$tooltip[0],o[0])||n.reposition(i)}).on(\"scroll.\"+n.__namespace+\"-triggerClose\",function(t){n.__scrollHandler(t)}),n.__$originParents=n._$origin.parents(),n.__$originParents.each(function(i,o){t(o).on(\"scroll.\"+n.__namespace+\"-triggerClose\",function(t){n.__scrollHandler(t)})}),n.__options.triggerClose.mouseleave||n.__options.triggerClose.touchleave&&e.hasTouchCapability){n._on(\"dismissable\",function(t){t.dismissable?t.delay?(h=setTimeout(function(){n._close(t.event)},t.delay),n.__timeouts.close.push(h)):n._close(t):clearTimeout(h)});var l=n._$origin,p=\"\",c=\"\",h=null;n.__options.interactive&&(l=l.add(n._$tooltip)),n.__options.triggerClose.mouseleave&&(p+=\"mouseenter.\"+n.__namespace+\"-triggerClose \",c+=\"mouseleave.\"+n.__namespace+\"-triggerClose \"),n.__options.triggerClose.touchleave&&e.hasTouchCapability&&(p+=\"touchstart.\"+n.__namespace+\"-triggerClose\",c+=\"touchend.\"+n.__namespace+\"-triggerClose touchcancel.\"+n.__namespace+\"-triggerClose\"),l.on(c,function(t){if(n._touchIsTouchEvent(t)||!n._touchIsEmulatedEvent(t)){var i=\"mouseleave\"==t.type?n.__options.delay:n.__options.delayTouch;n._trigger({delay:i[1],dismissable:!0,event:t,type:\"dismissable\"})}}).on(p,function(t){!n._touchIsTouchEvent(t)&&n._touchIsEmulatedEvent(t)||n._trigger({dismissable:!1,event:t,type:\"dismissable\"})})}n.__options.triggerClose.originClick&&n._$origin.on(\"click.\"+n.__namespace+\"-triggerClose\",function(t){n._touchIsTouchEvent(t)||n._touchIsEmulatedEvent(t)||n._close(t)}),(n.__options.triggerClose.click||n.__options.triggerClose.tap&&e.hasTouchCapability)&&setTimeout(function(){if(\"closed\"!=n.__state){var i=\"\",o=t(e.window.document.body);n.__options.triggerClose.click&&(i+=\"click.\"+n.__namespace+\"-triggerClose \"),n.__options.triggerClose.tap&&e.hasTouchCapability&&(i+=\"touchend.\"+n.__namespace+\"-triggerClose\"),o.on(i,function(i){n._touchIsMeaningfulEvent(i)&&(n._touchRecordEvent(i),n.__options.interactive&&t.contains(n._$tooltip[0],i.target)||n._close(i))}),n.__options.triggerClose.tap&&e.hasTouchCapability&&o.on(\"touchstart.\"+n.__namespace+\"-triggerClose\",function(t){n._touchRecordEvent(t)})}},0),n._trigger(\"ready\"),n.__options.functionReady&&n.__options.functionReady.call(n,n,{origin:n._$origin[0],tooltip:n._$tooltip[0]})}if(n.__options.timer>0){h=setTimeout(function(){n._close()},n.__options.timer+r);n.__timeouts.close.push(h)}}}return n},_openShortly:function(t){var i=this,o=!0;if(\"stable\"!=i.__state&&\"appearing\"!=i.__state&&!i.__timeouts.open&&(i._trigger({type:\"start\",event:t,stop:function(){o=!1}}),o)){var e=0==t.type.indexOf(\"touch\")?i.__options.delayTouch:i.__options.delay;e[0]?i.__timeouts.open=setTimeout(function(){i.__timeouts.open=null,i.__pointerIsOverOrigin&&i._touchIsMeaningfulEvent(t)?(i._trigger(\"startend\"),i._open(t)):i._trigger(\"startcancel\")},e[0]):(i._trigger(\"startend\"),i._open(t))}return i},_optionsExtract:function(i,o){var e=this,n=t.extend(!0,{},o),s=e.__options[i];return s||(s={},t.each(o,function(t,i){var o=e.__options[t];void 0!==o&&(s[t]=o)})),t.each(n,function(i,o){void 0!==s[i]&&(\"object\"!=typeof o||o instanceof Array||null==o||\"object\"!=typeof s[i]||s[i]instanceof Array||null==s[i]?n[i]=s[i]:t.extend(n[i],s[i]))}),n},_plug:function(i){var o=t.tooltipster._plugin(i);if(!o)throw new Error('The \"'+i+'\" plugin is not defined');return o.instance&&t.tooltipster.__bridge(o.instance,this,o.name),this},_touchIsEmulatedEvent:function(t){for(var i=!1,o=(new Date).getTime(),e=this.__touchEvents.length-1;e>=0;e--){var n=this.__touchEvents[e];if(!(o-n.time<500))break;n.target===t.target&&(i=!0)}return i},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf(\"touch\")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var i=!1,o=this.__touchEvents.length-1;o>=0;o--){var e=this.__touchEvents[o];if(\"touchmove\"==e.type){i=!0;break}if(\"touchstart\"==e.type&&t===e.target)break}return i},_trigger:function(){var i=Array.prototype.slice.apply(arguments);return\"string\"==typeof i[0]&&(i[0]={type:i[0]}),i[0].instance=this,i[0].origin=this._$origin?this._$origin[0]:null,i[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,i),t.tooltipster._trigger.apply(t.tooltipster,i),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,i),this},_unplug:function(i){var o=this;if(o[i]){var e=t.tooltipster._plugin(i);e.instance&&t.each(e.instance,function(t,e){o[t]&&o[t].bridged===o[i]&&delete o[t]}),o[i].__destroy&&o[i].__destroy(),delete o[i]}return o},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var i=this;if(void 0===t)return i.__Content;if(i.__destroyed)i.__destroyError();else if(i.__contentSet(t),null!==i.__Content){if(\"closed\"!==i.__state&&(i.__contentInsert(),i.reposition(),i.__options.updateAnimation))if(e.hasTransitions){var o=i.__options.updateAnimation;i._$tooltip.addClass(\"tooltipster-update-\"+o),setTimeout(function(){\"closed\"!=i.__state&&i._$tooltip.removeClass(\"tooltipster-update-\"+o)},1e3)}else i._$tooltip.fadeTo(200,.5,function(){\"closed\"!=i.__state&&i._$tooltip.fadeTo(200,1)})}else i._close();return i},destroy:function(){var i=this;if(i.__destroyed)i.__destroyError();else{\"closed\"!=i.__state?i.option(\"animationDuration\",0)._close(null,null,!0):i.__timeoutsClear(),i._trigger(\"destroy\"),i.__destroyed=!0,i._$origin.removeData(i.__namespace).off(\".\"+i.__namespace+\"-triggerOpen\"),t(e.window.document.body).off(\".\"+i.__namespace+\"-triggerOpen\");var o=i._$origin.data(\"tooltipster-ns\");if(o)if(1===o.length){var n=null;\"previous\"==i.__options.restoration?n=i._$origin.data(\"tooltipster-initialTitle\"):\"current\"==i.__options.restoration&&(n=\"string\"==typeof i.__Content?i.__Content:t(\"<div></div>\").append(i.__Content).html()),n&&i._$origin.attr(\"title\",n),i._$origin.removeClass(\"tooltipstered\"),i._$origin.removeData(\"tooltipster-ns\").removeData(\"tooltipster-initialTitle\")}else o=t.grep(o,function(t,o){return t!==i.__namespace}),i._$origin.data(\"tooltipster-ns\",o);i._trigger(\"destroyed\"),i._off(),i.off(),i.__Content=null,i.__$emitterPrivate=null,i.__$emitterPublic=null,i.__options.parent=null,i._$origin=null,i._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,o){return i!==t}),clearInterval(i.__garbageCollector)}return i},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(i,o){return void 0===o?this.__options[i]:(this.__destroyed?this.__destroyError():(this.__options[i]=o,this.__optionsFormat(),t.inArray(i,[\"trigger\",\"triggerClose\",\"triggerOpen\"])>=0&&this.__prepareOrigin(),\"selfDestruction\"===i&&this.__prepareGC()),this)},reposition:function(t,i){return this.__destroyed?this.__destroyError():\"closed\"!=this.__state&&_(this._$origin)&&(i||_(this._$tooltip))&&(i||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:\"reposition\",event:t,helper:{geo:this.__Geometry}})),this},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:\"closed\"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var o=Array.prototype.slice.apply(arguments),e=\"You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.\";if(0===this.length)return this;if(\"string\"==typeof o[0]){var n=\"#*$~&\";return this.each(function(){var i=t(this).data(\"tooltipster-ns\"),s=i?t(this).data(i[0]):null;if(!s)throw new Error(\"You called Tooltipster's \\\"\"+o[0]+'\" method on an uninitialized element');if(\"function\"!=typeof s[o[0]])throw new Error('Unknown method \"'+o[0]+'\"');this.length>1&&\"content\"==o[0]&&(o[1]instanceof t||\"object\"==typeof o[1]&&null!=o[1]&&o[1].tagName)&&!s.__options.contentCloning&&s.__options.debug&&console.log(e);var r=s[o[0]](o[1],o[2]);if(r!==s||\"instance\"===o[0])return n=r,!1}),\"#*$~&\"!==n?n:this}t.tooltipster.__instancesLatestArr=[];var s=o[0]&&void 0!==o[0].multiple,r=s&&o[0].multiple||!s&&i.multiple,_=o[0]&&void 0!==o[0].content,a=_&&o[0].content||!_&&i.content,l=o[0]&&void 0!==o[0].contentCloning,p=l&&o[0].contentCloning||!l&&i.contentCloning,c=o[0]&&void 0!==o[0].debug,h=c&&o[0].debug||!c&&i.debug;return this.length>1&&(a instanceof t||\"object\"==typeof a&&null!=a&&a.tagName)&&!p&&h&&console.log(e),this.each(function(){var i=!1,e=t(this),n=e.data(\"tooltipster-ns\"),s=null;n?r?i=!0:h&&(console.log(\"Tooltipster: one or more tooltips are already attached to the element below. Ignoring.\"),console.log(this)):i=!0,i&&(s=new t.Tooltipster(this,o[0]),n||(n=[]),n.push(s.__namespace),e.data(\"tooltipster-ns\",n),e.data(s.__namespace,s),s.__options.functionInit&&s.__options.functionInit.call(s,s,{origin:this}),s._trigger(\"init\")),t.tooltipster.__instancesLatestArr.push(s)}),this},s.prototype={__init:function(i){this.__$tooltip=i,this.__$tooltip.css({left:0,overflow:\"hidden\",position:\"absolute\",top:0}).find(\".tooltipster-content\").css(\"overflow\",\"auto\"),this.$container=t('<div class=\"tooltipster-ruler\"></div>').append(this.__$tooltip).appendTo(e.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,i){return this.constraints={width:t,height:i},this.__$tooltip.css({display:\"block\",height:\"\",overflow:\"auto\",width:t}),this},destroy:function(){this.__$tooltip.detach().find(\".tooltipster-content\").css({display:\"\",overflow:\"\"}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:\"\",height:\"\",overflow:\"visible\",width:\"\"}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),i={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var o=this.__$tooltip.find(\".tooltipster-content\"),n=this.__$tooltip.outerHeight(),s=o[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&s.width>=o[0].scrollWidth-1};i.fits=r.height&&r.width}return e.IE&&e.IE<=11&&i.size.width!==e.window.document.documentElement.clientWidth&&(i.size.width=Math.ceil(i.size.width)+1),i}};var a=navigator.userAgent.toLowerCase();-1!=a.indexOf(\"msie\")?e.IE=parseInt(a.split(\"msie\")[1]):-1!==a.toLowerCase().indexOf(\"trident\")&&-1!==a.indexOf(\" rv:11\")?e.IE=11:-1!=a.toLowerCase().indexOf(\"edge/\")&&(e.IE=parseInt(a.toLowerCase().split(\"edge/\")[1]));return t.tooltipster._plugin({name:\"tooltipster.sideTip\",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:\"top\",viewportAware:!0,defaultStyles:{backgroundColor:\"#fff\",textColor:\"#000\"}}},__init:function(t){var i=this;i.__instance=t,i.__namespace=\"tooltipster-sideTip-\"+Math.round(1e6*Math.random()),i.__previousState=\"closed\",i.__options,i.__optionsFormat(),i.__instance._on(\"state.\"+i.__namespace,function(t){\"closed\"==t.state?i.__close():\"appearing\"==t.state&&\"closed\"==i.__previousState&&i.__create(),i.__previousState=t.state}),i.__instance._on(\"options.\"+i.__namespace,function(){i.__optionsFormat()}),i.__instance._on(\"reposition.\"+i.__namespace,function(t){i.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var i=this.__instance.__options.styles,o=t('<div class=\"tooltipster-base tooltipster-sidetip\"><div class=\"tooltipster-box\"><div class=\"tooltipster-content\"></div></div><div class=\"tooltipster-arrow\"><div class=\"tooltipster-arrow-uncropped\"><div class=\"tooltipster-arrow-border\"></div><div class=\"tooltipster-arrow-background\"></div></div></div></div>');o.find(\".tooltipster-box\").css({color:i.textColor?i.textColor:this.__options.defaultStyles.textColor,backgroundColor:i.backgroundColor?i.backgroundColor:this.__options.defaultStyles.backgroundColor}),o.find(\".tooltipster-arrow-border\").css({backgroundColor:i.backgroundColor?i.backgroundColor:this.__options.defaultStyles.backgroundColor}),this.__options.arrow||o.find(\".tooltipster-box\").css(\"margin\",0).end().find(\".tooltipster-arrow\").hide(),this.__options.minWidth&&o.css(\"min-width\",this.__options.minWidth+\"px\"),this.__options.maxWidth&&o.css(\"max-width\",this.__options.maxWidth+\"px\"),this.__instance._$tooltip=o,this.__instance._trigger(\"created\")},__destroy:function(){this.__instance._off(\".\"+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract(\"tooltipster.sideTip\",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),\"object\"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1])),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]},\"string\"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:\"bottom\",right:\"left\",bottom:\"top\",left:\"right\"}[this.__options.side]],\"left\"==this.__options.side[0]||\"right\"==this.__options.side[0]?this.__options.side.push(\"top\",\"bottom\"):this.__options.side.push(\"right\",\"left\")}6===t.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(i,o){var e,n=this,s=n.__targetFind(o),r=[];n.__instance._$tooltip.detach();var _=n.__instance._$tooltip.clone(),a=t.tooltipster._getRuler(_),l=!1,p=n.__instance.option(\"animation\");switch(p&&_.removeClass(\"tooltipster-\"+p),t.each([\"window\",\"document\"],function(e,p){var c=null;if(n.__instance._trigger({container:p,helper:o,satisfied:l,takeTest:function(t){c=t},results:r,type:\"positionTest\"}),1==c||0!=c&&0==l&&(\"window\"!=p||n.__options.viewportAware))for(e=0;e<n.__options.side.length;e++){var h={horizontal:0,vertical:0},d=n.__options.side[e];\"top\"==d||\"bottom\"==d?h.vertical=n.__options.distance[d]:h.horizontal=n.__options.distance[d],n.__sideChange(_,d),t.each([\"natural\",\"constrained\"],function(t,e){if(c=null,n.__instance._trigger({container:p,event:i,helper:o,mode:e,results:r,satisfied:l,side:d,takeTest:function(t){c=t},type:\"positionTest\"}),1==c||0!=c&&0==l){var _={container:p,distance:h,fits:null,mode:e,outerSize:null,side:d,size:null,target:s[d],whole:null},u=(\"natural\"==e?a.free():a.constrain(o.geo.available[p][d].width-h.horizontal,o.geo.available[p][d].height-h.vertical)).measure();if(_.size=u.size,_.outerSize={height:u.size.height+h.vertical,width:u.size.width+h.horizontal},\"natural\"==e?o.geo.available[p][d].width>=_.outerSize.width&&o.geo.available[p][d].height>=_.outerSize.height?_.fits=!0:_.fits=!1:_.fits=u.fits,\"window\"==p&&(_.fits?_.whole=\"top\"==d||\"bottom\"==d?o.geo.origin.windowOffset.right>=n.__options.minIntersection&&o.geo.window.size.width-o.geo.origin.windowOffset.left>=n.__options.minIntersection:o.geo.origin.windowOffset.bottom>=n.__options.minIntersection&&o.geo.window.size.height-o.geo.origin.windowOffset.top>=n.__options.minIntersection:_.whole=!1),r.push(_),_.whole)l=!0;else if(\"natural\"==_.mode&&(_.fits||_.size.width<=o.geo.available[p][d].width))return!1}})}}),n.__instance._trigger({edit:function(t){r=t},event:i,helper:o,results:r,type:\"positionTested\"}),r.sort(function(t,i){return t.whole&&!i.whole?-1:!t.whole&&i.whole?1:t.whole&&i.whole?(o=n.__options.side.indexOf(t.side))<(e=n.__options.side.indexOf(i.side))?-1:o>e?1:\"natural\"==t.mode?-1:1:t.fits&&!i.fits?-1:!t.fits&&i.fits?1:t.fits&&i.fits?(o=n.__options.side.indexOf(t.side))<(e=n.__options.side.indexOf(i.side))?-1:o>e?1:\"natural\"==t.mode?-1:1:\"document\"==t.container&&\"bottom\"==t.side&&\"natural\"==t.mode?-1:1;var o,e}),(e=r[0]).coord={},e.side){case\"left\":case\"right\":e.coord.top=Math.floor(e.target-e.size.height/2);break;case\"bottom\":case\"top\":e.coord.left=Math.floor(e.target-e.size.width/2)}switch(e.side){case\"left\":e.coord.left=o.geo.origin.windowOffset.left-e.outerSize.width;break;case\"right\":e.coord.left=o.geo.origin.windowOffset.right+e.distance.horizontal;break;case\"top\":e.coord.top=o.geo.origin.windowOffset.top-e.outerSize.height;break;case\"bottom\":e.coord.top=o.geo.origin.windowOffset.bottom+e.distance.vertical}\"window\"==e.container?\"top\"==e.side||\"bottom\"==e.side?e.coord.left<0?o.geo.origin.windowOffset.right-this.__options.minIntersection>=0?e.coord.left=0:e.coord.left=o.geo.origin.windowOffset.right-this.__options.minIntersection-1:e.coord.left>o.geo.window.size.width-e.size.width&&(o.geo.origin.windowOffset.left+this.__options.minIntersection<=o.geo.window.size.width?e.coord.left=o.geo.window.size.width-e.size.width:e.coord.left=o.geo.origin.windowOffset.left+this.__options.minIntersection+1-e.size.width):e.coord.top<0?o.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?e.coord.top=0:e.coord.top=o.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:e.coord.top>o.geo.window.size.height-e.size.height&&(o.geo.origin.windowOffset.top+this.__options.minIntersection<=o.geo.window.size.height?e.coord.top=o.geo.window.size.height-e.size.height:e.coord.top=o.geo.origin.windowOffset.top+this.__options.minIntersection+1-e.size.height):(e.coord.left>o.geo.window.size.width-e.size.width&&(e.coord.left=o.geo.window.size.width-e.size.width),e.coord.left<0&&(e.coord.left=0)),n.__sideChange(_,e.side),o.tooltipClone=_[0],o.tooltipParent=n.__instance.option(\"parent\").parent[0],o.mode=e.mode,o.whole=e.whole,o.origin=n.__instance._$origin[0],o.tooltip=n.__instance._$tooltip[0],delete e.container,delete e.fits,delete e.mode,delete e.outerSize,delete e.whole,e.distance=e.distance.horizontal||e.distance.vertical;var c,h,d,u=t.extend(!0,{},e);if(n.__instance._trigger({edit:function(t){e=t},event:i,helper:o,position:u,type:\"position\"}),n.__options.functionPosition){var g=n.__options.functionPosition.call(n,n.__instance,o,u);g&&(e=g)}a.destroy(),\"top\"==e.side||\"bottom\"==e.side?(c={prop:\"left\",val:e.target-e.coord.left},h=e.size.width-this.__options.minIntersection):(c={prop:\"top\",val:e.target-e.coord.top},h=e.size.height-this.__options.minIntersection),c.val<this.__options.minIntersection?c.val=this.__options.minIntersection:c.val>h&&(c.val=h),d=o.geo.origin.fixedLineage?o.geo.origin.windowOffset:{left:o.geo.origin.windowOffset.left+o.geo.window.scroll.left,top:o.geo.origin.windowOffset.top+o.geo.window.scroll.top},e.coord={left:d.left+(e.coord.left-o.geo.origin.windowOffset.left),top:d.top+(e.coord.top-o.geo.origin.windowOffset.top)},n.__sideChange(n.__instance._$tooltip,e.side),o.geo.origin.fixedLineage?n.__instance._$tooltip.css(\"position\",\"fixed\"):n.__instance._$tooltip.css(\"position\",\"\"),n.__instance._$tooltip.css({left:e.coord.left,top:e.coord.top,height:e.size.height,width:e.size.width}).find(\".tooltipster-arrow\").css({left:\"\",top:\"\"}).css(c.prop,c.val),n.__instance._$tooltip.appendTo(n.__instance.option(\"parent\")),n.__instance._trigger({type:\"repositioned\",event:i,position:e})},__sideChange:function(t,i){t.removeClass(\"tooltipster-bottom\").removeClass(\"tooltipster-left\").removeClass(\"tooltipster-right\").removeClass(\"tooltipster-top\").addClass(\"tooltipster-\"+i)},__targetFind:function(t){var i={},o=this.__instance._$origin[0].getClientRects();o.length>1&&(1==this.__instance._$origin.css(\"opacity\")&&(this.__instance._$origin.css(\"opacity\",.99),o=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css(\"opacity\",1)));if(o.length<2)i.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),i.bottom=i.top,i.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),i.right=i.left;else{var e=o[0];i.top=Math.floor(e.left+(e.right-e.left)/2),e=o.length>2?o[Math.ceil(o.length/2)-1]:o[0],i.right=Math.floor(e.top+(e.bottom-e.top)/2),e=o[o.length-1],i.bottom=Math.floor(e.left+(e.right-e.left)/2),e=o.length>2?o[Math.ceil((o.length+1)/2)-1]:o[o.length-1],i.left=Math.floor(e.top+(e.bottom-e.top)/2)}return i}}}),t});\n","Amasty_RecurringPaypal/js/view/payment/paypal.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/renderer-list'\n    ],\n    function (Component, rendererList) {\n        'use strict';\n\n        rendererList.push(\n            {\n                type: 'amasty_recurring_paypal',\n                component: 'Amasty_RecurringPaypal/js/view/payment/method-renderer/paypal'\n            }\n        );\n\n        return Component.extend({});\n    }\n);","Amasty_RecurringPaypal/js/view/payment/method-renderer/paypal.js":"define(\n    [\n        'Magento_Checkout/js/view/payment/default'\n    ],\n    function (\n        Component,\n    ) {\n        'use strict';\n\n        return Component.extend({\n            defaults: {\n                template: 'Amasty_RecurringPaypal/payment/form'\n            }\n        });\n    }\n);\n","Magento_ReCaptchaStorePickup/js/reCaptchaStorePickup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['Magento_ReCaptchaFrontendUi/js/reCaptcha'], function (reCaptcha) {\n    'use strict';\n\n    return reCaptcha.extend({\n\n        /**\n         * @inheritdoc\n         */\n        renderReCaptcha: function () {\n            this.captchaInitialized = false;\n            this._super();\n        }\n    });\n});\n","Magiccart_Alothemes/js/notifyslider.js":"define([\n    'jquery',\n    ], function ($) {\n\t\"use strict\";\n\t/* notifySlider */\n\t(function ($) {\n\t    \"use strict\";\n\t    $.fn.notifySlider = function (options) {\n\t      \tvar defaults = {\n\t\t        autoplay   : true,\n\t\t        close_off  : true,\n\t\t        firsttime  : 3000,\n\t\t        speed      : 9000\n\t      \t};\n\n\t\t\tvar settings    = $.extend(defaults, options);\n\t\t\tvar firsttime   = parseInt(settings.firsttime);\n\t\t\tvar speed    \t= parseInt(settings.speed);\n\t\t\tvar autoplay    = settings.autoplay;\n\t\t\tvar closeOff \t= settings.close_off;\n\n\t      \tvar methods = {\n\t\t        init : function() {\n\t\t\t        return this.each(function() {\n\t\t\t        \tmethods.suggestLoad($(this));\n\t\t\t        });\n\t\t        },\n\t\t        \n\t\t        suggestLoad: function(suggest){\n\t\t        \tif (closeOff && sessionStorage.getItem(\"recently_order_click_close\")) return;\n\t\t            var el  = suggest.find('.notify-slider-wrapper');\n\t\t            suggest.find('.x-close').on('click', function() {\n\t\t                suggest.addClass('close');\n\t\t                sessionStorage.setItem(\"recently_order_click_close\", closeOff);\n\t\t            });\n\t\t            var slideCount    = suggest.find('.slider >.item').length;\n\t\t            var slideWidth    = suggest.find('.slider >.item').width();\n\t\t            var slideHeight   = suggest.find('.slider >.item').height();\n\t\t            var sliderUlWidth = slideCount * slideWidth;\n\t\t            /*suggest.find('.notify-slider').css({ width: slideWidth, height: slideHeight });*/\n\t\t            suggest.find('.notify-slider .slider').css({ width: sliderUlWidth});\n\t\t            suggest.find('.notify-slider .slider >.item:last-child').prependTo('.notify-slider .slider');\n\t\t            setTimeout(function(){\n\t\t            \tmethods.notifySliderUp(el);\n\t\t\t            if(!autoplay) return;\n\t\t\t            setInterval(function () {\n\t\t\t            \tmethods.moveRight(suggest, slideWidth);\n\t\t\t            \tmethods.notifySliderUp(el);\n\t\t\t            \tsetTimeout(function(){ \n\t\t\t\t            \tmethods.notifySliderDown(el);\n\t\t\t            \t}, speed/2);\n\t\t\t            }, speed);\n\t\t            \tsetTimeout(function(){ \n\t\t\t            \tmethods.notifySliderDown(el);\n\t\t            \t}, speed/2);\n\t\t            }, firsttime);\n\t\t        },\n\n\t\t        notifySliderDown: function(el){\n\t            \tel.removeClass('notifySliderUp'); \n\t            \tel.addClass('notifySliderDown');\n\t\t        },\n\n\t\t        notifySliderUp: function(el){\n\t            \tel.removeClass('notifySliderDown');\n\t            \tel.addClass('notifySliderUp');\n\t\t        },\n\n\t\t        moveRight: function(suggest, slideWidth){\n\t\t            suggest.find('.notify-slider .slider').animate({\n\t\t                left: - slideWidth\n\t\t            }, 0, function () {\n\t\t                var slider = suggest.find('.notify-slider .slider');\n\t\t                suggest.find('.notify-slider .slider >.item:first-child').appendTo(slider);\n\t\t                slider.css('left', '');\n\t\t            })\n\t\t        }\n\n\t      \t};\n\n\t      \tif (methods[options]) {\n\t        \treturn methods[options].apply(this, Array.prototype.slice.call(arguments, 1));\n\t      \t} else if (typeof options === 'object' || !options) {\n\t        \treturn methods.init.apply(this);\n\t      \t} else {\n\t        \t$.error('Method \"' + method + '\" does not exist in timer plugin!');\n\t      \t}\n\t    }\n\t    \n  \t})($);\n\n\t/* End notifySlider */\n});","Magiccart_Alothemes/js/grid-slider.js":"/*\n* @Author: Alex Dong\n* @Date:   2020-07-29 13:21:07\n* @Last Modified by:   Alex Dong\n* @Last Modified time: 2022-07-18 18:26:17\n*/\n\ndefine([\n\t'jquery',\n\t'slick',\n\t'jquery-ui-modules/core'\n], function ($, slick) {\n\t\"use strict\";\n\t$.widget('magiccart.gridSlider', {\n\t\toptions: {\n\t\t\tselector: '.grid-slider',\n\t\t\tuseIntersectionObserver: false,\n\t\t\tunobserve: true\n\t\t},\n\n\t\t_create: function () {\n\t\t\tvar options = this.options;\n\t\t\tthis._initSlider();\n\t\t},\n\n\t\t_uniqid: function (length = 10) {\n\t\t\tlet result = '';\n\t\t\tconst characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\t\t\tconst charactersLength = characters.length;\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tresult += characters.charAt(Math.floor(Math.random() * charactersLength));\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\n\t\t_initSlider: function () {\n\t\t\tvar options = this.options,\n\t\t\t\tuseIntersectionObserver = options.useIntersectionObserver,\n\t\t\t\tunobserve = options.unobserve,\n\t\t\t\tself = this,\n\t\t\t\t$head = $('head'),\n\t\t\t\telements = options.selector ? self.element.find(options.selector) : self.element;\n\t\t\telements.each(function () {\n\t\t\t\tvar element = $(this),\n\t\t\t\t\tselector = 'grid-slider-' + self._uniqid(),\n\t\t\t\t\tstyleId = selector;\n\t\t\t\telement.addClass(selector);\n\t\t\t\tselector = '.' + selector;\n\t\t\t\tif ($('body').hasClass('rtl')) {\n\t\t\t\t\telement.attr('dir', 'rtl');\n\t\t\t\t\telement.data('rtl', true);\n\t\t\t\t}\n\t\t\t\tvar options = element.data();\n\t\t\t\tif ($.isEmptyObject(options)) {\n\t\t\t\t\tlet gridslider = element.closest('grid-slider');\n\t\t\t\t\tif (gridslider.length) {\n\t\t\t\t\t\toptions = gridslider.data();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (iClass === undefined) {\n\t\t\t\t\telement.children().addClass('alo-item');\n\t\t\t\t\tvar iClass = ' .alo-item';\n\t\t\t\t}\n\t\t\t\tvar rows = ((options || {}).rows === void 0) ? 1 : options.rows,\n\t\t\t\t\tclasses = rows ? selector + ' ' + iClass : selector + ' .slick-track > ' + iClass,\n\t\t\t\t\tpadding = ((options || {}).padding === void 0) ? 0 : options.padding,\n\t\t\t\t\tfloat = $('body').hasClass('rtl') ? 'right' : 'left',\n\t\t\t\t\tstyle = classes + '{float: ' + float + '; padding: 0 ' + padding + 'px; box-sizing: border-box;} ' + selector + '{margin: 0 -' + padding + 'px;}';\n\t\t\t\t$head.append('<style type=\"text/css\" >' + style + '</style>');\n\t\t\t\tstyle = '';\n\t\t\t\tif (options.slidesToShow) {\n\t\t\t\t\tif (\"IntersectionObserver\" in window && useIntersectionObserver) {\n\t\t\t\t\t\tvar nthChild = options.slidesToShow + 1;\n\t\t\t\t\t\tstyle += selector + ' .item:nth-child(n+ ' + nthChild + ')' + '{display: none;} ' + selector + ' .item{float:left;}';\n\t\t\t\t\t\tlet gridSliderObserver = new IntersectionObserver(function (entries, observer) {\n\t\t\t\t\t\t\tentries.forEach(function (entry) {\n\t\t\t\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\t\t\t\tlet el = entry.target;\n\t\t\t\t\t\t\t\t\tvar $el = $(el);\n\t\t\t\t\t\t\t\t\t$el.on('init', function () {\n\t\t\t\t\t\t\t\t\t\t$head.find('#' + styleId).remove();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tself.sliderRender($el);\n\t\t\t\t\t\t\t\t\tif (unobserve) gridSliderObserver.unobserve(el);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\telement.each(function (index, el) {\n\t\t\t\t\t\t\tgridSliderObserver.observe(el);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.sliderRender(element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar responsive = self.getPesponsive(options);\n\t\t\t\tif (responsive == undefined) return;\n\t\t\t\tvar length = Object.keys(responsive).length;\n\t\t\t\t$.each(responsive, function (key, value) {\n\t\t\t\t\tvar col = 0,\n\t\t\t\t\t\tmaxWith = 0,\n\t\t\t\t\t\tminWith = 0;\n\t\t\t\t\t$.each(value, function (size, num) { minWith = parseInt(size) + 1; col = num; });\n\t\t\t\t\tif (key + 2 < length) {\n\t\t\t\t\t\t$.each(responsive[key + 1], function (size, num) { maxWith = size; col = num; });\n\t\t\t\t\t\tstyle += ' @media (min-width: ' + minWith + 'px) and (max-width: ' + maxWith + 'px)';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (key + 2 == length) return; // don't use key = length - 1;\n\t\t\t\t\t\t$.each(responsive[key], function (size, num) { maxWith = size; col = num; });\n\t\t\t\t\t\tstyle += ' @media (min-width: ' + maxWith + 'px)';\n\t\t\t\t\t}\n\t\t\t\t\tlet clearRtl = (rows >= 1) ? classes + ':nth-child(' + col + 'n+1){clear: ' + float + ';}' : ' ';\n\t\t\t\t\tstyle += ' {' + selector + '{margin: 0 -' + padding + 'px;}' + classes + '{padding: 0 ' + padding + 'px; box-sizing: border-box; width: calc(100% / ' + col + ')} ' + clearRtl + '}';\n\t\t\t\t});\n\t\t\t\t$head.append('<style type=\"text/css\" id=\"' + styleId + '\" >' + style + '</style>');\n\t\t\t\tself.element.addClass('grid-init');\n\n\t\t\t});\n\t\t},\n\n\t\tgetPesponsive: function (options) {\n\t\t\tif (!options.slidesToShow || !options.responsive) return options.responsive;\n\t\t\tvar responsive = options.responsive,\n\t\t\t\tlength = Object.keys(responsive).length,\n\t\t\t\tgridResponsive = [];\n\t\t\t$.each(responsive, function (key, value) {\n\t\t\t\tvar breakpoint = {};\n\t\t\t\tbreakpoint[value.breakpoint] = parseInt(value.settings.slidesToShow);\n\t\t\t\tgridResponsive.push(breakpoint);\n\t\t\t});\n\t\t\treturn gridResponsive.reverse();\n\t\t},\n\n\t\tsliderRender: function (el) {\n\t\t\tif (el.hasClass('slick-initialized')) {\n\t\t\t\tel.slick(\"refresh\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar options = el.data(),\n\t\t\t\tlazy = el.find('img.lazyload');\n\t\t\tif ($.isEmptyObject(options)) {\n\t\t\t\tlet gridslider = el.closest('grid-slider');\n\t\t\t\tif (gridslider.length) {\n\t\t\t\t\toptions = gridslider.data();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (lazy.length) {\n\t\t\t\tlazy.each(function (index) {\n\t\t\t\t\t$(this).data('lazy', $(this).data('src'));\n\t\t\t\t});\n\t\t\t}\n\t\t\tel.on('init', function (event, slick) {\n\t\t\t\t$('body').trigger('contentUpdated'); // support lazyload\n\t\t\t\tvar video = $(this).find('.external-video');\n\t\t\t\tvideo.on('click', function (event) {\n\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\tif ($this.hasClass('embed')) return;\n\t\t\t\t\tvar img = $this.find('img');\n\t\t\t\t\tvar caption = $this.find('.magicslider-caption');\n\t\t\t\t\tcaption.remove();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tvar url = $(this).data('video');\n\t\t\t\t\turl = url.replace(\"://vimeo.com/\", \"://player.vimeo.com/video/\");\n\t\t\t\t\turl = url.replace(\"://www.youtube.com/watch?v=\", \"://youtube.com/embed/\");\n\t\t\t\t\turl = url + '?autoplay=1&badge=0';\n\t\t\t\t\tvar iframe = '<iframe allow=\"autoplay\" class=\"iframe-video\" src=\"' + url + '\" width=\"' + img.width() + '\" height=\"' + img.height() + '\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';\n\t\t\t\t\t$this.append(iframe).addClass('embed');\n\t\t\t\t\timg.hide();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar slider = el.slick(options);\n\t\t\tel.on('beforeChange', function (event, slick, currentSlide, nextSlide) {\n\t\t\t\tvar video = $(this).find('.external-video');\n\t\t\t\tvideo.removeClass('embed').find('img').show();\n\t\t\t\tvideo.find('.iframe-video').remove();\n\t\t\t});\n\t\t\tslider.on(\"click\", \".item\", function () {\n\t\t\t\tel.slick('slickSetOption', \"autoplay\", false, false);\n\t\t\t});\n\t\t}\n\n\t});\n\n\tif (!customElements.get('grid-slider')) {\n\t\tclass GridSlider extends HTMLElement {\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tvar $this = this;\n\t\t\t\tdocument.addEventListener(\"GridSliderUpdated\", function (event) {\n\t\t\t\t\t$this.initialized();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconnectedCallback() {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.tab && \"IntersectionObserver\" in window) {\n\t\t\t\t\tlet sliderObserver = new IntersectionObserver(function (entries, observer) {\n\t\t\t\t\t\tentries.forEach(function (entry) {\n\t\t\t\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\t\t\t\tif (self.slick) {\n\t\t\t\t\t\t\t\t\t$(self).slick(\"refresh\")\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (!self.classList.contains('ajax')) self.initialized();\n\t\t\t\t\t\t\t\t\t/* if (!self.infinite) sliderObserver.unobserve(entry.target); */\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.classList.add('inView');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.classList.remove('inView');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tsliderObserver.observe(self);\n\t\t\t\t} else {\n\t\t\t\t\tif (self.slick) {\n\t\t\t\t\t\t$(self).slick(\"refresh\")\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!self.classList.contains('ajax')) self.initialized();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinitialized() {\n\t\t\t\t$(this).not(\".exception, .grid-init, .slick-initialized\").each(function () {\n\t\t\t\t\t$.magiccart.gridSlider({\n\t\t\t\t\t\tselector: '.grid-slider',\n\t\t\t\t\t\tuseIntersectionObserver: false,\n\t\t\t\t\t\tunobserve: true,\n\t\t\t\t\t}, $(this));\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t\tcustomElements.define(\"grid-slider\", GridSlider);\n\t}\n\n\treturn $.magiccart.gridSlider;\n\n});\n","Magiccart_Alothemes/js/elements.js":"if (!customElements.get(\"action-condition\")) {\n    class ActionCondition extends HTMLElement {\n        constructor() {\n            super();\n            this.onMutation = this.onMutation.bind(this);\n        }\n        connectedCallback() {\n            this.load();\n            this.observer = new MutationObserver(this.onMutation);\n            this.observer.observe(this, {\n                childList: true,\n                subtree: true\n            });\n        }\n        disconnectedCallback() {\n            this.observer.disconnect();\n        }\n\n        load() {\n            var self = this,\n                condition = this.querySelector('input[type=\"checkbox\"]'),\n                action = this.querySelector('.action');\n            if (condition && action) {\n                if(!condition.checked){\n                    action.classList.add('disabled');\n                }else{\n                    action.classList.remove('disabled');\n                }\n                condition.addEventListener('change', function (event) {\n                    if (event.currentTarget.checked) {\n                        action.classList.remove('disabled');\n                    } else {\n                        action.classList.add('disabled');\n                    }\n                });\n            }\n        }\n        onMutation(mutations) {\n            this.load();\n        }\n    }\n\n    customElements.define(\"action-condition\", ActionCondition);\n}\n\nif (!customElements.get(\"accordion-tab\")) {\n    customElements.define(\"accordion-tab\", class extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            this.load()\n        }\n        getDataset() {\n            if(!this.Dataset) this.Dataset = this.datasetToObject(this.dataset);\n            return this.Dataset;\n        }\n        datasetToObject(dataset) {\n            return JSON.parse(JSON.stringify(dataset), (key, value) => {\n                try {\n                    return JSON.parse(value);\n                } catch (e) {\n                    return value;\n                }\n            });\n        }\n        load() {\n            let self = this;\n            this.querySelectorAll('.tab-title').forEach( tab => {\n                tab.addEventListener('click', function(event) {\n                    let config = self.getDataset(),\n                        tabPanel = tab.closest('.tab-panel'),\n                        status = tabPanel.classList.toggle('active');\n                    if(status && config.siblingsClose){\n                        for (let panel of self.querySelectorAll('.tab-panel')) {\n                            if (panel !== tabPanel) {\n                                if(panel.classList.contains('active')){\n                                    let tabTitle = panel.querySelector('.tab-title');\n                                    if(tabTitle) tabTitle.click();\n                                }\n                            }\n                        }\n                    }\n                    if(config.scrollIntoView) tabPanel.scrollIntoView({ block: \"start\", inline: \"nearest\", behavior: 'smooth' });\n                });\n            });\n        }\n    });\n}\n\nif (!customElements.get('back-to-top')) {\n    customElements.define('back-to-top', class extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            this.load();\n        }\n        load() {\n            var self = this,\n                lastScrollTop = 0;\n            window.addEventListener(\"scroll\", (event) => {\n                let status = window.scrollY,\n                    documentHeight = Math.max(\n                        document.body.scrollHeight,\n                        document.documentElement.scrollHeight,\n                        document.body.offsetHeight,\n                        document.documentElement.offsetHeight,\n                        document.body.clientHeight,\n                        document.documentElement.clientHeight\n                    );\n                if (status + window.innerHeight >= documentHeight) {\n                    document.documentElement.classList.add('scroll_down_end');\n                } else {\n                    document.documentElement.classList.remove('scroll_down_end');\n                }\n                if (status == 0) {\n                    document.documentElement.classList.add('scroll_up_end');\n                } else {\n                    document.documentElement.classList.remove('scroll_up_end');\n                }\n                if (status > lastScrollTop) {\n                    document.documentElement.classList.add('scroll_down');\n                    document.documentElement.classList.remove('scroll_up', 'scroll_init');\n                } else if (status == lastScrollTop) {\n                    document.documentElement.classList.add('scroll_init');\n                    document.documentElement.classList.remove('scroll_down', 'scroll_up');\n                } else {\n                    document.documentElement.classList.add('scroll_up');\n                    document.documentElement.classList.remove('scroll_down', 'scroll_init');\n                }\n                lastScrollTop = status;\n                if (status > 500) {\n                    self.classList.add('show');\n                } else {\n                    self.classList.remove('show');\n                }\n                let percent = (status / (documentHeight - window.innerHeight)) * 100;\n                self.style.setProperty(\"--height\", `${percent.toFixed(2)}%`);\n            });\n            self.addEventListener(\"click\", function (e) {\n                window.scrollTo({ top: 0, behavior: 'smooth' });\n                return false;\n            });\n        }\n    })\n}\n\nif (!customElements.get(\"campaign-bar\")) {\n    class CampaignBar extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            this.load()\n        }\n        load() {\n            let self = this,\n            closeX = this.querySelector('.close-x');\n            if(closeX){\n                closeX.addEventListener('click', (event) => {\n                    self.classList.add('close-bar');\n                    self.classList.remove('show');\n                });\n            }\n        }\n    }\n    customElements.define(\"campaign-bar\", CampaignBar);\n    customElements.define(\"top-bar\", class extends CampaignBar { });\n    customElements.define(\"footer-bar\", class extends CampaignBar { });\n}\n\n\nif (!customElements.get('count-down')) {\n    class CountDown extends HTMLElement {\n\n        constructor() {\n            super();\n            this.settings = {\n                layout: '<span class=\"box-count day\"><span class=\"number\">0</span><span class=\"text\">Days</span></span><span class=\"box-count hrs\"><span class=\"number\">0</span><span class=\"text\">Hrs</span></span><span class=\"box-count min\"><span class=\"number\">0</span><span class=\"text\">Mins</span></span><span class=\"box-count secs\"><span class=\"number\">0</span> <span class=\"text\">Secs</span></span>',\n                leadingZero: true,\n                countStepper: -1, // s: -1 // min: -60 // hour: -3600\n                timeout: '<span class=\"timeout\">Time out!</span>',\n            }\n            var self = this;\n            document.addEventListener(\"CountDownUpdated\", function (event) {\n                self.init();\n            });\n            document.dispatchEvent(new CustomEvent('CountDownReady', {detail:self}));\n        }\n\n        connectedCallback() {\n            let self = this;\n            if (!localStorage.getItem(\"touchstart\")) {\n                document.addEventListener(\"touchstart\", (event) => {\n                    localStorage.setItem(\"touchstart\", true);\n                    self.init();\n                }, {once : true});\n                document.addEventListener(\"mouseover\", (event) => {\n                    localStorage.setItem(\"touchstart\", true);\n                    self.init();\n                }, {once : true});\n            }else{\n                this.init();\n            }\n        }\n\n        uniqid(length) {\n            length = length || 10;\n            var result = \"\",\n                characters = \"abcdefghijklmnopqrstuvwxyz0123456789\",\n                charactersLength = characters.length;\n            for (var i = 0; i < length; i++) {\n                result += characters.charAt(Math.floor(Math.random() * charactersLength));\n            }\n\n            return result;\n        }\n\n        init() {\n            if (this.classList.contains(\"count-down-init\")) return;\n            var data  = this.getDataset();\n            Object.assign(this.settings, data);\n            this.classList.add('count-down-init');\n            this.renderTimer();\n        }\n\n        getDataset() {\n            if(!this.Dataset) this.Dataset = this.datasetToObject(this.dataset);\n            return this.Dataset;\n        }\n\n        datasetToObject(dataset) {\n            return JSON.parse(JSON.stringify(dataset), (key, value) => {\n                try {\n                    return JSON.parse(value);\n                } catch (e) {\n                    return value;\n                }\n            });\n        }\n      \n        renderTimer() {\n            var data  = this.getDataset();\n            if(!data.timer){\n                var date = new Date(),\n                    year = ('y' in data) ? Number(data.y.toString().replace(\"yyyy\", date.getFullYear())) : date.getFullYear(),\n                    mm   = ('m' in data) ? Number(data.m.toString().replace(\"mm\", date.getMonth() + 1)) : date.getMonth() + 1,\n                    dd   = ('d' in data) ? Number(data.d.toString().replace(\"dd\", date.getDate() + 1)) : date.getDate() + 1,\n                    hh   = ('h' in data) ? Number(data.h.toString().replace(\"hh\", date.getHours())) : date.getHours(),\n                    ii   = ('i' in data) ? Number(data.i.toString().replace(\"ii\", date.getMinutes())) : date.getMinutes(),\n                    ss   = ('s' in data) ? Number(data.s.toString().replace(\"ss\", date.getSeconds())) : date.getSeconds(),\n                    newDate = new Date(year, mm -1, dd, hh, ii, ss); // the month is 0-indexed\n\n                    if('plusHour' in data) newDate.setHours(newDate.getHours() + Number(data.plusHour));\n                    if('plusMin' in data) newDate.setMinutes(newDate.getMinutes() + Number(data.plusMin));\n                    if('plusSec' in data) newDate.setSeconds(newDate.getSeconds() + Number(data.plusSec));\n\n                data.timer = newDate;\n            }\n            var gsecs = data.timer;\n            if (typeof gsecs === 'string') gsecs = gsecs.replace(/-/g, '/');\n            if (isNaN(gsecs) || typeof gsecs === 'object') {\n                var start = Date.parse(new Date());\n                var end = isNaN(gsecs) ? Date.parse(gsecs) : gsecs;\n                var end = (typeof gsecs === 'object') ? gsecs : Date.parse(gsecs);\n                gsecs = (end - start) / 1000;\n            }\n            if (gsecs > 0) {\n                var isLayout = this.querySelector('.min .number');\n                if (!isLayout) {\n                    this.innerHTML = this.settings.layout;                                   \n                }\n                this.CountBack(gsecs);\n            } else {\n                this.classList.add('the-end');\n                if(this.settings.timeout) this.innerHTML = this.settings.timeout;\n            }\n        }\n\n        calcage(secs, num1, num2) {\n            var s = ((Math.floor(secs / num1) % num2)).toString();\n            if (this.settings.leadingZero && s.length < 2) s = \"0\" + s;\n            return \"<b>\" + s + \"</b>\";\n        }\n\n        CountBack(secs) {\n            var self = this,\n                countStepper = this.settings.countStepper,\n                setTimeOutPeriod = (Math.abs(countStepper) - 1) * 1000 + 990;\n            var count = setInterval(function timer() {\n                if (secs < 0) {\n                    clearInterval(count);\n                    self.classList.add('the-end');\n                    if(self.settings.timeout) self.innerHTML = self.settings.timeout;\n                    return;\n                }\n                var day  = self.querySelector('.day .number'),\n                    hour = self.querySelector('.hour .number, .hrs .number'),\n                    min  = self.querySelector('.min .number'),\n                    sec  = self.querySelector('.sec .number, .secs .number');\n                if(day)  day.innerHTML  = self.calcage(secs, 86400, 100000);\n                if(hour) hour.innerHTML = self.calcage(secs, 3600, 24);\n                if(min)  min.innerHTML  = self.calcage(secs, 60, 60);\n                if(sec)  sec.innerHTML  = self.calcage(secs, 1, 60);\n                secs += countStepper;\n                return timer;\n            }(), setTimeOutPeriod);\n        }\n\n        appendStyle(css) {\n            var style = document.createElement('style');\n                style.setAttribute('type', 'text/css');\n                style.textContent = css;\n            document.head.appendChild(style);\n        }\n\n    }\n\n    customElements.define(\"count-down\", CountDown);\n}\n\n\nif (!customElements.get('count-up')) {\n    class CountUp extends HTMLElement {\n\n        constructor() {\n            super();\n            this.settings = {\n                min: 0,\n                max: 100,\n                step: 1,\n                speed: 1,\n                infinite: true\n            }\n        }\n\n        connectedCallback() {\n             this.init();\n        }\n\n        init() {\n            if (this.classList.contains(\"count-up-init\")) return;\n            var self = this,\n                data  = this.getDataset();\n                Object.assign(this.settings, data);\n            this.classList.add('count-up-init');\n            if (\"IntersectionObserver\" in window) {\n                let counterObserver = new IntersectionObserver(function(entries, observer) {\n                    entries.forEach(function(entry) {\n                        if (entry.isIntersecting) {\n                            self.renderCounter();\n                            self.classList.add('inView');\n                            if(!data.infinite) counterObserver.unobserve(entry.target);\n                        }else{\n                            self.classList.remove('inView');\n                        }\n                    });\n                });\n                counterObserver.observe(self);                                  \n            } else {\n                self.renderCounter();\n            }\n        }\n\n        getDataset() {\n            if(!this.Dataset) this.Dataset = this.datasetToObject(this.dataset);\n            return this.Dataset;\n        }\n\n        datasetToObject(dataset) {\n            return JSON.parse(JSON.stringify(dataset), (key, value) => {\n                try {\n                    return JSON.parse(value);\n                } catch (e) {\n                    return value;\n                }\n            });\n        }\n\n        renderCounter(counter){\n            var self = this,\n                min = this.settings.min,\n                max = this.settings.max,\n                step = this.settings.step,\n                speed = this.settings.speed,\n                counter = counter || min,\n                element = this.querySelector('.counter');\n            counter = counter + step;\n            if (counter <= max) {\n                element.innerHTML = counter.toString();\n                setTimeout(function(){\n                    self.renderCounter(counter);\n                }, speed)    \n            }else{\n                element.innerHTML = max.toString();\n            } \n        }\n\n    }\n\n    customElements.define(\"count-up\", CountUp);\n}\n\nif (!customElements.get(\"tab-info\")) {\n    class SearchBar extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            this.load();\n        }\n        getSibling(element) {\n            let siblings = [];\n            for (let sibling of element.parentNode.children) {\n                if (sibling !== element) siblings.push(sibling);\n            }\n            return siblings;\n        }\n        load() {\n            var self = this,\n                search = self.querySelector('input[name=\"q\"]'),\n                catalogsearch = self.querySelector(\".catalogsearch-box\");\n            if(search){\n                search.addEventListener(\"focus\", (event) => {\n                    document.documentElement.classList.add('open-search');\n                });\n                search.addEventListener(\"blur\", (event) => {\n                    let relatedTarget = event.relatedTarget;\n                    if(relatedTarget && relatedTarget.closest('predictive-search')){\n                        let searchSuggestions = relatedTarget.closest('predictive-search');\n                        document.body.addEventListener('click', function(e) {\n                            if(e.target.matches('predictive-search') || !e.target.closest('predictive-search')){\n                                search.dispatchEvent(new Event('blur'), {bubbles: true});\n                            }\n                        });\n                        return\n                    }\n                    setTimeout(function () { \n                        document.documentElement.classList.remove('open-search');\n                    }, 100);\n                });\n                search.addEventListener('input', function (event) {\n                    if (event.target.value){\n                        document.documentElement.classList.add('input-search');\n                    }else{\n                        document.documentElement.classList.remove('input-search');\n                    }\n                    console.log('Input changed:', event.target.value);\n                  });\n                }\n            if (catalogsearch) {\n                var formSearch = self.querySelector(\"#search_mini_form\"),\n                    qsearch = self.querySelector(\"#qsearch\"),\n                    select = self.querySelector(\"#select-box-category\"),\n                    categories = self.querySelector(\"#categories-box\");\n                select.addEventListener('click', function (event) {\n                    event.stopPropagation();\n                    if (categories.style.display === 'none') {\n                        categories.style.display = 'block';\n                    } else {\n                        categories.style.display = 'none';\n                    }\n                });\n                categories.querySelectorAll(\"li\").forEach(element => {\n                    element.addEventListener(\"click\", function () {\n                        qsearch.value = element.getAttribute(\"data-q\");\n                        select.innerHTML = element.innerHTML;\n                    });\n                });\n\n                formSearch.onsubmit = function () {\n                    var search = self.querySelector(\"#search\"),\n                        qsearch = self.querySelector(\"#qsearch\"),\n                        csearch = qsearch.value ? '&cat=' + qsearch.value : '';\n                    window.location = formSearch.action + '?q=' + search.value + csearch;\n                    return false;\n                };\n            }\n        }\n    }\n\n    customElements.define(\"search-bar\", SearchBar);\n}\n\nif (!customElements.get(\"tab-info\")) {\n    class TabInfo extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            this.load();\n        }\n        getSibling(element) {\n            let siblings = [];\n            for (let sibling of element.parentNode.children) {\n                if (sibling !== element) siblings.push(sibling);\n            }\n            return siblings;\n        }\n        load() {\n            let self = this,\n            tabNav = this.querySelector('.tab-nav');\n            if(tabNav){\n                tabNav.querySelectorAll('.tab-title').forEach(tab => {\n                    tab.addEventListener('click', function(event) {\n                        event.preventDefault();\n                        let tabId = this.getAttribute('href'),\n                            tabActive = this.closest('.tab'),\n                            contentActive = self.querySelector(tabId);\n                        tabActive.classList.add('active');\n                        self.getSibling(tabActive).forEach(element => {\n                            element.classList.remove(\"active\");\n                        });\n                        contentActive.classList.add('active');\n                        self.getSibling(contentActive).forEach(element => {\n                            element.classList.remove(\"active\");\n                        });\n                    })\n                })\n            }\n        }\n    }\n\n    customElements.define(\"tab-info\", TabInfo);\n    customElements.define(\"product-information\", class extends TabInfo { });\n}\n\n\nif (!customElements.get(\"trigger-click\")) {\n    class TriggerEvent extends HTMLElement {\n        constructor() {\n            super();\n            this.namespace = this.tagName.toLowerCase().replace('trigger-', '');\n        }\n        connectedCallback() {\n            this.load()\n        }\n\n        load() {\n            let self = this;\n            this.addEventListener(this.namespace, function(event){\n                document.querySelectorAll(self.dataset.target).forEach(element => {\n                    /* cancelable support event.preventDefault */\n                    element.dispatchEvent(new Event(self.namespace, {bubbles: true, cancelable: true}));\n                })\n            });\n        }\n    }\n    customElements.define(\"trigger-click\", TriggerEvent);\n    customElements.define(\"trigger-something\", class extends TriggerEvent { });\n}\n\n\nif (!customElements.get(\"trigger-toggle\")) {\n    class TriggerToggle extends HTMLElement {\n        constructor() {\n            super();\n            this.namespace = this.tagName.toLowerCase().replace('trigger-', '');\n        }\n        connectedCallback() {\n            this.load()\n        }\n\n        datasetToObject(dataset, evalX) {\n            let object = Object.assign({}, dataset);\n            for (let property in object) {\n                let value = object[property];\n                try {\n                    value = JSON.parse(value)\n                } catch (e) {\n\n                }\n                if (evalX) {\n                    try {\n                        /* return value if is function */\n                        value = (0, eval)('(' + value + ')');\n                    } catch (e) {\n                        value = value;\n                    }\n                }\n                object[property] = value;\n            }\n            return object;\n        }\n\n        load() {\n            let self = this;\n            this.addEventListener('click', function(event){\n                let config = self.datasetToObject(self.dataset, true),\n                    target = document.querySelectorAll(config.target),\n                    attributes = config.attributes || {},\n                    toggle = !('toggle' in config && !config.toggle),\n                    outside = !('outside' in config && !config.outside),\n                    result;\n                if(!target.length) target = [self];\n                target.forEach(element => {\n                    Object.entries(attributes).forEach(entry => {\n                      const [key, value] = entry;\n                      if(key == 'class'){\n                        if(toggle){\n                            result = element.classList.toggle(value)\n                        }else{\n                            element.classList.add(value)\n                        }\n                      }else{\n                        if(toggle){\n                            result = element.toggleAttribute(key);\n                        }else{\n                            element.setAttribute(key, value);\n                        }\n                      }\n                    });\n                })\n                if(outside && result){\n                    document.addEventListener('click', function(event) {\n                        let contains = Array.from(target).some(function (el) {\n                            return el.contains(event.target);\n                        });\n                        if (!(contains || self.contains(event.target))) {\n                            self.dispatchEvent(new Event('click', {bubbles: true, cancelable: true}));\n                        }\n                    }, {capture : true, once : true});\n                }\n            });\n        }\n    }\n    customElements.define(\"trigger-toggle\", TriggerToggle);\n}","Magiccart_Alothemes/js/alothemes.js":"/**\n * Magiccart \n * @category    Magiccart \n * @copyright \tCopyright (c) 2014 Magiccart (http://www.magepow.com/) \n * @license \thttps://www.magepow.com/license-agreement.html\n * @Author: DOng NGuyen<nguyen@dvn.com>\n * @@Create Date: 2014-04-25 13:16:48\n * @@Modify Date: 2021-05-12 12:05:30\n * @@Function:\n */\n\ndefine([\n    'jquery',\n    'gridSlider',\n    'notifySlider',\n\t'magiccart/parallax',\n\t'mage/cookies',\n\t'Magento_Ui/js/modal/modal'\n    ], function ($, gridSlider, notifySlider, parallax, cookie, modal) {\n\t\"use strict\";\n\n\tfunction getAppVersion(appName, href) {\n\t\t// this expression is to get the version string\n\t\tlet regx = new RegExp('.*\\/(.*?)\\/assets\\/', 'i');\n\t\tlet result = regx.exec(href);\n\t\tlet version = result ? result[1].replace(/\\D/g, '') : '1.0.0';\n\t\tconsole.log(`%c ${appName} %c v${version}  %c`, \"background: #555555; padding: 1px; margin-bottom: 2px; border-radius: 3px 0 0 3px; color: #fff\", \"background: #44cc11; padding: 1px; margin-bottom: 2px; border-radius: 0 3px 3px 0; color: #fff\", \"background:transparent\", `\ud83d\ude80 ${href}`);\n\n\t\treturn version;\n\t}\n\n\tif (!document.documentElement.classList.contains('alothemes-init')) {\n\t\tdocument.documentElement.classList.add('alothemes-init');\n\t\tgetAppVersion('Magiccart_Alothemes', 'https://alothemes.com');\n\t}\n\n\tif (!customElements.get(\"trigger-modal\")) {\n\t\tclass TriggerModal extends HTMLElement {\n\t\t\tconstructor() {\n\t\t\t    super();\n\t\t\t}\n\t\t\tconnectedCallback() {\n\t\t\t    this.load()\n\t\t\t}\n\t\t\tdatasetToObject(dataset, evalX) {\n\t\t\t    let object = Object.assign({}, dataset);\n\t\t\t    for (let property in object) {\n\t\t\t        let value = object[property];\n\t\t\t        try {\n\t\t\t            value = JSON.parse(value)\n\t\t\t        } catch (e) {\n\n\t\t\t        }\n\t\t\t        if (evalX) {\n\t\t\t            try {\n\t\t\t                /* return value if is function */\n\t\t\t                value = (0, eval)('(' + value + ')');\n\t\t\t            } catch (e) {\n\t\t\t                value = value;\n\t\t\t            }\n\t\t\t        }\n\t\t\t        object[property] = value;\n\t\t\t    }\n\t\t\t    return object;\n\t\t\t}\n\t\t\tload() {\n\t\t\t    let self = this;\n\t\t\t    this.addEventListener('click', function(event){\n\t\t\t        let config = self.datasetToObject(self.dataset, true),\n\t\t\t\t\ttarget = document.querySelector(config.target) || self.querySelector('template'),\n\t\t\t        \toptions = self.datasetToObject(config.options) || {};\n\t\t\t\t\tif (target instanceof HTMLTemplateElement) {\n\t\t\t\t\t\ttarget = target.content.cloneNode(true);\n\t\t\t\t\t}\n\t\t\t        if(target) modal( Object.assign(options, {\n\t\t\t\t\t\tautoOpen: true,\n\t\t\t\t\t\topened: function () {\n\t\t\t\t\t\t\t$('body').trigger('contentUpdated');\n\t\t\t\t\t\t\tdocument.documentElement.classList.add('open-modal');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclosed: function () {\n\t\t\t\t\t\t\tdocument.documentElement.classList.remove('open-modal');\n\t\t\t\t\t\t}\n\t\t\t\t\t}), target);\n\t\t\t    });\n\t\t\t}\n\t\t}\n\t\tcustomElements.define(\"trigger-modal\", TriggerModal);\n\t}\n\n\twindow.magicproduct = function(el, iClass) {\n\t\tif(!el.length) return;\n\t\tif(!el.hasClass('grid-slider')) el.addClass('grid-slider');\n\t\tel.parent().gridSlider();\n\t};\n\t/* Tab bootstrap 3.4.1 */\n\t+function ($) {\n\t  'use strict';\n\n\t  // TAB CLASS DEFINITION\n\t  // ====================\n\n\t  var Tab = function (element) {\n\t    // jscs:disable requireDollarBeforejQueryAssignment\n\t    this.element = $(element)\n\t    // jscs:enable requireDollarBeforejQueryAssignment\n\t  }\n\n\t  Tab.VERSION = '3.4.1'\n\n\t  Tab.TRANSITION_DURATION = 150\n\n\t  Tab.prototype.show = function () {\n\t    var $this    = this.element\n\t    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n\t    var selector = $this.data('target')\n\n\t    if (!selector) {\n\t      selector = $this.attr('href')\n\t      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n\t    }\n\n\t    if ($this.parent('li').hasClass('active')) return\n\n\t    var $previous = $ul.find('.active:last a')\n\t    var hideEvent = $.Event('hide.bs.tab', {\n\t      relatedTarget: $this[0]\n\t    })\n\t    var showEvent = $.Event('show.bs.tab', {\n\t      relatedTarget: $previous[0]\n\t    })\n\n\t    $previous.trigger(hideEvent)\n\t    $this.trigger(showEvent)\n\n\t    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n\t    var $target = $(document).find(selector)\n\n\t    this.activate($this.closest('li'), $ul)\n\t    this.activate($target, $target.parent(), function () {\n\t      $previous.trigger({\n\t        type: 'hidden.bs.tab',\n\t        relatedTarget: $this[0]\n\t      })\n\t      $this.trigger({\n\t        type: 'shown.bs.tab',\n\t        relatedTarget: $previous[0]\n\t      })\n\t    })\n\t  }\n\n\t  Tab.prototype.activate = function (element, container, callback) {\n\t    var $active    = container.find('> .active')\n\t    var transition = callback\n\t      && $.support.transition\n\t      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\n\n\t    function next() {\n\t      $active\n\t        .removeClass('active')\n\t        .find('> .dropdown-menu > .active')\n\t        .removeClass('active')\n\t        .end()\n\t        .find('[data-toggle=\"tab\"]')\n\t        .attr('aria-expanded', false)\n\n\t      element\n\t        .addClass('active')\n\t        .find('[data-toggle=\"tab\"]')\n\t        .attr('aria-expanded', true)\n\n\t      if (transition) {\n\t        element[0].offsetWidth // reflow for transition\n\t        element.addClass('in')\n\t      } else {\n\t        element.removeClass('fade')\n\t      }\n\n\t      if (element.parent('.dropdown-menu').length) {\n\t        element\n\t          .closest('li.dropdown')\n\t          .addClass('active')\n\t          .end()\n\t          .find('[data-toggle=\"tab\"]')\n\t          .attr('aria-expanded', true)\n\t      }\n\n\t      callback && callback()\n\t    }\n\n\t    $active.length && transition ?\n\t      $active\n\t        .one('bsTransitionEnd', next)\n\t        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n\t      next()\n\n\t    $active.removeClass('in')\n\t  }\n\n\n\t  // TAB PLUGIN DEFINITION\n\t  // =====================\n\n\t  function Plugin(option) {\n\t    return this.each(function () {\n\t      var $this = $(this)\n\t      var data  = $this.data('bs.tab')\n\n\t      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n\t      if (typeof option == 'string') data[option]()\n\t    })\n\t  }\n\n\t  var old = $.fn.tab\n\n\t  $.fn.tab             = Plugin\n\t  $.fn.tab.Constructor = Tab\n\n\n\t  // TAB NO CONFLICT\n\t  // ===============\n\n\t  $.fn.tab.noConflict = function () {\n\t    $.fn.tab = old\n\t    return this\n\t  }\n\n\n\t  // TAB DATA-API\n\t  // ============\n\n\t  var clickHandler = function (e) {\n\t    e.preventDefault()\n\t    Plugin.call($(this), 'show')\n\t  }\n\n\t  $(document)\n\t    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n\t    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n\t}($);\n\n\t/* Timer */\n\t(function ($) {\n\t\t\"use strict\";\n\t\t$.fn.timer = function (options) {\n\t\t\tvar defaults = {\n\t\t\t\tclasses  \t : '.countdown',\n\t\t\t\tlayout\t \t : '<span class=\"number day\">%%D%%</span><span class class=\"colon\">:</span><span class=\"number hour\">%%H%%</span><span class=\"colon\">:</span><span class=\"number min\">%%M%%</span><span class=\"colon\">:</span><span class=\"number sec\">%%S%%</span>',\n\t\t\t\tlayoutcaption: '<div class=\"timer-box\"><span class=\"number day\">%%D%%</span><span class=\"title\">Days</span></div><div class=\"timer-box\"><span class=\"number hour\">%%H%%</span><span class=\"title\">Hrs</span></div><div class=\"timer-box\"><span class=\"number min\">%%M%%</span><span class=\"title\">Mins</span></div><div class=\"timer-box\"><span class=\"number sec\">%%S%%</span><span class=\"title\">Secs</span></div>',\n\t\t\t\tleadingZero\t : true,\n\t\t\t\tcountStepper : -1, // s: -1 // min: -60 // hour: -3600\n\t\t\t\ttimeout\t \t : '<span class=\"timeout\">Time out!</span>',\n\t\t\t};\n\n\t\t\tvar settings = $.extend(defaults, options),\n\t\t\t\tlayout\t\t\t = settings.layout,\n\t\t\t\tlayoutcaption\t = settings.layoutcaption,\n\t\t\t\tleadingZero \t = settings.leadingZero,\n\t\t\t\tcountStepper \t = settings.countStepper,\n\t\t\t\tsetTimeOutPeriod = (Math.abs(countStepper)-1)*1000 + 990,\n\t\t\t\ttimeout \t\t = settings.timeout;\n\n\t\t\tvar methods = {\n\t\t\t\tinit : function() {\n\t\t\t\t\treturn this.each(function() {\n\t\t\t\t\t\tvar $countdown \t= $(settings.classes, $(this));\n\t\t\t\t\t\tif( $countdown.length && !$countdown.hasClass('init')){\n\t\t\t\t\t\t\t$countdown.addClass('init');\n\t\t\t\t\t\t\tmethods.timerLoad($countdown);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\ttimerLoad: function(el){\n\t\t\t\t\tvar gsecs = el.data('timer');\n\t\t\t\t\tif(isNaN(gsecs)){\n\t\t\t\t\t\tvar start = Date.parse(new Date());\n\t\t\t\t\t\tvar end = Date.parse(gsecs);\n\t\t\t\t\t\tgsecs  = (end - start)/1000;\t\n\t\t\t\t\t}\n                    if (gsecs > 0) {\n                        var isLayout = el.find('.min');\n                        if (!isLayout.length) {\n                            if (el.hasClass('caption'))  el.html(layoutcaption);\n                            else el.html(layout);;\n                        }\n                        methods.CountBack(el, gsecs);\n                    }\n\t\t\t\t},\n\n\t\t\t\tcalcage: function (secs, num1, num2) {\n\t\t\t\t\tvar s = ((Math.floor(secs/num1)%num2)).toString();\n\t\t\t\t\tif (leadingZero && s.length < 2) s = \"0\" + s;\n\t\t\t\t\treturn \"<b>\" + s + \"</b>\";\n\t\t\t\t},\n\n\t\t\t\tCountBack: function (el, secs) {\n\t                var countInterval = setInterval(function count() {\n\t                    if (secs < 0) {\n\t                        clearInterval(countInterval);\n\t                        el.html(timeout);\n\t                        return;\n\t                    }\n\t\t\t\t\t\tel.find('.day').html(methods.calcage(secs,86400,100000));\n\t\t\t\t\t\tel.find('.hour').html(methods.calcage(secs,3600,24));\n\t\t\t\t\t\tel.find('.min').html(methods.calcage(secs,60,60));\n\t\t\t\t\t\tel.find('.sec').html(methods.calcage(secs,1,60));\n\t                    secs += countStepper;\n\t                    return count;\n\t                }(), setTimeOutPeriod);\n\t\t\t\t},\n\n\t\t\t};\n\n\t\t\tif (methods[options]) { // $(\"#element\").pluginName('methodName', 'arg1', 'arg2');\n\t\t\t\treturn methods[options].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t} else if (typeof options === 'object' || !options) { // $(\"#element\").pluginName({ option: 1, option:2 });\n\t\t\t\treturn methods.init.apply(this);\n\t\t\t} else {\n\t\t\t\t$.error('Method \"' + method + '\" does not exist in timer plugin!');\n\t\t\t}\n\t\t}\n\n\t\t$(function($) {\n\t\t\tvar countdown = $('.alo-count-down').not('.exception');\n\t\t\tif (typeof alo_timer_layoutcaption != 'undefined'){\n\t\t\t\tcountdown.timer({layout : alo_timer_layout, layoutcaption : alo_timer_layoutcaption, timeout : alo_timer_timeout });\n\t\t\t    $('body').on('contentUpdated', function () {\n\t\t\t\t\t$('.alo-count-down').not('.exception').timer({layout : alo_timer_layout, layoutcaption : alo_timer_layoutcaption, timeout : alo_timer_timeout });\n\t\t\t    });\n\t\t\t} else {\n\t\t\t\tcountdown.timer();\t\t\t\n\t\t\t}\n\t\t});\n\t})($);\n\t/* End Timer */\n\n\t$(function($) {\n\t\t$('body').removeClass('preload');\n\t\tvar specialOffer = $('#header-offer');\n\t\tspecialOffer.find('.header-offer-close').on('click', function() {\n\t\t\tspecialOffer.slideUp('slow');\n\t\t});\n\n\t\t/* Fixed error header mobile Alothemes */\n\t\t$('.alo-account >.header.links').clone().appendTo('#store\\\\.links');\n\n\t\t$('.home-slider, .magicslider').each(function() { // home-slider, magic-slider\n\t\t\tif($(this).hasClass('autoplay')){\n\t    \t\tmagicproduct($(this));\n\t    \t}\n\t\t});\n\n\t\t// Realated + Upsell + Crosssell\n\t    $('.products-related .product-items, .products-upsell .product-items, .products-crosssell .product-items').each(function() {\n\t    \tmagicproduct($(this))\n\t    });\n\t\t// End Realated + Upsell + Crosssell\n\n\t\t// add Js\n\t\tvar $toggleTab  = $('.toggle-tab');\n\t\tvar $toggleContent  = $('.toggle-content');\n\t\t$(document).on(\"click\", '.toggle-tab', function(){\n\t\t\t$(this).parent().toggleClass('toggle-visible').find('.toggle-content').toggleClass('visible');\n\t\t\tvar input = $(this).parent().find('input');\n\t\t\tif(input.length) input.first().focus();\n\t\t});\n\t\t$(window).on('click', function(event) {\n\t\t\tif (!$toggleContent.is(event.target) && $toggleContent.has(event.target).length === 0) \n\t\t\t{\n\t\t\t\t$toggleTab.each(function() {\n\t\t\t\t\tif( $(this).has(event.target).length ) return;\n\t\t\t\t\tif( $(this).parent().has(event.target).length ) return;\n\t\t\t\t\tif( $(this).hasClass('outside-none') ) return;\n\t\t\t\t\t$(this).parent().removeClass('toggle-visible').find('.toggle-content').removeClass('visible');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Close button in toggle\n\t    var $closeTab = $('.toggle-content .btn-close');\n\t    $closeTab.on('click', function() {\n\t        $(this).closest('.toggle-visible').removeClass('toggle-visible').find('.dropdown-switcher').removeClass('visible');\n\t    });\n\n\t\t// add click map\n\n\t\tvar $toggleTabMap  = $('.onclick-map');\n\t\t$toggleTabMap.on('click', function(){\n\t\t\t$(this).parent().toggleClass('toggle-visible').find('.toggle-content').toggleClass('visible');\n\t\t});\n\t\tvar $closeMap = $('.onmap .btn-close');\n\t\t$closeMap.on('click', function() {\n\t\t\t$(this).closest('.tool-map').removeClass('toggle-visible').find('.toggle-content-close').removeClass('visible');\n\t\t});\n\n\t\tfunction _filterToggle(){\n\t\t\tvar $body \t\t\t = $('body');\n            var filtersToggle    = $body.find('.sidebar-filters-toggle');\n            if(!filtersToggle.length) return;\n\t\t\tvar $layerednav \t = $('#narrow-by-list, .filter-actions');\n\t\t\tvar $layerednavBrand = $('#layerednav-filter-block-brand');\n\t\t\tif(!$body.hasClass('has-sidebar-filters-toggle') && ($layerednav.length || $layerednavBrand.length)){\n\t\t\t\t$body.addClass('has-sidebar-filters-toggle');\n\t\t\t\t$(document).on('click', '.sidebar-filters-toggle', function(event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t$body.toggleClass('filter-active');\n\t\t\t\t\t$('#layerednav-filter-block').toggleClass('active');\n\t\t\t\t\t$('#layerednav-filter-block-brand').toggleClass('active');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t    function _increaseJnit(){\n\t    \tvar updateCart;\n\t\t\t$('.main').on(\"click\", '.alo_qty_dec', function(){\n\t\t\t    var input = $(this).closest('.qty').find('input');\n\t\t        var value  = parseInt(input.val());\n\t\t        if(value) input.val(value-1);\n\t\t        clearTimeout(updateCart);\n\t\t        updateCart = setTimeout(function(){ $('.action.update').trigger('click'); }, 1000);\n\t\t\t});\n\t\t    $('.main').on(\"click\", '.alo_qty_inc', function(){\n\t\t        var input = $(this).closest('.qty').find('input');\n\t\t        var value  = parseInt(input.val());\n\t\t        input.val(value+1);\n\t\t        clearTimeout(updateCart);\n\t\t        updateCart = setTimeout(function(){ $('.action.update').trigger('click'); }, 1000);\n\t\t    });\n\n\t\t    /* The code custom on product list */\n\t        $(document).on(\"click\",  '.product-item .increase', function() {\n\t            var $input = $(this).closest('.product-item').find(\"input.qty\");\n\t            $input.val(function(i, value) {\n\t                value = parseInt(value);\n\t                return value + 1;\n\t            });\n\t        });\n\n\t        $(document).on(\"click\", '.product-item .reduced', function() {\n\t            var $input = $(this).closest('.product-item').find(\"input.qty\");\n\t            var values = $input.val();\n\t            values = parseInt(values);\n\t            if (values > 1) {\n\t                $input.val(function(i, value) {\n\t                    value = parseInt(value);\n\t                    return value - 1;\n\t                });\n\t            }\n\t        });\t\t    \t\n\t    }\n\n\t    function _goTopJnit(){\n\t\t\tvar $body = $('body'),\n\t\t\t\t$backtotop = $('#backtotop');\n\t\t\tif (!$backtotop.length) return;\n\t\t\t$backtotop.hide();\n\t\t\tvar lastScrollTop = 0,\n\t\t\t\tdocumentHeight = Math.max(\n\t\t\t\tdocument.body.scrollHeight,\n\t\t\t\tdocument.documentElement.scrollHeight,\n\t\t\t\tdocument.body.offsetHeight,\n\t\t\t\tdocument.documentElement.offsetHeight,\n\t\t\t\tdocument.body.clientHeight,\n\t\t\t\tdocument.documentElement.clientHeight\n\t\t\t);\n\t\t\twindow.addEventListener(\"scroll\", (event) => {\n\t\t\t\tvar status = window.scrollY;\n\t\t\t\tif (status + window.innerHeight >= documentHeight){\n\t\t\t\t\t$body.removeClass('scroll_down scroll_up scroll_init').addClass('scroll_down_end');\n\t\t\t\t} else if (status > lastScrollTop){\n\t\t\t\t\t$body.removeClass('scroll_up scroll_init scroll_down_end').addClass('scroll_down');\n\t\t\t\t} else if(status == lastScrollTop){\n\t\t\t\t\t$body.removeClass('scroll_down scroll_up scroll_down_end').addClass('scroll_init');\n\t\t\t\t} else {\n\t\t\t\t\t$body.removeClass('scroll_down scroll_init scroll_down_end').addClass('scroll_up');\n\t\t\t\t}\n\t\t\t\tlastScrollTop = status;\n\t\t\t\tif($('body').hasClass('cms-no-route')) return;\n\t\t\t\tif (status > documentHeight/10) $backtotop.fadeIn();\n\t\t\t\telse $backtotop.fadeOut();\n\t\t\t});\n\t\t\t$backtotop.on('click', function () {\n\t\t\t\t$('body,html').animate({scrollTop: 0}, 800);\n\t\t\t\treturn false;\n\t\t\t});\n\t    }\n\n\t\tfunction _elevatorJnit(){\n\t\t\t/* elevator click*/ \n\t\t\tvar $megashop = $('.megashop');\n\t\t\tvar length = $megashop.length;\n\t\t\t$megashop.each(function(index, el) {\n\t\t\t\tvar elevator = $(this).find('.floor-elevator');\n\t\t\t\televator.attr('id', 'elevator-' +index);\n\t\t\t\tvar bntUp \t= elevator.find('.btn-elevator.up');\n\t\t\t\tvar bntDown = elevator.find('.btn-elevator.down');\n\t\t\t\tbntUp.attr('href', '#elevator-' + (index-1));\n\t\t\t\tbntDown.attr('href', '#elevator-' +(index+1));\n\t\t\t\tif(!index) bntUp.addClass('disabled');\n\t\t\t\tif(index == length-1) bntDown.addClass('disabled');\n\t\t\t\televator.find('.btn-elevator').on('click', function(e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar target = this.hash;\n\t\t\t\t\tif(!$(document).find(target).length) return false;\n\t\t\t\t\tvar $target = $(target);\n\t\t\t\t\t$('html, body').stop().animate({'scrollTop': $target.offset().top-50 }, 500);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t    // add equalheight category\n\t\t(function( $ ) {\n\n\t\t\t$.fn.equalHeights = function( options ) {\n\t\t\t\tvar defaults = {\n\t\t\t\t\tonResize: \ttrue,\n\t\t\t\t\tonLoad: \ttrue\n\t\t\t\t};\n\t\t\t\tvar settings = $.extend( {}, defaults, options );\n\t\t\t\t\n\t\t\t\tvar topPositions = {},\n\t\t\t\t\tfoundPosition = 0,\n\t\t\t\t\t$el = [],\n\t\t\t\t\tcurHeight = 0,\n\t\t\t\t\ttopPosition = 0,\n\t\t\t\t\tresizeTimer,\n\t\t\t\t\t$elements = $(this);\n\t\t\t \n\t\t\t\tif ($elements.length < 2) return this;\n\t\t\t\t\n\t\t\t\tif ( settings.onResize ) {\n\t\t\t\t\t$(window).on('resize' , function(){\n\t\t\t\t\t\tif ( resizeTimer ) window.clearTimeout(resizeTimer);\n\t\t\t\t\t\tresizeTimer = window.setTimeout(function() {\n\t\t\t\t\t\t\t$elements.equalHeights( { onResize: false, onLoad: false } );\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tif ( settings.onLoad ) {\n\t\t\t\t\t$(window).on('load', function () {\n\t\t\t\t\t\t$elements.equalHeights( { onResize: false, onLoad: false } );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t \n\t\t\t\t$elements.each(function() {\n\t\t\t\t\t$el = $(this);\n\t\t\t\t\t$el.height('auto');// restore original height from possible previous equalHeights()\n\t\t\t\t\tcurHeight = $el.height();\n\t\t\t \n\t\t\t\t\tif ( curHeight > 0 ) {\n\t\t\t\t\t\ttopPosition = $el.position().top;\n\t\t\t\t\t\tfoundPosition = topPosition in topPositions;\n\t\t\t\t\t\t\t \n\t\t\t\t\t\tif(!foundPosition) {\n\t\t\t\t\t\t\t// First at this position, only store and set height\n\t\t\t\t\t\t\ttopPositions[topPosition] = curHeight;\n\t\t\t\t\t\t\t$el.height(topPositions[topPosition]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(curHeight > topPositions[topPosition]) {\n\t\t\t\t\t\t\t\t// Tallest so far for this position, remember tallest and stretch others on this position\n\t\t\t\t\t\t\t\ttopPositions[topPosition] = curHeight;\n\t\t\t\t\t\t\t\t$($elements).filter(function() {\n\t\t\t\t\t\t\t\t\treturn $(this).position().top == topPosition;\n\t\t\t\t\t\t\t\t}).height(curHeight);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Same or less high, maximize this one\n\t\t\t\t\t\t\t\t$el.height(topPositions[topPosition]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t \n\t\t\t\treturn this;\n\t\t\t \n\t\t\t};\n\n\t\t}( $ ));\n\n\t    // add equalheight category\n\t\tfunction _equalHeightJnit(selector){\n\t\t\tif(selector === undefined) selector = '.category-products.products-grid .items';\n\t\t    $(selector).each(function(){\n\t\t        var $this = $(this),\n\t\t            target = $this.find('>.item');\n\t\t        $this.find(target).equalHeights();\n\t\t    });\n\t\t}\n\n\t\tfunction _qsJnit(){\n            var obj = arguments[0],\n            \tbody = $('body');\n            if(!$('#modals_quickview').length) body.append('<div id=\"modals_quickview\" style=\"display:none\"></div>');\n            var _qsModal = $('#modals_quickview'),\n            \tquickajax= function(url){\n                $.ajax({\n                    url:url,\n                    type:'POST',\n                    showLoader: true,\n                    cache:false,   \n                    success:function(data){\n                    \tvar typeProduct = data.match(/catalog_product_view_type\\w*/g);\n\t\t\t\t\t\ttypeProduct = typeProduct.length ? typeProduct[0].replace('catalog_product_view', 'quickview') : '';\n\t\t\t\t\t\tdata = data.replace(\"[data-role=priceBox][data-price-box=product-id-\", \".product-view [data-role=priceBox][data-price-box=product-id-\");\n                    \tvar pricebox = $('.price-box');\n                    \tpricebox.addClass('price-box-conflict-quickview');\n                    \tpricebox.removeClass('price-box');\n                        _qsModal.html('<div class=\"content-quickview\">' + data + '</div>');\n                        if(!body.hasClass('open-quickview')){\n                            body.addClass(`open-quickview ${typeProduct}`);\n                            var modalsQuickview = body.find('.modals-quickview');\n                            if(!modalsQuickview.length){\n                                modal({\n                                    type: 'popup',\n                                    modalClass: 'modals-quickview',\n                                    responsive: true,\n                                    innerScroll: true,\n                                    buttons: false,\n                                    closed: function(){\n                                        body.removeClass(`open-quickview ${typeProduct}`);\n\t\t\t\t\t\t\t\t\t\tvar pricebox = $('.price-box-conflict-quickview');    \n\t\t\t\t\t\t\t\t        pricebox.addClass('price-box');\n\t\t\t\t\t\t\t\t        pricebox.removeClass('price-box-conflict-quickview'); \n                                    } \n                                }, _qsModal);\n                            }\n                            _qsModal.modal('openModal');\n                        }\n                        _qsModal.trigger('contentUpdated');                          \n                    }\n                });\n                _qsModal.on('fotorama:load', function(){\n                \tvar imgBox = _qsModal.find(\".product-img-box\");\n                \tif(imgBox.height() > imgBox.width()) _qsModal.find(\".product-view .product-info-main.product-shop\").height(imgBox.height());\n                });\n            }\n            if(obj.url){\n                quickajax(obj.url)\n            } else {\n                $(document).on('click', obj.itemClass, function(e) {\n                    e.preventDefault();\n                    quickajax($(this).data('url'))\n                });\n            }\n\t\t}\n\n\t\t_filterToggle()\n\t\t_increaseJnit()\n\n\t\t_goTopJnit()\n\n\t\t_elevatorJnit()\n\n\t\t$(window).on('resize contentUpdated swatch.initialized', function() {\n\t\t\t_equalHeightJnit();\n\t\t})\n\n\t\t_qsJnit({url : '',itemClass : '.quickview.autoplay'});\n\n\t\t$.fn.quickview \t = _qsJnit;\n\t\t$.fn.equalheight = _equalHeightJnit;\n\n\t\t$('.bg-parallax').each(function(){$(this).parallax(\"50%\",0.1);})\n\n\t\t$('.delivery-return .delivery-return-text').on('click', function () {\n\t\t\tmodal({\n\t\t\t\ttype: 'popup',\n\t\t\t\tmodalClass: 'modals-deliveryguide',\n\t\t\t\tresponsive: true, \n\t\t\t\tautoOpen: true,\n\t\t\t\tbuttons: false           \n\t\t\t}, '#delivery-return-popup');\n\t\t});\n\n\t\t$(document).on('click', '.crisp-chat-popup', function(e) {\n\t\t\te.preventDefault();\n\t\t\tif (typeof $crisp !== 'undefined') {\n\t\t\t\t$crisp.push(['do', 'chat:open']);\n\t\t\t}\n\t\t});\n\t    $('body').one('mousemove', function() { \n\t\t\t$('.suggest-slider').each(function() {\n\t\t\t\tif($(this).hasClass('autoplay')){\n\t\t\t\t\tvar config = $(this).data();\n\t\t\t\t\t$(this).notifySlider(config);\n\t\t\t\t}\n\t\t\t});\n\t\t} );\n\t\t/* Fix error click my acount in checkout page of theme */\n\t\t$(document).on('click', '.proceed-to-checkout', function(e) {\n\t\t\tvar authentication = $('[data-trigger=\"authentication\"]');\n\t\t\tif(authentication.length){\n\t\t\t\tauthentication.trigger('click');\n\t\t\t}else{\n\t\t\t\tvar popupLogin = $(\"#authenticationPopup\");\n\t\t\t\tif(popupLogin.length && popupLogin.find('input[name=\"username\"]').length){\n\t\t\t\t\tmodal({\n\t\t\t\t\t\t'type': 'popup',\n\t\t\t\t\t\t'modalClass': 'alo-modal-popup popup-authentication',\n\t\t\t\t\t\t'focus': '[name=username]',\n\t\t\t\t\t\t'responsive': true,\n\t\t\t\t\t\t'innerScroll': true,\n\t\t\t\t\t\t'autoOpen': true,\n\t\t\t\t\t\t'buttons': false\n\t\t\t\t\t}, popupLogin);\n\t\t\t\t}else {\n\t\t\t\t\tvar popupLogin = $(\"#customer-popup-login\");\n\t\t\t\t\tif(popupLogin.length && popupLogin.find('input[name=\"username\"]').length){\n\t\t\t\t\t\tmodal({\n\t\t\t\t\t\t\t'type': 'popup',\n\t\t\t\t\t\t\t'modalClass': 'modal-customer-login',\n\t\t\t\t\t\t\t'focus': '[name=username]',\n\t\t\t\t\t\t\t'responsive': true,\n\t\t\t\t\t\t\t'innerScroll': true,\n\t\t\t\t\t\t\t'autoOpen': true,\n\t\t\t\t\t\t\t'buttons': false\n\t\t\t\t\t\t}, popupLogin);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* Demo column */\n\t\tconst colNumer = new URLSearchParams(window.location.search).get('col'),\n\t\t\tcolRegex = /col-(\\d+)|col-md-(\\d+)|col-lg-(\\d+)/g;\n\t\tif (document.querySelector('body.catalog-category-view, body.catalogsearch-result-index') && colNumer){\n\t\t\tconst gridMode = document.querySelector(`.grid-view-mode .grid-mode.grid-${colNumer}`);\n\t\t\tif (gridMode) gridMode.click()\n\t\t} else if (document.querySelector('body.blog-category-view, body.blog-index-index') && colNumer) {\n\t\t\t$('.post-list .post-item').attr('class', function (index, value) {\n\t\t\t\treturn value.replace(colRegex, (match, p1, p2, p3) => {\n\t\t\t\t\treturn match.replace(/\\d+/, Math.round(12 / colNumer));\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t});\n\n});","Magiccart_Alothemes/js/grid-view.js":"/*\n* @Author: Alex Dong\n* @Date:   2021-06-20 13:21:07\n* @Last Modified by:   Alex Dong\n* @Last Modified time: 2022-07-18 18:27:03\n*/\n\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget'\n    ], function ($) {\n\t\t\"use strict\";\n        $.widget('magiccart.gridView', {\n            options: {\n                selector: '',\n            },\n\n            _create: function () {\n            \tvar options = this.options;\n            \tthis._initGrid();\n            },\n\n\t\t\t_uniqid: function (a = \"\", b = false) {\n\t\t\t    const c = Date.now()/1000;\n\t\t\t    let d = c.toString(16).split(\".\").join(\"\");\n\t\t\t    while(d.length < 14) d += \"0\";\n\t\t\t    let e = \"\";\n\t\t\t    if(b){\n\t\t\t        e = \".\";\n\t\t\t        e += Math.round(Math.random()*100000000);\n\t\t\t    }\n\t\t\t    return a + d + e;\n\t\t\t},\n\n            _initGrid: function () {\n                var options = this.options;\n                var self = this;\n                var elements = options.selector ? self.element.find(options.selector) : self.element;\n                elements.each(function() {\n                    var element = $(this);\n\t\t\t\t\tself.gridActive(element);\n\t\t\t\t\t$(window).on('resize', function(){\n\t\t\t\t\t\tself.gridActive(element);\n\t\t\t\t\t});\n                \tself.gridRender(element);\t\t           \t\n                });\n            },\n\n            gridActive: function (element) {\n\t\t        var responsive \t= element.data('responsive');\n\t\t\t\tif(responsive == undefined) return;\n\t\t\t\tvar length = Object.keys(responsive).length;\n\t\t\t\tvar grid = 0;\n\t\t\t\tvar startWith = 1;\n\t\t\t\tvar screenWidth = window.innerWidth;\n\t\t\t\t$.each( responsive, function( key, value ) {\n\t\t\t\t\tvar breakIt = false;\n\t\t\t\t\t$.each( responsive[key], function( maxWith, num) { \n\t\t\t\t\t\tif( startWith < screenWidth && screenWidth <= maxWith || length == key + 1 ){ startWith = maxWith; grid = num; breakIt = true; }\n\t\t\t\t\t});\n\t\t\t\t\tif(breakIt) return false;\n\t\t\t\t});\n\t\t\t\telement.find('.grid-' + grid).addClass('active').siblings().removeClass('active');\n            },\n\n            gridRender: function (element) {\n            \tvar self \t= this;\n            \tvar $body   = $('body');\n                element.addClass('grid-view-' + self._uniqid());\n\t\t\t\tvar options = element.data();\n\t\t\t\tvar selector= '.category-products';\n\t\t\t\tvar classes\t= '.product-items .product-item';\n\t\t        var padding = options.padding;\n\t\t\t\tvar responsive \t= options.responsive;\n\t\t\t\tif(responsive  == undefined) return;\n\t\t        var float  \t= $('body').hasClass('rtl') ? 'right' : 'left';\n\t\t        var length  = Object.keys(responsive).length;\n\t\t\t\telement.on('click', '.grid-mode', function(event) {\n\t\t\t\t\tif($(this).hasClass('active')) return;\n\t\t\t\t\tvar screenWidth = window.innerWidth;\n\t\t\t\t\tvar $this = $(this);\n\t\t        \t// var style = padding ? classes + '{float: ' + float + '; padding: 0 '+padding+'px; box-sizing: border-box} ' + selector + '{margin: 0 -'+padding+'px}' : '';\n\t\t        \tvar style = padding ? classes + '{float: ' + float + '; padding: 0 '+padding+'px; box-sizing: border-box}' : '';\n\t\t\t\t\tvar startWith = 1;\n\t\t\t\t\tvar gridViewStyle = $('.grid-view-style');\n\t\t\t\t\tgridViewStyle.not(':first').remove();\n\t\t\t\t\t$.each( responsive, function( key, value ) { // data-responsive=\"[{\"1\":\"1\"},{\"361\":\"1\"},{\"480\":\"2\"},{\"640\":\"3\"},{\"768\":\"3\"},{\"992\":\"4\"},{\"1200\":\"4\"}]\"\n\t\t\t\t\t\tvar col = 0;\n\t\t\t\t\t\tvar maxWith = 0;\n\t\t\t\t\t\tvar minWith = 0;\n\t\t\t\t\t\t$.each( value , function(size, num) { minWith = parseInt(size) + 1; col = num;});\n\t\t\t\t\t\tif(key+2<length){\n\t\t\t\t\t\t\t$.each( responsive[key+1], function( size, num) { maxWith = size; col = num;});\n\t\t\t\t\t\t\t// padding = options.padding*(maxWith/1200); // padding responsive\n\t\t\t\t\t\t\tstyle += ' @media (min-width: '+minWith+'px) and (max-width: '+maxWith+'px)';\n\t\t\t\t\t\t} else { \n\t\t\t\t\t\t\tif(key+2 == length) return; // don't use key = length - 1;\n\t\t\t\t\t\t\t$.each( responsive[key], function( size, num) { maxWith = size; col = num;});\n\t\t\t\t\t\t\tstyle += ' @media (min-width: '+maxWith+'px)';\n\t\t\t\t\t\t}\n                        if(startWith < screenWidth && screenWidth <= maxWith || length == key + 1){\n                            startWith = maxWith;\n                            col = $this.data('grid');\n                            responsive[key] = {[minWith -1]: col}; \n                            $this.addClass('active');\n                            $this.siblings().each(function() {\n                                $(this).removeClass('active');\n                                $body.removeClass('grid-mode-' + $(this).data('grid'));\n                            });\n                            $body.addClass('grid-mode-' + col);\n\n                        }\n\t\t\t\t\t\tstyle += ' {'+selector + ' .content-products' + '{margin-left: -'+padding+'px; margin-right: -'+padding+'px}'+classes+'{padding-left: '+padding+'px; padding-right:'+padding+'px; width: calc(100% / ' + col + ')} '+classes+':nth-child('+col+'n+1){clear: ' + float + ';}}';\n\t\t\t\t\t});\n\t\n\t\t\t       \tgridViewStyle.html(style);\n\t\t\t\t\t$('body').trigger('contentUpdated');\n\t\t\t\t});\n\t\t\t\tvar gridMode = new URLSearchParams(window.location.search).get('gridMode');\n\t\t\t\tif (gridMode) element.find(`.grid-mode[data-grid=\"${gridMode}\"]`).trigger('click');\n            }\n\n        });\n\n    return $.magiccart.gridView;\n});\n","Magiccart_Alothemes/js/plugins/jquery.easing.min.js":"!function(n){\"function\"==typeof define&&define.amd?define([\"jquery\"],function(e){return n(e)}):\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=n(require(\"jquery\")):n(jQuery)}(function(n){function e(n){var e=7.5625,t=2.75;return n<1/t?e*n*n:n<2/t?e*(n-=1.5/t)*n+.75:n<2.5/t?e*(n-=2.25/t)*n+.9375:e*(n-=2.625/t)*n+.984375}void 0!==n.easing&&(n.easing.jswing=n.easing.swing);var t=Math.pow,u=Math.sqrt,r=Math.sin,i=Math.cos,a=Math.PI,o=1.70158,c=1.525*o,s=2*a/3,f=2*a/4.5;return n.extend(n.easing,{def:\"easeOutQuad\",swing:function(e){return n.easing[n.easing.def](e)},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return 1-(1-n)*(1-n)},easeInOutQuad:function(n){return n<.5?2*n*n:1-t(-2*n+2,2)/2},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1-t(1-n,3)},easeInOutCubic:function(n){return n<.5?4*n*n*n:1-t(-2*n+2,3)/2},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1-t(1-n,4)},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-t(-2*n+2,4)/2},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1-t(1-n,5)},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1-t(-2*n+2,5)/2},easeInSine:function(n){return 1-i(n*a/2)},easeOutSine:function(n){return r(n*a/2)},easeInOutSine:function(n){return-(i(a*n)-1)/2},easeInExpo:function(n){return 0===n?0:t(2,10*n-10)},easeOutExpo:function(n){return 1===n?1:1-t(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:n<.5?t(2,20*n-10)/2:(2-t(2,-20*n+10))/2},easeInCirc:function(n){return 1-u(1-t(n,2))},easeOutCirc:function(n){return u(1-t(n-1,2))},easeInOutCirc:function(n){return n<.5?(1-u(1-t(2*n,2)))/2:(u(1-t(-2*n+2,2))+1)/2},easeInElastic:function(n){return 0===n?0:1===n?1:-t(2,10*n-10)*r((10*n-10.75)*s)},easeOutElastic:function(n){return 0===n?0:1===n?1:t(2,-10*n)*r((10*n-.75)*s)+1},easeInOutElastic:function(n){return 0===n?0:1===n?1:n<.5?-t(2,20*n-10)*r((20*n-11.125)*f)/2:t(2,-20*n+10)*r((20*n-11.125)*f)/2+1},easeInBack:function(n){return 2.70158*n*n*n-o*n*n},easeOutBack:function(n){return 1+2.70158*t(n-1,3)+o*t(n-1,2)},easeInOutBack:function(n){return n<.5?t(2*n,2)*(7.189819*n-c)/2:(t(2*n-2,2)*((c+1)*(2*n-2)+c)+2)/2},easeInBounce:function(n){return 1-e(1-n)},easeOutBounce:e,easeInOutBounce:function(n){return n<.5?(1-e(1-2*n))/2:(1+e(2*n-1))/2}}),n});","Magiccart_Alothemes/js/plugins/jquery.parallax.js":"/*\nPlugin: jQuery Parallax\nVersion 1.1.3\nAuthor: Ian Lunn\nTwitter: @IanLunn\nAuthor URL: http://www.ianlunn.co.uk/\nPlugin URL: http://www.ianlunn.co.uk/plugins/jquery-parallax/\n\nDual licensed under the MIT and GPL licenses:\nhttp://www.opensource.org/licenses/mit-license.php\nhttp://www.gnu.org/licenses/gpl.html\n*/\n\n(function( $ ){\n\tvar $window = $(window);\n\tvar windowHeight = $window.height();\n\n\t$window.on('resize', function () {\n\t\twindowHeight = $window.height();\n\t});\n\n\t$.fn.parallax = function(xpos, speedFactor, outerHeight) {\n\t\tvar $this = $(this);\n\t\tvar getHeight;\n\t\tvar firstTop;\n\t\tvar paddingTop = 0;\n\t\t\n\t\t//get the starting position of each element to have parallax applied to it\t\t\n\t\t$this.each(function(){\n\t\t    firstTop = $this.offset().top;\n\t\t});\n\n\t\tif (outerHeight) {\n\t\t\tgetHeight = function(jqo) {\n\t\t\t\treturn jqo.outerHeight(true);\n\t\t\t};\n\t\t} else {\n\t\t\tgetHeight = function(jqo) {\n\t\t\t\treturn jqo.height();\n\t\t\t};\n\t\t}\n\t\t\t\n\t\t// setup defaults if arguments aren't specified\n\t\tif (arguments.length < 1 || xpos === null) xpos = \"50%\";\n\t\tif (arguments.length < 2 || speedFactor === null) speedFactor = 0.1;\n\t\tif (arguments.length < 3 || outerHeight === null) outerHeight = true;\n\t\t\n\t\t// function to be called whenever the window is scrolled or resized\n\t\tfunction update(){\n\t\t\tvar pos = $window.scrollTop();\t\t\t\t\n\n\t\t\t$this.each(function(){\n\t\t\t\tvar $element = $(this);\n\t\t\t\tvar top = $element.offset().top;\n\t\t\t\tvar height = getHeight($element);\n\n\t\t\t\t// Check if totally above or totally below viewport\n\t\t\t\tif (top + height < pos || top > pos + windowHeight) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$this.css('backgroundPosition', xpos + \" \" + Math.round((firstTop - pos) * speedFactor) + \"px\");\n\t\t\t});\n\t\t}\t\t\n\n\t\t$window.bind('scroll', update).on('resize', update);\n\t\tupdate();\n\t};\n})(jQuery);\n\n","Magiccart_Alothemes/js/plugins/slick.min.js":"/*\n     _ _      _       _\n ___| (_) ___| | __  (_)___\n/ __| | |/ __| |/ /  | / __|\n\\__ \\ | | (__|   < _ | \\__ \\\n|___/_|_|\\___|_|\\_(_)/ |___/\n                   |__/\n\n Version: 1.9.0\n  Author: Ken Wheeler\n Website: http://kenwheeler.github.io\n    Docs: http://kenwheeler.github.io/slick\n    Repo: http://github.com/kenwheeler/slick\n  Issues: http://github.com/kenwheeler/slick/issues\n\n */\n(function(){if(typeof EventTarget!==\"undefined\"){let func=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(type,fn,capture){this.func=func;if(typeof capture!==\"boolean\"){capture=capture||{};capture.passive=!1}\nthis.func(type,fn,capture)}}}());\n(function(i){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],i):\"undefined\"!=typeof exports?module.exports=i(require(\"jquery\")):i(jQuery)})(function(i){\"use strict\";var e=window.Slick||{};e=function(){function e(e,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',nextArrow:'<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:\"50px\",cssEase:\"ease\",customPaging:function(e,t){return i('<button type=\"button\" />').text(t+1)},dots:!1,dotsClass:\"slick-dots\",draggable:!0,easing:\"linear\",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:\"ondemand\",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:\"window\",responsive:null,rows:1,rtl:!1,slide:\"\",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden=\"hidden\",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange=\"visibilitychange\",n.windowWidth=0,n.windowTimer=null,s=i(e).data(\"slick\")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,\"undefined\"!=typeof document.mozHidden?(n.hidden=\"mozHidden\",n.visibilityChange=\"mozvisibilitychange\"):\"undefined\"!=typeof document.webkitHidden&&(n.hidden=\"webkitHidden\",n.visibilityChange=\"webkitvisibilitychange\"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=t++,n.htmlExpr=/^(?:\\s*(<[\\w\\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}var t=0;return e}(),e.prototype.activateADA=function(){var i=this;i.$slideTrack.find(\".slick-active\").attr({\"aria-hidden\":\"false\"}).find(\"a, input, button, select\").attr({tabindex:\"0\"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if(\"boolean\"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),\"number\"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]=\"translate(\"+i+\"px, 0px)\",s.$slideTrack.css(o)):(o[s.animType]=\"translate(0px,\"+i+\"px)\",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?o[s.animType]=\"translate3d(\"+e+\"px, 0px, 0px)\":o[s.animType]=\"translate3d(0px,\"+e+\"px, 0px)\",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this,o=t.getNavTarget();null!==o&&\"object\"==typeof o&&o.each(function(){var t=i(this).slick(\"getSlick\");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};e.options.fade===!1?t[e.transitionType]=e.transformType+\" \"+e.options.speed+\"ms \"+e.options.cssEase:t[e.transitionType]=\"opacity \"+e.options.speed+\"ms \"+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(i.options.infinite===!1&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1===0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=i(e.options.prevArrow).addClass(\"slick-arrow\"),e.$nextArrow=i(e.options.nextArrow).addClass(\"slick-arrow\"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.$nextArrow.removeClass(\"slick-hidden\").removeAttr(\"aria-hidden tabindex\"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\")):e.$prevArrow.add(e.$nextArrow).addClass(\"slick-hidden\").attr({\"aria-disabled\":\"true\",tabindex:\"-1\"}))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(o.$slider.addClass(\"slick-dotted\"),t=i(\"<ul />\").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i(\"<li />\").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find(\"li\").first().addClass(\"slick-active\")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+\":not(.slick-cloned)\").addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr(\"data-slick-index\",e).data(\"originalStyling\",i(t).attr(\"style\")||\"\")}),e.$slider.addClass(\"slick-slider\"),e.$slideTrack=0===e.slideCount?i('<div class=\"slick-track\"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class=\"slick-track\"/>').parent(),e.$list=e.$slideTrack.wrap('<div class=\"slick-list\"/>').parent(),e.$slideTrack.css(\"opacity\",0),e.options.centerMode!==!0&&e.options.swipeToSlide!==!0||(e.options.slidesToScroll=1),i(\"img[data-lazy]\",e.$slider).not(\"[src]\").addClass(\"slick-loading\"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass(\"draggable\")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>0){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement(\"div\");for(e=0;e<l.options.rows;e++){var a=document.createElement(\"div\");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+\"%\",display:\"inline-block\"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if(\"window\"===r.respondTo?n=a:\"slider\"===r.respondTo?n=d:\"min\"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(r.originalSettings.mobileFirst===!1?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,\"unslick\"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||l===!1||r.$slider.trigger(\"breakpoint\",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is(\"a\")&&e.preventDefault(),l.is(\"li\")||(l=l.closest(\"li\")),n=r.slideCount%r.options.slidesToScroll!==0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case\"previous\":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case\"next\":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case\"index\":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger(\"focus\");break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i(\"li\",e.$dots).off(\"click.slick\",e.changeSlide).off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)),e.options.accessibility===!0&&e.$dots.off(\"keydown.slick\",e.keyHandler)),e.$slider.off(\"focus.slick blur.slick\"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off(\"click.slick\",e.changeSlide),e.$nextArrow&&e.$nextArrow.off(\"click.slick\",e.changeSlide),e.options.accessibility===!0&&(e.$prevArrow&&e.$prevArrow.off(\"keydown.slick\",e.keyHandler),e.$nextArrow&&e.$nextArrow.off(\"keydown.slick\",e.keyHandler))),e.$list.off(\"touchstart.slick mousedown.slick\",e.swipeHandler),e.$list.off(\"touchmove.slick mousemove.slick\",e.swipeHandler),e.$list.off(\"touchend.slick mouseup.slick\",e.swipeHandler),e.$list.off(\"touchcancel.slick mouseleave.slick\",e.swipeHandler),e.$list.off(\"click.slick\",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off(\"keydown.slick\",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().off(\"click.slick\",e.selectHandler),i(window).off(\"orientationchange.slick.slick-\"+e.instanceUid,e.orientationChange),i(window).off(\"resize.slick.slick-\"+e.instanceUid,e.resize),i(\"[draggable!=true]\",e.$slideTrack).off(\"dragstart\",e.preventDefault),i(window).off(\"load.slick.slick-\"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.off(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>0&&(i=e.$slides.children().children(),i.removeAttr(\"style\"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(\".slick-cloned\",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass(\"slick-disabled slick-arrow slick-hidden\").removeAttr(\"aria-hidden aria-disabled tabindex\").css(\"display\",\"\"),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass(\"slick-slide slick-active slick-center slick-visible slick-current\").removeAttr(\"aria-hidden\").removeAttr(\"data-slick-index\").each(function(){i(this).attr(\"style\",i(this).data(\"originalStyling\"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass(\"slick-slider\"),t.$slider.removeClass(\"slick-initialized\"),t.$slider.removeClass(\"slick-dotted\"),t.unslicked=!0,e||t.$slider.trigger(\"destroy\",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]=\"\",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;e.cssTransitions===!1?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off(\"focus.slick blur.slick\").on(\"focus.slick\",\"*\",function(t){var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&o.is(\":focus\")&&(e.focussed=!0,e.autoPlay())},0)}).on(\"blur.slick\",\"*\",function(t){i(this);e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(i.options.centerMode===!0)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,n.options.vertical===!0&&n.options.centerMode===!0&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!==0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),n.options.centerMode===!0&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=n.options.vertical===!1?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,n.options.variableWidth===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,n.options.centerMode===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(\".slick-slide\").eq(i):n.$slideTrack.children(\".slick-slide\").eq(i+n.options.slidesToShow+1),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?i=e.slideCount:(t=e.options.slidesToScroll*-1,o=e.options.slidesToScroll*-1,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s,n=this;return s=n.options.centerMode===!0?Math.floor(n.$list.width()/2):0,o=n.swipeLeft*-1+s,n.options.swipeToSlide===!0?(n.$slideTrack.find(\".slick-slide\").each(function(e,s){var r,l,d;if(r=i(s).outerWidth(),l=s.offsetLeft,n.options.centerMode!==!0&&(l+=r/2),d=l+r,o<d)return t=s,!1}),e=Math.abs(i(t).attr(\"data-slick-index\")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:\"index\",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass(\"slick-initialized\")||(i(t.$slider).addClass(\"slick-initialized\"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger(\"init\",[t]),t.options.accessibility===!0&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(\".slick-cloned\")).attr({\"aria-hidden\":\"true\",tabindex:\"-1\"}).find(\"a, input, button, select\").attr({tabindex:\"-1\"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(\".slick-cloned\")).each(function(t){var s=o.indexOf(t);if(i(this).attr({role:\"tabpanel\",id:\"slick-slide\"+e.instanceUid+t,tabindex:-1}),s!==-1){var n=\"slick-slide-control\"+e.instanceUid+s;i(\"#\"+n).length&&i(this).attr({\"aria-describedby\":n})}}),e.$dots.attr(\"role\",\"tablist\").find(\"li\").each(function(s){var n=o[s];i(this).attr({role:\"presentation\"}),i(this).find(\"button\").first().attr({role:\"tab\",id:\"slick-slide-control\"+e.instanceUid+s,\"aria-controls\":\"slick-slide\"+e.instanceUid+n,\"aria-label\":s+1+\" of \"+t,\"aria-selected\":null,tabindex:\"-1\"})}).eq(e.currentSlide).find(\"button\").attr({\"aria-selected\":\"true\",tabindex:\"0\"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.options.focusOnChange?e.$slides.eq(s).attr({tabindex:\"0\"}):e.$slides.eq(s).removeAttr(\"tabindex\");e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off(\"click.slick\").on(\"click.slick\",{message:\"previous\"},i.changeSlide),i.$nextArrow.off(\"click.slick\").on(\"click.slick\",{message:\"next\"},i.changeSlide),i.options.accessibility===!0&&(i.$prevArrow.on(\"keydown.slick\",i.keyHandler),i.$nextArrow.on(\"keydown.slick\",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&(i(\"li\",e.$dots).on(\"click.slick\",{message:\"index\"},e.changeSlide),e.options.accessibility===!0&&e.$dots.on(\"keydown.slick\",e.keyHandler)),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.slideCount>e.options.slidesToShow&&i(\"li\",e.$dots).on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)).on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on(\"mouseenter.slick\",i.proxy(e.interrupt,e,!0)),e.$list.on(\"mouseleave.slick\",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on(\"touchstart.slick mousedown.slick\",{action:\"start\"},e.swipeHandler),e.$list.on(\"touchmove.slick mousemove.slick\",{action:\"move\"},e.swipeHandler),e.$list.on(\"touchend.slick mouseup.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"touchcancel.slick mouseleave.slick\",{action:\"end\"},e.swipeHandler),e.$list.on(\"click.slick\",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on(\"keydown.slick\",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),i(window).on(\"orientationchange.slick.slick-\"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on(\"resize.slick.slick-\"+e.instanceUid,i.proxy(e.resize,e)),i(\"[draggable!=true]\",e.$slideTrack).on(\"dragstart\",e.preventDefault),i(window).on(\"load.slick.slick-\"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match(\"TEXTAREA|INPUT|SELECT\")||(37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?\"next\":\"previous\"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?\"previous\":\"next\"}}))},e.prototype.lazyLoad=function(){function e(e){i(\"img[data-lazy]\",e).each(function(){var e=i(this),t=i(this).attr(\"data-lazy\"),o=i(this).attr(\"data-srcset\"),s=i(this).attr(\"data-sizes\")||r.$slider.attr(\"data-sizes\"),n=document.createElement(\"img\");n.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr(\"srcset\",o),s&&e.attr(\"sizes\",s)),e.attr(\"src\",t).animate({opacity:1},200,function(){e.removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\")}),r.$slider.trigger(\"lazyLoaded\",[r,e,t])})},n.onerror=function(){e.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),r.$slider.trigger(\"lazyLoadError\",[r,e,t])},n.src=t})}var t,o,s,n,r=this;if(r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),n=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,n<=r.slideCount&&n++)),t=r.$slider.find(\".slick-slide\").slice(s,n),\"anticipated\"===r.options.lazyLoad)for(var l=s-1,d=n,a=r.$slider.find(\".slick-slide\"),c=0;c<r.options.slidesToScroll;c++)l<0&&(l=r.slideCount-1),t=t.add(a.eq(l)),t=t.add(a.eq(d)),l--,d++;e(t),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(\".slick-slide\"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(\".slick-cloned\").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(\".slick-cloned\").slice(r.options.slidesToShow*-1),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass(\"slick-loading\"),i.initUI(),\"progressive\"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:\"next\"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;if(!t.unslicked&&(t.$slider.trigger(\"afterChange\",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&(t.initADA(),t.options.focusOnChange))){var o=i(t.$slides.get(t.currentSlide));o.attr(\"tabindex\",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:\"previous\"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i(\"img[data-lazy]\",l.$slider);d.length?(t=d.first(),o=t.attr(\"data-lazy\"),s=t.attr(\"data-srcset\"),n=t.attr(\"data-sizes\")||l.$slider.attr(\"data-sizes\"),r=document.createElement(\"img\"),r.onload=function(){s&&(t.attr(\"srcset\",s),n&&t.attr(\"sizes\",n)),t.attr(\"src\",o).removeAttr(\"data-lazy data-srcset data-sizes\").removeClass(\"slick-loading\"),l.options.adaptiveHeight===!0&&l.setPosition(),l.$slider.trigger(\"lazyLoaded\",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr(\"data-lazy\").removeClass(\"slick-loading\").addClass(\"slick-lazyload-error\"),l.$slider.trigger(\"lazyLoadError\",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger(\"allImagesLoaded\",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:\"index\",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if(\"array\"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||\"window\";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass(\"slick-slide\"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on(\"click.slick\",e.selectHandler),e.setSlideClasses(\"number\"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger(\"reInit\",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return\"boolean\"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,!(o.slideCount<1||i<0||i>o.slideCount-1)&&(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e=\"left\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",t=\"top\"==o.positionProp?Math.ceil(i)+\"px\":\"0px\",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]=\"translate(\"+e+\", \"+t+\")\",o.$slideTrack.css(s)):(s[o.animType]=\"translate3d(\"+e+\", \"+t+\", 0px)\",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;i.options.vertical===!1?i.options.centerMode===!0&&i.$list.css({padding:\"0px \"+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+\" 0px\"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.options.vertical===!1&&i.options.variableWidth===!1?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(\".slick-slide\").length))):i.options.variableWidth===!0?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(\".slick-slide\").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();i.options.variableWidth===!1&&i.$slideTrack.children(\".slick-slide\").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,t.options.rtl===!0?i(s).css({position:\"relative\",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:\"relative\",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css(\"height\",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if(\"object\"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n=\"multiple\"):\"string\"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],\"responsive\"===arguments[0]&&\"array\"===i.type(arguments[1])?n=\"responsive\":\"undefined\"!=typeof arguments[1]&&(n=\"single\")),\"single\"===n)r.options[o]=s;else if(\"multiple\"===n)i.each(o,function(i,e){r.options[i]=e});else if(\"responsive\"===n)for(t in s)if(\"array\"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger(\"setPosition\",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?\"top\":\"left\",\n\"top\"===i.positionProp?i.$slider.addClass(\"slick-vertical\"):i.$slider.removeClass(\"slick-vertical\"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||i.options.useCSS===!0&&(i.cssTransitions=!0),i.options.fade&&(\"number\"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType=\"OTransform\",i.transformType=\"-o-transform\",i.transitionType=\"OTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType=\"MozTransform\",i.transformType=\"-moz-transform\",i.transitionType=\"MozTransition\",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType=\"webkitTransform\",i.transformType=\"-webkit-transform\",i.transitionType=\"webkitTransition\",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType=\"msTransform\",i.transformType=\"-ms-transform\",i.transitionType=\"msTransition\",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType=\"transform\",i.transformType=\"transform\",i.transitionType=\"transition\"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(\".slick-slide\").removeClass(\"slick-active slick-center slick-current\").attr(\"aria-hidden\",\"true\"),n.$slides.eq(i).addClass(\"slick-current\"),n.options.centerMode===!0){var r=n.options.slidesToShow%2===0?1:0;e=Math.floor(n.options.slidesToShow/2),n.options.infinite===!0&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass(\"slick-center\"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass(\"slick-center\")),n.$slides.eq(i).addClass(\"slick-center\")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.length<=n.options.slidesToShow?t.addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):(s=n.slideCount%n.options.slidesToShow,o=n.options.infinite===!0?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"):t.slice(o,o+n.options.slidesToShow).addClass(\"slick-active\").attr(\"aria-hidden\",\"false\"));\"ondemand\"!==n.options.lazyLoad&&\"anticipated\"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t-s.slideCount).prependTo(s.$slideTrack).addClass(\"slick-cloned\");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr(\"id\",\"\").attr(\"data-slick-index\",t+s.slideCount).appendTo(s.$slideTrack).addClass(\"slick-cloned\");s.$slideTrack.find(\".slick-cloned\").find(\"[id]\").each(function(){i(this).attr(\"id\",\"\")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(\".slick-slide\")?i(e.target):i(e.target).parents(\".slick-slide\"),s=parseInt(o.attr(\"data-slick-index\"));return s||(s=0),t.slideCount<=t.options.slidesToShow?void t.slideHandler(s,!1,!0):void t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(a.animating===!0&&a.options.waitForAnimate===!0||a.options.fade===!0&&a.currentSlide===i))return e===!1&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,a.options.infinite===!1&&a.options.centerMode===!1&&(i<0||i>a.getDotCount()*a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):a.options.infinite===!1&&a.options.centerMode===!0&&(i<0||i>a.slideCount-a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!==0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!==0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger(\"beforeChange\",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=a.getNavTarget(),l=l.slick(\"getSlick\"),l.slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide)),a.updateDots(),a.updateArrows(),a.options.fade===!0?(t!==!0?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight()):void(t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass(\"slick-loading\")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0?s.options.rtl===!1?\"left\":\"right\":o<=360&&o>=315?s.options.rtl===!1?\"left\":\"right\":o>=135&&o<=225?s.options.rtl===!1?\"right\":\"left\":s.options.verticalSwiping===!0?o>=35&&o<=135?\"down\":\"up\":\"vertical\"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(o.touchObject.edgeHit===!0&&o.$slider.trigger(\"edge\",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case\"left\":case\"down\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case\"right\":case\"up\":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}\"vertical\"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger(\"swipe\",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||\"ontouchend\"in document&&e.options.swipe===!1||e.options.draggable===!1&&i.type.indexOf(\"mouse\")!==-1))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case\"start\":e.swipeStart(i);break;case\"move\":e.swipeMove(i);break;case\"end\":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(l.options.verticalSwiping===!0&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(l.options.rtl===!1?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),l.options.verticalSwiping===!0&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,l.options.infinite===!1&&(0===l.currentSlide&&\"right\"===t||l.currentSlide>=l.getDotCount()&&\"left\"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),l.options.vertical===!1?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,l.options.verticalSwiping===!0&&(l.swipeLeft=e+o*s),l.options.fade!==!0&&l.options.touchMove!==!1&&(l.animating===!0?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;return t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(\".slick-cloned\",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass(\"slick-slide slick-active slick-visible slick-current\").attr(\"aria-hidden\",\"true\").css(\"width\",\"\")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger(\"unslick\",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),e.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\"),0===e.currentSlide?(e.$prevArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$nextArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass(\"slick-disabled\").attr(\"aria-disabled\",\"true\"),e.$prevArrow.removeClass(\"slick-disabled\").attr(\"aria-disabled\",\"false\")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find(\"li\").removeClass(\"slick-active\").end(),i.$dots.find(\"li\").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass(\"slick-active\"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if(\"object\"==typeof s||\"undefined\"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),\"undefined\"!=typeof t)return t;return o}});","Magiccart_Alothemes/js/plugins/jquery.socialstream.js":"(function ($) {\n    $.fn.socialstream = function (options) {\n        var defaults = {\n            socialnetwork: 'instagram',\n            username: 'aloteams',\n            limit: 6,\n            lazy: true,\n            srcSize: 320,\n            srcMedia: 'media_url',\n            overlay: true,\n            apikey: false,\n            accessToken: '',\n            picasaAlbumId: '',\n            tags: '',\n            afterload: function() {},\n            callback: function() {}\n        };\n        var options = $.extend(defaults, options);\n        var methods = {\n            init : function(object) {\n                switch (options.socialnetwork) {\n                    case 'flickr':\n                        methods.flickr(object);\n                        break;\n                    case 'pinterest':\n                        methods.pinterest(object);\n                        break;\n                    case 'instagram':\n                        methods.instagram(object);\n                        break;\n                    case 'dribbble':\n                        methods.dribbble(object);\n                        break;\n                    case 'deviantart':\n                        methods.deviantart(object);\n                        break;\n                    case 'picasa':\n                        methods.picasa(object);\n                        break;\n                    case 'youtube':\n                        methods.youtube(object);\n                        break;\n                    case 'newsfeed':\n                        methods.newsfeed(object);\n                        break;\n                }\n            },\n            flickr: function(object){\n                object.append(\"<ul class=\\\"flickr-list social-list\\\"></ul>\")\n                $.getJSON(\"https://api.flickr.com/services/rest/?method=flickr.people.findByUsername&username=\" + options.username + \"&format=json&api_key=32ff8e5ef78ef2f44e6a1be3dbcf0617&jsoncallback=?\", function (data) {\n                    var user_id = data.user.nsid;\n                    $.getJSON(\"https://api.flickr.com/services/rest/?method=flickr.photos.search&user_id=\" + user_id + \"&format=json&api_key=85145f20ba1864d8ff559a3971a0a033&per_page=\" + options.limit + \"&page=1&extras=url_sq&jsoncallback=?\", function (data) {\n                        $.each(data.photos.photo, function (num, photo) {\n                            var photo_author = photo.owner;\n                            var photo_title = photo.title;\n                            var photo_src = photo.url_sq;\n                            var photo_id = photo.id;\n                            var photo_url = \"https://www.flickr.com/photos/\" + photo_author + \"/\" + photo_id;\n                            var photo_container = $('<img/>').attr({\n                                src: photo_src,\n                                alt: photo_title\n                            });\n                            var url_container = $('<a/>').attr({\n                                href: photo_url,\n                                target: '_blank',\n                                title: photo_title\n                            });\n\n                            var tmp = $(url_container).append(photo_container);\n                            if (options.overlay) {\n                                var overlay_div = $('<div/>').addClass('img-overlay');\n                                $(url_container).append(overlay_div);\n                            }\n                            var li = $('<li/>').append(tmp);\n                            $(\"ul\", object).append(li);\n                        })\n\n                        options.afterload.call(object);\n\n                    });\n                });                \n            },\n            pinterest: function(object){\n                var url = 'http://pinterest.com/' + options.username + '/feed.rss'\n                var api = \"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=\" + encodeURIComponent(url) + \"&num=\" + options.limit + \"&output=json_xml\";\n\n                // Send request\n                $.getJSON(api, function (data) {\n                    if (data.responseStatus == 200) {\n                        var photofeed = data.responseData.feed;\n                        var overlay_div = \"\";\n                        if (!photofeed) {\n                            return false;\n                        }\n                        var html_code = '<ul class=\\\"pinterest-listt social-list\\\">';\n\n                        for (var i = 0; i < photofeed.entries.length; i++) {\n                            var entry = photofeed.entries[i];\n                            var $container = $(\"<div></div>\");\n                            $container.append(entry.content);\n                            var url = \"http://www.pinterest.com\" + $container.find('a').attr('href');\n                            var photo_url = $container.find('img').attr('src');\n                            var photo_title = $container.find('p:nth-child(2)').html();\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + photo_url + '\"/>' + overlay_div + '</a></li>'\n                        }\n                        html_code += '</ul>';\n\n                        $(object).append(html_code);\n\n                        options.afterload.call(object);\n\n                    }\n                });\n            },\n            instagram: function(object){\n                object.append(\"<ul class=\\\"instagram-list social-list\\\"></ul>\");\n                var imagesize = [150, 240, 320, 480, 640];\n                var size      = parseInt(options.srcSize);\n                var imgsize   = (imagesize.indexOf(size) != -1) ? imagesize.indexOf(size) : 1 ;\n\n                // check if access token is set\n                if ((typeof (options.accessToken) != \"undefined\") && options.accessToken != \"\") {\n                    var url          = \"https://graph.instagram.com/me/media\";\n                    var access_token = options.accessToken;\n                    var limit        = options.limit;\n                    $.getJSON( url, {'access_token': access_token, 'limit': limit, 'fields': 'id, caption, comments_count, like_count, media_type, media_url, thumbnail_url, permalink' }, function (data) {\n                        $.each(data.data, function (i, shot) {\n                            if (shot.media_type === 'VIDEO') return;\n                            var photo_src = shot.media_url;\n                            var photo_url = shot.permalink;\n                            var photo_title = \"\";\n                            if (shot.caption != null) {\n                                photo_title = shot.caption;\n                            }\n                            if(options.lazy){\n                                var photo_container = $('<img/>').attr({\n                                    'data-src'  : photo_src,\n                                    src         : 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',\n                                    class       : 'lazyload',\n                                    alt         : photo_title,\n                                    width       : imagesize[imgsize],\n                                    height      : imagesize[imgsize]\n                                });\n                            }else {\n                                var photo_container = $('<img/>').attr({\n                                    src: photo_src,\n                                    alt: photo_title\n                                });\n                            }\n                            var url_container = $('<a/>').attr({\n                                href: photo_url,\n                                target: '_blank',\n                                title: photo_title\n                            });\n\n                            var tmp = $(url_container).append(photo_container);\n                            if (options.overlay) {\n                                var overlay_div = $('<div/>').addClass('img-overlay');\n                                $(url_container).append(overlay_div);\n                            }\n                            var li = $('<li/>').append(tmp);\n                            var sub =  (shot.like_count !=  undefined )     ? '<span class=\"likes\">' + shot.like_count + '</span>' : '';\n                            sub     += (shot.comments_count != undefined)   ? '<span class=\"comments\">' + shot.comments_count + '</span>' : '';\n                            if(sub) li.append('<span class=\"sub\">' + sub + '</span>');\n                            $(\"ul\", object).append(li);\n\n                        });\n\n                    }).done(function() {\n                        if(options.lazy) object.trigger('contentUpdated');\n                        options.afterload.call(object);  \n                    }).fail(function() {\n                        console.warn( \"Request Instagram Access Failed: \");\n                    });                            \n                } else {\n                    console.warn(\"Instagram Access Token is not set. Please enter it in plugin init call.\");\n                }\n            },\n            dribbble: function(object){\n                object.append(\"<ul class=\\\"dribbble-list social-list\\\"></ul>\")\n\n                // check if access token is set\n                if ((typeof (options.accessToken) != \"undefined\") && options.accessToken != \"\") {\n                    var access_token = options.accessToken;\n                } else {\n                    console.warn(\"Dribbble Access Token is not set. Please enter it in plugin init call.\");\n                    return;\n                }\n\n                $.getJSON(\"https://api.dribbble.com/v1/users/\" + options.username + \"/shots?access_token=\" + access_token + \"&callback=?\", function (data) {\n                    $.each(data.data, function (num, shot) {\n                        if (num < options.limit) {\n                            var photo_title = shot.title;\n                            var photo_container = $('<img/>').attr({\n                                src: shot.images.teaser,\n                                alt: photo_title\n                            });\n                            var url_container = $('<a/>').attr({\n                                href: shot.html_url,\n                                target: '_blank',\n                                title: photo_title\n                            });\n                            var tmp = $(url_container).append(photo_container);\n                            if (options.overlay) {\n                                var overlay_div = $('<div/>').addClass('img-overlay');\n                                $(url_container).append(overlay_div);\n                            }\n                            var li = $('<li/>').append(tmp);\n                            $(\"ul\", object).append(li);\n                        }\n                    });\n\n                    options.afterload.call(object);\n\n                });\n            },\n            deviantart: function(object){\n                var url = 'http://backend.deviantart.com/rss.xml?type=deviation&q=by%3A' + options.username + '+sort%3Atime+meta%3Aall';\n                var api = \"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=\" + encodeURIComponent(url) + \"&num=\" + options.limit + \"&output=json_xml\";\n\n                $.getJSON(api, function (data) {\n                    if (data.responseStatus == 200) {\n                        var photofeed = data.responseData.feed;\n                        var overlay_div = \"\";\n                        if (!photofeed) {\n                            return false;\n\n                        }\n                        var html_code = '<ul class=\\\"deviantart-list social-list\\\">';\n\n                        for (var i = 0; i < photofeed.entries.length; i++) {\n                            var entry = photofeed.entries[i];\n                            var $container = $(\"<div></div>\");\n                            $container.append(entry.content);\n                            var url = entry.link;\n                            var photo_url = $container.find('img').attr('src');\n\n                            // ignore smiley images\n                            if (photo_url.indexOf(\"smile.gif\") >= 0) {\n                                continue;\n                            }\n\n                            var photo_title = entry.title.replace(/.jpg/g, \"\").replace(/-/g, \" \").replace(/_/g, \" \");\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + photo_url + '\"/>' + overlay_div + '</a></li>'\n                        }\n                        html_code += '</ul>';\n\n                        $(object).append(html_code);\n\n                        options.afterload.call(object);\n\n                    }\n                });\n            },\n            picasa: function(object){\n                var url = 'https://picasaweb.google.com/data/feed/base/user/' + options.username + '/album/' + options.picasaAlbumId + '?kind=photo&access=public&alt=json-in-script&imgmax=' + options.limit + '&callback=?';\n\n                $.getJSON(url, function (data) {\n                    if (data.feed.entry.length > 0) {\n\n                        var photofeed = data.feed.entry;\n                        var overlay_div = \"\";\n\n                        var html_code = '<ul class=\\\"picasa-list social-list\\\">';\n\n                        $.each(photofeed, function (i, pic) {\n                            var thumb = pic.media$group.media$thumbnail[2].url;\n                            var desc = pic.media$group.media$description.$t;\n                            var title = pic.media$group.media$title.$t;\n\n                            var url = pic.link[1].href;\n                            var photo_title = title.replace(/.jpg/g, \"\").replace(/.JPG/g, \"\").replace(/-/g, \" \").replace(/_/g, \" \");\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + thumb + '\"/>' + overlay_div + '</a></li>'\n                        });\n\n                        for (var i = 0; i < photofeed; i++) {\n                            var entry = photofeed[i];\n                            var $container = $(\"<div></div>\");\n                            $container.append(entry.content);\n                            var url = entry.link;\n                            var photo_url = $container.find('img').attr('src');\n                            var photo_title = entry.title.replace(/.jpg/g, \"\").replace(/-/g, \" \").replace(/_/g, \" \");\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + photo_url + '\"/>' + overlay_div + '</a></li>'\n                        }\n                        html_code += '</ul>';\n\n                        $(object).append(html_code);\n\n                        options.afterload.call(object);\n                    }\n                });\n            },\n            youtube: function(object){\n                var pid;\n                if (options.apikey) {\n\n                    // Get Uploads Playlist\n                    $.get(\n                            \"https://www.googleapis.com/youtube/v3/channels\", {\n                                part: 'contentDetails',\n                                id: options.username,\n                                key: options.apikey\n                            },\n                    function (data) {\n\n                        $.each(data.items, function (i, item) {\n                            //playlist id\n                            pid = item.contentDetails.relatedPlaylists.uploads;\n                            youtubeGetVids(pid);\n                        });\n\n                    }\n                    );\n\n                }\n\n                //Get Videos\n                function youtubeGetVids(pid) {\n                    $.get(\n                            \"https://www.googleapis.com/youtube/v3/playlistItems\", {\n                                part: 'snippet',\n                                maxResults: options.limit,\n                                playlistId: pid,\n                                key: options.apikey\n                            },\n                    function (data) {\n                        var results;\n\n                        var html_code = '<ul class=\\\"youtube-list social-list\\\">';\n\n                        // loop through videos\n                        $.each(data.items, function (i, item) {\n\n                            var photofeed = item.snippet.thumbnails.default.url;\n                            var overlay_div = \"\";\n                            if (!photofeed) {\n                                return false;\n                            }\n\n                            // create container\n                            var $container = $(\"<div></div>\");\n\n                            // get image url\n                            var url = 'https://www.youtube.com/watch?v=' + item.snippet.resourceId.videoId;\n\n                            // video title\n                            var photo_title = item.snippet.title;\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            // create html\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + photofeed + '\"/>' + overlay_div + '</a></li>'\n\n                        });\n\n                        html_code += '</ul>';\n\n                        // append html\n                        $(object).append(html_code);\n\n                        options.afterload.call(object);\n                    }\n                    );\n                }                \n            },\n            newsfeed: function(object){\n                var api = \"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q=\" + encodeURIComponent(options.username) + \"&num=\" + options.limit + \"&output=json_xml\";\n\n                $.getJSON(api, function (data) {\n                    if (data.responseStatus == 200) {\n                        var photofeed = data.responseData.feed;\n                        var overlay_div = \"\";\n                        if (!photofeed) {\n                            return false;\n                        }\n                        var html_code = '<ul class=\\\"social-feed social-list\\\">';\n\n                        for (var i = 0; i < photofeed.entries.length; i++) {\n                            var entry = photofeed.entries[i];\n                            var $container = $(\"<div></div>\");\n                            $container.append(entry.content);\n                            var url = entry.link;\n                            var photo_url = $container.find('img').attr('src');\n                            var photo_title = entry.title.replace(/.jpg/g, \"\").replace(/-/g, \" \").replace(/_/g, \" \");\n                            if (options.overlay) {\n                                var overlay_div = '<div class=\"img-overlay\"></div>';\n                            }\n\n                            html_code += '<li><a target=\"_blank\" href=\"' + url + '\" title=\"' + photo_title + '\"><img src=\"' + photo_url + '\"/>' + overlay_div + '</a></li>'\n                        }\n                        html_code += '</ul>';\n\n                        $(object).append(html_code);\n\n                        options.afterload.call(object);\n                    }\n                });                \n            }\n        };        \n        return this.each(function () {\n            var object = $(this);\n            if (\"IntersectionObserver\" in window) {\n                let socialObserver = new IntersectionObserver(function(entries, observer) {\n                    entries.forEach(function(entry) {\n                        if (entry.isIntersecting) {\n                            // let el = entry.target;\n                            methods.init(object);\n                            socialObserver.unobserve(entry.target);\n                        }\n                    });\n                });\n\n                object.each(function(index, el){\n                    socialObserver.observe(el);\n                });\n            } else {\n                methods.init(object);\n            }\n\n            options.callback.call(this);\n        });\n    };\n})(jQuery);\n","Magento_InventoryConfigurableProductFrontendUi/js/configurable.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'configurableVariationQty',\n    'jquery-ui-modules/widget'\n], function ($, configurableVariationQty) {\n    'use strict';\n\n    return function (configurable) {\n        $.widget('mage.configurable', configurable, {\n\n            /** @inheritdoc */\n            _configureElement: function (element) {\n                var salesChannel = this.options.spConfig.channel,\n                    salesChannelCode = this.options.spConfig.salesChannelCode,\n                    productVariationsSku = this.options.spConfig.sku;\n\n                this._super(element);\n                configurableVariationQty(productVariationsSku[this.simpleProduct], salesChannel, salesChannelCode);\n            }\n        });\n\n        return $.mage.configurable;\n    };\n});\n","Magento_InventoryConfigurableProductFrontendUi/js/configurable-variation-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * Configurable variation left qty.\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/url'\n], function ($, _, urlBuilder) {\n    'use strict';\n\n    return function (productSku, salesChannel, salesChannelCode) {\n        var selectorInfoStockSkuQty = '.availability.only',\n            selectorInfoStockSkuQtyValue = '.availability.only > strong',\n            productQtyInfoBlock = $(selectorInfoStockSkuQty),\n            productQtyInfo = $(selectorInfoStockSkuQtyValue);\n\n        if (!_.isUndefined(productSku) && productSku !== null) {\n            $.ajax({\n                url: urlBuilder.build('inventory_catalog/product/getQty/'),\n                dataType: 'json',\n                data: {\n                    'sku': productSku,\n                    'channel': salesChannel,\n                    'salesChannelCode': salesChannelCode\n                }\n            }).done(function (response) {\n                if (response.qty !== null && response.qty > 0) {\n                    productQtyInfo.text(response.qty);\n                    productQtyInfoBlock.show();\n                } else {\n                    productQtyInfoBlock.hide();\n                }\n            }).fail(function () {\n                productQtyInfoBlock.hide();\n            });\n        } else {\n            productQtyInfoBlock.hide();\n        }\n    };\n});\n","Magento_LoginAsCustomerAssistance/js/opt-in.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    return function (config, element) {\n        $(element).on('submit', function () {\n            this.elements['assistance_allowed'].value =\n                this.elements['assistance_allowed_checkbox'].checked ?\n                    config.allowAccess : config.denyAccess;\n        });\n    };\n});\n","Magento_Tax/js/view/checkout/minicart/subtotal/totals.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'ko',\n    'uiComponent',\n    'Magento_Customer/js/customer-data'\n], function (ko, Component, customerData) {\n    'use strict';\n\n    return Component.extend({\n        displaySubtotal: ko.observable(true),\n\n        /**\n         * @override\n         */\n        initialize: function () {\n            this._super();\n            this.cart = customerData.get('cart');\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/cart/totals/tax.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Tax/js/view/checkout/summary/tax',\n    'Magento_Checkout/js/model/totals'\n], function (Component, totals) {\n    'use strict';\n\n    var isFullTaxSummaryDisplayed = window.checkoutConfig.isFullTaxSummaryDisplayed,\n        isZeroTaxDisplayed = window.checkoutConfig.isZeroTaxDisplayed;\n\n    return Component.extend({\n        /**\n         * @override\n         */\n        ifShowValue: function () {\n            if (this.isFullMode() && this.getPureValue() == 0) { //eslint-disable-line eqeqeq\n                return isZeroTaxDisplayed;\n            }\n\n            return true;\n        },\n\n        /**\n         * @override\n         */\n        ifShowDetails: function () {\n            return this.getPureValue() > 0 && isFullTaxSummaryDisplayed;\n        },\n\n        /**\n         * @override\n         */\n        isCalculated: function () {\n            return this.totals() && totals.getSegment('tax') !== null;\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/cart/totals/shipping.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Tax/js/view/checkout/summary/shipping',\n    'Magento_Checkout/js/model/quote'\n], function (Component, quote) {\n    'use strict';\n\n    return Component.extend({\n        /**\n         * @override\n         */\n        isCalculated: function () {\n            return !!quote.shippingMethod();\n        },\n\n        /**\n         * @override\n         */\n        getShippingMethodTitle: function () {\n            return '(' + this._super() + ')';\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/cart/totals/grand-total.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Tax/js/view/checkout/summary/grand-total'\n], function (Component) {\n    'use strict';\n\n    return Component.extend({\n        /**\n         * @override\n         */\n        isDisplayed: function () {\n            return true;\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/summary/tax.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'ko',\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/totals',\n    'mage/translate',\n    'underscore'\n], function (ko, Component, quote, totals, $t, _) {\n    'use strict';\n\n    var isTaxDisplayedInGrandTotal = window.checkoutConfig.includeTaxInGrandTotal,\n        isFullTaxSummaryDisplayed = window.checkoutConfig.isFullTaxSummaryDisplayed,\n        isZeroTaxDisplayed = window.checkoutConfig.isZeroTaxDisplayed,\n        taxAmount = 0,\n        rates = 0;\n\n    return Component.extend({\n        defaults: {\n            isTaxDisplayedInGrandTotal: isTaxDisplayedInGrandTotal,\n            notCalculatedMessage: $t('Not yet calculated'),\n            template: 'Magento_Tax/checkout/summary/tax'\n        },\n        totals: quote.getTotals(),\n        isFullTaxSummaryDisplayed: isFullTaxSummaryDisplayed,\n\n        /**\n         * @return {Boolean}\n         */\n        ifShowValue: function () {\n            if (this.isFullMode() && this.getPureValue() == 0) { //eslint-disable-line eqeqeq\n                return isZeroTaxDisplayed;\n            }\n\n            return true;\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        ifShowDetails: function () {\n            if (!this.isFullMode()) {\n                return false;\n            }\n\n            return this.getPureValue() > 0 && isFullTaxSummaryDisplayed;\n        },\n\n        /**\n         * @return {Number}\n         */\n        getPureValue: function () {\n            var amount = 0,\n                taxTotal;\n\n            if (this.totals()) {\n                taxTotal = totals.getSegment('tax');\n\n                if (taxTotal) {\n                    amount = taxTotal.value;\n                }\n            }\n\n            return amount;\n        },\n\n        /**\n         * @return {*|Boolean}\n         */\n        isCalculated: function () {\n            return this.totals() && this.isFullMode() && totals.getSegment('tax') != null;\n        },\n\n        /**\n         * @return {*}\n         */\n        getValue: function () {\n            var amount;\n\n            if (!this.isCalculated()) {\n                return this.notCalculatedMessage;\n            }\n            amount = totals.getSegment('tax').value;\n\n            return this.getFormattedPrice(amount);\n        },\n\n        /**\n         * @param {*} amount\n         * @return {*|String}\n         */\n        formatPrice: function (amount) {\n            return this.getFormattedPrice(amount);\n        },\n\n        /**\n         * @param {*} parent\n         * @param {*} percentage\n         * @return {*|String}\n         */\n        getTaxAmount: function (parent, percentage) {\n            var totalPercentage = 0;\n\n            taxAmount = parent.amount;\n            rates = parent.rates;\n            _.each(rates, function (rate) {\n                totalPercentage += parseFloat(rate.percent);\n            });\n\n            return this.getFormattedPrice(this.getPercentAmount(taxAmount, totalPercentage, percentage));\n        },\n\n        /**\n         * @param {*} amount\n         * @param {*} totalPercentage\n         * @param {*} percentage\n         * @return {*|String}\n         */\n        getPercentAmount: function (amount, totalPercentage, percentage) {\n            return parseFloat(amount * percentage / totalPercentage);\n        },\n\n        /**\n         * @return {Array}\n         */\n        getDetails: function () {\n            var taxSegment = totals.getSegment('tax');\n\n            if (taxSegment && taxSegment['extension_attributes']) {\n                return taxSegment['extension_attributes']['tax_grandtotal_details'];\n            }\n\n            return [];\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/summary/shipping.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'jquery',\n    'Magento_Checkout/js/view/summary/shipping',\n    'Magento_Checkout/js/model/quote'\n], function ($, Component, quote) {\n    'use strict';\n\n    var displayMode = window.checkoutConfig.reviewShippingDisplayMode;\n\n    return Component.extend({\n        defaults: {\n            displayMode: displayMode,\n            template: 'Magento_Tax/checkout/summary/shipping'\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isBothPricesDisplayed: function () {\n            return this.displayMode == 'both'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isIncludingDisplayed: function () {\n            return this.displayMode == 'including'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isExcludingDisplayed: function () {\n            return this.displayMode == 'excluding'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {*|Boolean}\n         */\n        isCalculated: function () {\n            return this.totals() && this.isFullMode() && quote.shippingMethod() != null;\n        },\n\n        /**\n         * @return {*}\n         */\n        getIncludingValue: function () {\n            var price;\n\n            if (!this.isCalculated()) {\n                return this.notCalculatedMessage;\n            }\n            price = this.totals()['shipping_incl_tax'];\n\n            return this.getFormattedPrice(price);\n        },\n\n        /**\n         * @return {*}\n         */\n        getExcludingValue: function () {\n            var price;\n\n            if (!this.isCalculated()) {\n                return this.notCalculatedMessage;\n            }\n            price = this.totals()['shipping_amount'];\n\n            return this.getFormattedPrice(price);\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/summary/grand-total.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Catalog/js/price-utils',\n    'Magento_Checkout/js/model/totals'\n], function (Component, quote, priceUtils, totals) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            isFullTaxSummaryDisplayed: window.checkoutConfig.isFullTaxSummaryDisplayed || false,\n            template: 'Magento_Tax/checkout/summary/grand-total'\n        },\n        totals: quote.getTotals(),\n        isTaxDisplayedInGrandTotal: window.checkoutConfig.includeTaxInGrandTotal || false,\n\n        /**\n         * @return {*}\n         */\n        isDisplayed: function () {\n            return this.isFullMode();\n        },\n\n        /**\n         * @return {*|String}\n         */\n        getValue: function () {\n            var price = 0;\n\n            if (this.totals()) {\n                price = totals.getSegment('grand_total').value;\n            }\n\n            return this.getFormattedPrice(price);\n        },\n\n        /**\n         * @return {*|String}\n         */\n        getBaseValue: function () {\n            var price = 0;\n\n            if (this.totals()) {\n                price = this.totals()['base_grand_total'];\n            }\n\n            return priceUtils.formatPriceLocale(price, quote.getBasePriceFormat());\n        },\n\n        /**\n         * @return {*}\n         */\n        getGrandTotalExclTax: function () {\n            var total = this.totals(),\n                amount;\n\n            if (!total) {\n                return 0;\n            }\n\n            amount = total['grand_total'] - total['tax_amount'];\n\n            if (amount < 0) {\n                amount = 0;\n            }\n\n            return this.getFormattedPrice(amount);\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isBaseGrandTotalDisplayNeeded: function () {\n            var total = this.totals();\n\n            if (!total) {\n                return false;\n            }\n\n            return total['base_currency_code'] != total['quote_currency_code']; //eslint-disable-line eqeqeq\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/summary/subtotal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/abstract-total',\n    'Magento_Checkout/js/model/quote'\n], function (Component, quote) {\n    'use strict';\n\n    var displaySubtotalMode = window.checkoutConfig.reviewTotalsDisplayMode;\n\n    return Component.extend({\n        defaults: {\n            displaySubtotalMode: displaySubtotalMode,\n            template: 'Magento_Tax/checkout/summary/subtotal'\n        },\n        totals: quote.getTotals(),\n\n        /**\n         * @return {*|String}\n         */\n        getValue: function () {\n            var price = 0;\n\n            if (this.totals()) {\n                price = this.totals().subtotal;\n            }\n\n            return this.getFormattedPrice(price);\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isBothPricesDisplayed: function () {\n            return this.displaySubtotalMode == 'both'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isIncludingTaxDisplayed: function () {\n            return this.displaySubtotalMode == 'including'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {*|String}\n         */\n        getValueInclTax: function () {\n            var price = 0;\n\n            if (this.totals()) {\n                price = this.totals()['subtotal_incl_tax'];\n            }\n\n            return this.getFormattedPrice(price);\n        }\n    });\n});\n","Magento_Tax/js/view/checkout/summary/item/details/subtotal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'Magento_Checkout/js/view/summary/item/details/subtotal'\n], function (subtotal) {\n    'use strict';\n\n    var displayPriceMode = window.checkoutConfig.reviewItemPriceDisplayMode || 'including';\n\n    return subtotal.extend({\n        defaults: {\n            displayPriceMode: displayPriceMode,\n            template: 'Magento_Tax/checkout/summary/item/details/subtotal'\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isPriceInclTaxDisplayed: function () {\n            return displayPriceMode == 'both' || displayPriceMode == 'including'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @return {Boolean}\n         */\n        isPriceExclTaxDisplayed: function () {\n            return displayPriceMode == 'both' || displayPriceMode == 'excluding'; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @param {Object} quoteItem\n         * @return {*|String}\n         */\n        getValueInclTax: function (quoteItem) {\n            return this.getFormattedPrice(quoteItem['row_total_incl_tax']);\n        },\n\n        /**\n         * @param {Object} quoteItem\n         * @return {*|String}\n         */\n        getValueExclTax: function (quoteItem) {\n            return this.getFormattedPrice(quoteItem['row_total']);\n        }\n\n    });\n});\n","Magento_Tax/js/view/checkout/shipping_method/price.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Catalog/js/price-utils'\n], function (Component, quote, priceUtils) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Tax/checkout/shipping_method/price'\n        },\n        isDisplayShippingPriceExclTax: window.checkoutConfig.isDisplayShippingPriceExclTax,\n        isDisplayShippingBothPrices: window.checkoutConfig.isDisplayShippingBothPrices,\n\n        /**\n         * @param {Object} item\n         * @return {Boolean}\n         */\n        isPriceEqual: function (item) {\n            return item['price_excl_tax'] != item['price_incl_tax']; //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @param {*} price\n         * @return {*|String}\n         */\n        getFormattedPrice: function (price) {\n            //todo add format data\n            return priceUtils.formatPriceLocale(price, quote.getPriceFormat());\n        }\n    });\n});\n","Magento_Tax/js/price/adjustment.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'mage/translate'\n], function (Element, $t) {\n    'use strict';\n\n    return Element.extend({\n        defaults: {\n            bodyTmpl: 'Magento_Tax/price/adjustment',\n            taxPriceType: 'final_price',\n            taxPriceCssClass: 'price-including-tax',\n            bothPrices: 3,\n            inclTax: 2,\n            exclTax: 1,\n            modules: {\n                price: '${ $.parentName }'\n            },\n            listens: {\n                price: 'initializePriceAttributes'\n            }\n        },\n\n        /**\n         * {@inheritdoc}\n         */\n        initialize: function () {\n            this._super()\n                .initializePriceAttributes();\n\n            return this;\n        },\n\n        /**\n         * Update parent price.\n         *\n         * @returns {Object} Chainable.\n         */\n        initializePriceAttributes: function () {\n            if (this.displayBothPrices && this.price()) {\n                this.price().priceWrapperCssClasses = this.taxPriceCssClass;\n                this.price().priceWrapperAttr = {\n                    'data-label': $t('Incl. Tax')\n                };\n            }\n\n            return this;\n        },\n\n        /**\n         * Get price tax adjustment.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} tax html\n         */\n        getTax: function (row) {\n            return row['price_info']['extension_attributes']['tax_adjustments']['formatted_prices'][this.taxPriceType];\n        },\n\n        /**\n         * UnsanitizedHtml version of getTax.\n         *\n         * @param {Object} row\n         * @return {HTMLElement} tax html\n         */\n        getTaxUnsanitizedHtml: function (row) {\n            return this.getTax(row);\n        },\n\n        /**\n         * Set price tax type.\n         *\n         * @param {String} priceType\n         * @return {Object}\n         */\n        setPriceType: function (priceType) {\n            this.taxPriceType = priceType;\n\n            return this;\n        },\n\n        /**\n         * Return whether display setting is to display\n         * both price including tax and price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayBothPrices: function () {\n            return +this.source.data.displayTaxes === this.bothPrices;\n        },\n\n        /**\n         * Return whether display setting is to display price including tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceIncludeTax: function () {\n            return +this.source.data.displayTaxes === this.inclTax;\n        },\n\n        /**\n         * Return whether display setting is to display price excluding tax.\n         *\n         * @return {Boolean}\n         */\n        displayPriceExclTax: function () {\n            return +this.source.data.displayTaxes === this.exclTax;\n        }\n    });\n});\n","Magepow_OnestepCheckout/js/model/form-popup-state.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n\t    'ko'\n\t], function (ko) {\n\t    'use strict';\n\n\t    return {\n\t\tisVisible: ko.observable(false)\n\t    };\n\t});\n","Magepow_OnestepCheckout/js/model/braintree-paypal.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(['ko'], function (ko) {\n    'use strict';\n    return {\n        isReviewRequired: ko.observable(false),\n        customerEmail: ko.observable(null),\n        active: ko.observable(false)\n    }\n});\n","Magepow_OnestepCheckout/js/model/set-payment-method-mixin.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magepow_OnestepCheckout/js/action/set-payment-method'\n], function ($, wrapper, setPaymentMethodAction) {\n    'use strict';\n\n    return function (originalSetPaymentMethodAction) {\n        /** Override place-order-mixin for set-payment-information action as they differs only by method signature */\n        return wrapper.wrap(originalSetPaymentMethodAction, function (originalAction, messageContainer) {\n            return setPaymentMethodAction(messageContainer);\n        });\n    };\n});\n","Magepow_OnestepCheckout/js/model/gift-message.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(['jquery', 'ko', 'uiElement', 'underscore', 'mage/translate'],\n    function ($, ko, uiElement, _, $t) {\n        'use strict';\n\n        var provider = uiElement();\n\n        return function () {\n            var model = {\n                observables: {},\n                initialize: function () {\n                    this.getObservable('alreadyAdded')(false);\n                    var message = window.checkoutConfig.mageConfig.giftMessageOptions.giftMessage.hasOwnProperty('orderLevel')\n                        ? window.checkoutConfig.mageConfig.giftMessageOptions.giftMessage['orderLevel']\n                        : null;\n                    if (_.isObject(message)) {\n                        this.getObservable('recipient')(message.recipient);\n                        this.getObservable('sender')(message.sender);\n                        this.getObservable('message')(message.message);\n                        this.getObservable('alreadyAdded')(true);\n                    }\n                },\n                getObservable: function (key) {\n                    this.initObservable('message-orderLevel', key);\n                    return provider[this.getUniqueKey('message-orderLevel', key)];\n                },\n                initObservable: function (node, key) {\n                    if (node && !this.observables.hasOwnProperty(node)) {\n                        this.observables[node] = [];\n                    }\n                    if (key && this.observables[node].indexOf(key) == -1) {\n                        this.observables[node].push(key);\n                        provider.observe(this.getUniqueKey(node, key));\n                    }\n                },\n                getUniqueKey: function (node, key) {\n                    return node + '-' + key;\n                },\n                getConfigValue: function (key) {\n                    return window.checkoutConfig.mageConfig.giftMessageOptions.hasOwnProperty(key) ?\n                        window.checkoutConfig.mageConfig.giftMessageOptions[key]\n                        : null;\n                },\n\n                /**\n                 * Check if gift message can be displayed\n                 *\n                 * @returns {Boolean}\n                 */\n                isGiftMessageAvailable: function () {\n                    return this.getConfigValue('isOrderLevelGiftOptionsEnabled');\n                },\n                /**\n                 * show message below order summary\n                 * @param type\n                 * @param message\n                 */\n                showMessage: function (type, message) {\n                    var classElement = 'message ' + type;\n                    $('#opc-sidebar .block.items-in-cart').before('<div class=\" ' + classElement + '\"> <span>' + $t(message) + '</span></div>');\n                    setTimeout(function () {\n                        $('#opc-sidebar .opc-block-summary .message.' + type).remove();\n                    }, 3000);\n                }\n            };\n            model.initialize();\n            return model;\n        }\n    }\n);\n","Magepow_OnestepCheckout/js/model/checkout-data-resolver.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'Magento_Checkout/js/checkout-data'\n    ],\n    function (checkoutData) {\n        'use strict';\n\n        return {\n\n            /**\n             * Set default shipping method to local storage\n             */\n            resolveDefaultShippingMethod: function () {\n                if (!checkoutData.getSelectedShippingRate() && window.checkoutConfig.selectedShippingRate) {\n                    checkoutData.setSelectedShippingRate(window.checkoutConfig.selectedShippingRate);\n                }\n            },\n\n            /**\n             * Set default payment method to local storage\n             */\n            resolveDefaultPaymentMethod: function () {\n                if (!checkoutData.getSelectedPaymentMethod() && window.checkoutConfig.selectedPaymentMethod) {\n                    checkoutData.setSelectedPaymentMethod(window.checkoutConfig.selectedPaymentMethod);\n                }\n            }\n        }\n    }\n);\n","Magepow_OnestepCheckout/js/model/one-step-checkout-loader.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magento_Checkout/js/model/totals',\n        'Magepow_OnestepCheckout/js/model/payment-service'\n    ],\n    function ($, shippingService, totalService, paymentService) {\n        'use strict';\n\n        var blockLoader = {\n            shipping: {\n                queue: 0,\n                service: shippingService\n            },\n            payment: {\n                queue: 0,\n                service: paymentService\n            },\n            total: {\n                queue: 0,\n                service: totalService\n            }\n        };\n\n        return {\n            getServices: function (blocks) {\n                var services = {\n                    payment: blockLoader.payment.service,\n                    total: blockLoader.total.service\n                };\n\n                if (typeof blocks !== 'undefined') {\n                    services = {};\n                    $.each(blocks, function (index, block) {\n                        if (blockLoader.hasOwnProperty(block)) {\n                            services[block] = blockLoader[block].service;\n                        }\n                    });\n                }\n\n                return services;\n            },\n\n            /**\n             * Start full page loader action\n             */\n            startLoader: function (blocks) {\n                var services = this.getServices(blocks);\n                $.each(services, function (index, service) {\n                    blockLoader[index].queue += 1;\n                    service.isLoading(true);\n                });\n            },\n\n            /**\n             * Stop full page loader action\n             */\n            stopLoader: function (blocks) {\n                var services = this.getServices(blocks);\n                $.each(services, function (index, service) {\n                    blockLoader[index].queue -= 1;\n                    if (blockLoader[index].queue == 0) {\n                        service.isLoading(false);\n                    }\n                });\n            }\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/model/checkout.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine(\n    [\n        'ko',\n        'jquery',\n        'underscore',\n        'Magento_Checkout/js/model/quote',\n        'Magepow_OnestepCheckout/js/model/resource-url-manager',\n        'mage/storage',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n        'Magento_Checkout/js/model/payment-service',\n        'Magento_Checkout/js/model/payment/method-converter',\n        'Magento_Checkout/js/model/error-processor',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Checkout/js/action/select-billing-address'\n    ],\n    function (ko,\n              $,\n              _,\n              quote,\n              resourceUrlManager,\n              storage,\n              OneStepCheckoutData,\n              paymentService,\n              methodConverter,\n              errorProcessor,\n              fullScreenLoader,\n              selectBillingAddressAction) {\n        'use strict';\n\n        return {\n            saveShippingInformation: function () {\n                var payload,\n                    addressInformation = {},\n                    additionInformation = OneStepCheckoutData.getData();\n                if (window.checkoutConfig.mageConfig.giftMessageOptions.isOrderLevelGiftOptionsEnabled) {\n                    additionInformation.giftMessage = this.saveGiftMessage();\n                }\n                if (!quote.billingAddress()) {\n                    selectBillingAddressAction(quote.shippingAddress());\n                }\n\n                if (!quote.isVirtual()) {\n                    addressInformation = {\n                        shipping_address: quote.shippingAddress(),\n                        billing_address: quote.billingAddress(),\n                        shipping_method_code: quote.shippingMethod().method_code,\n                        shipping_carrier_code: quote.shippingMethod().carrier_code\n                    };\n                } else if ($.isEmptyObject(additionInformation)) {\n                    return $.Deferred().resolve();\n                }\n\n                var customAttributes = {};\n                if (_.isObject(quote.billingAddress().customAttributes)) {\n                    _.each(quote.billingAddress().customAttributes, function (attribute, key) {\n                        if (_.isObject(attribute)) {\n                            customAttributes[attribute.attribute_code] = attribute.value\n                        } else if (_.isString(attribute)) {\n                            customAttributes[key] = attribute\n                        }\n                    });\n                }\n\n                payload = {\n                    addressInformation: addressInformation,\n                    customerAttributes: customAttributes,\n                    additionInformation: additionInformation\n                };\n\n                fullScreenLoader.startLoader();\n\n                return storage.post(\n                    resourceUrlManager.getUrlForSetCheckoutInformation(quote),\n                    JSON.stringify(payload)\n                ).fail(\n                    function (response) {\n                        errorProcessor.process(response);\n                    }\n                ).always(\n                    function () {\n                        fullScreenLoader.stopLoader();\n                    }\n                );\n            },\n            saveGiftMessage: function () {\n                var giftMessage = {};\n                if (!$(\"#onestepcheckout-gift-message\").is(\":checked\")) $('.gift-options-content').find('input:text,textarea').val('');\n                giftMessage.sender = $(\"#gift-message-whole-from\").val();\n                giftMessage.recipient = $(\"#gift-message-whole-to\").val();\n                giftMessage.message = $(\"#gift-message-whole-message\").val();\n                return JSON.stringify(giftMessage);\n            }\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/model/payment-service.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko'\n    ],\n    function (ko) {\n        'use strict';\n\n        return {\n            isLoading: ko.observable(false)\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/model/resource-url-manager.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/model/resource-url-manager'\n    ],\n    function ($, resourceUrlManager) {\n        \"use strict\";\n\n        return $.extend({\n            /** Get url for saving email to quote */\n            getUrlForSaveEmailToQuote: function (quote) {\n                var params = {cartId: quote.getQuoteId()};\n                var urls = {\n                    'guest': '/guest-carts/:cartId/save-email-to-quote',\n                };\n                return this.getUrl(urls, params);\n            },\n\n            // /** Get url for checking email */\n            getUrlForCheckIsEmailAvailable: function (quote) {\n                var params = {cartId: quote.getQuoteId()};\n                var urls = {\n                    'guest': '/guest-carts/:cartId/isEmailAvailable',\n                };\n                return this.getUrl(urls, params);\n            },\n\n            /** Get url for update item qty and remove item */\n            getUrlForUpdateItemInformation: function (quote, isRemove) {\n                var params = (this.getCheckoutMethod() == 'guest') ? {cartId: quote.getQuoteId()} : {};\n                var urlPath = (isRemove == true) ? 'remove-item' : 'update-item';\n                var urls = {\n                    'guest': '/guest-carts/:cartId/' + urlPath,\n                    'customer': '/carts/mine/' + urlPath\n                };\n                return this.getUrl(urls, params);\n            },\n\n            /** Get url for saving checkout information */\n            getUrlForSetCheckoutInformation: function (quote) {\n                var params = (this.getCheckoutMethod() == 'guest') ? {cartId: quote.getQuoteId()} : {};\n                var urls = {\n                    'guest': '/guest-carts/:cartId/checkout-information',\n                    'customer': '/carts/mine/checkout-information'\n                };\n                return this.getUrl(urls, params);\n            },\n\n            /** Get url for update item qty and remove item */\n            getUrlForUpdatePaymentTotalInformation: function (quote) {\n                var params = (this.getCheckoutMethod() == 'guest') ? {cartId: quote.getQuoteId()} : {};\n                var urls = {\n                    'guest': '/guest-carts/:cartId/payment-total-information',\n                    'customer': '/carts/mine/payment-total-information'\n                };\n                return this.getUrl(urls, params);\n            },\n            getUrlForGiftMessageItemInformation: function (quote, itemId) {\n                var params = (this.getCheckoutMethod() == 'guest') ? {cartId: quote.getQuoteId()} : {};\n                var urls = {\n                    'guest': '/guest-carts/:cartId/gift-message/' + itemId,\n                    'customer': '/carts/mine/gift-message/' + itemId\n                };\n                return this.getUrl(urls, params);\n            }\n        }, resourceUrlManager);\n    }\n);\n","Magepow_OnestepCheckout/js/model/one-step-checkout-data.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery',\n    'Magento_Customer/js/customer-data'\n], function ($, storage) {\n    'use strict';\n\n    var cacheKey = 'one-step-checkout-data';\n\n    var getData = function () {\n        return storage.get(cacheKey)();\n    };\n\n    var saveData = function (checkoutData) {\n        storage.set(cacheKey, checkoutData);\n    };\n    return {\n        setData: function (key, data) {\n            var obj = getData();\n            obj[key] = data;\n            saveData(obj);\n        },\n        getData: function (key) {\n            if (typeof key === 'undefined') {\n                return getData();\n            }\n            return getData()[key];\n        }\n    }\n});\n","Magepow_OnestepCheckout/js/model/shipping/shipping-rates-validator.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'mageUtils',\n        'Magento_Customer/js/model/address-list',\n        'Magento_Checkout/js/model/shipping-rates-validator',\n        'Magento_Checkout/js/model/shipping-rates-validation-rules',\n        'Magento_Checkout/js/model/address-converter',\n        'Magento_Checkout/js/action/select-shipping-address',\n        'Magento_Checkout/js/model/shipping-rate-service',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magento_Checkout/js/model/postcode-validator',\n        'mage/translate',\n        'uiRegistry'\n    ],\n    function (_,\n              $,\n              utils,\n              addressList,\n              Validator,\n              shippingRatesValidationRules,\n              addressConverter,\n              selectShippingAddress,\n              shippingRateService,\n              shippingService,\n              postcodeValidator,\n              $t,\n              uiRegistry) {\n        'use strict';\n\n        var countryElement = null,\n            postcodeElement = null,\n            postcodeElementName = 'postcode',\n            observedElements = [],\n            observableElements,\n            defaultRules = {'rate': {'postcode': {'required': true}, 'country_id': {'required': true}}},\n            addressFields = window.checkoutConfig.mageConfig.addressFields;\n\n        return _.extend(Validator, {\n            isFormInline: function () {\n                return addressList().length === 0;\n            },\n\n            getValidationRules: function () {\n                var rules = shippingRatesValidationRules.getRules();\n\n                return _.isEmpty(rules) ? defaultRules : rules;\n            },\n\n            ValidateAddressData: function (field, address) {\n                var self = this,\n                    canLoad = false;\n\n                $.each(self.getValidationRules(), function (carrier, fields) {\n                    if (fields.hasOwnProperty(field)) {\n                        var missingValue = false;\n                        $.each(fields, function (key, rule) {\n                            if (self.isFieldExisted(key) && address.hasOwnProperty(key) && rule.required && utils.isEmpty(address[key])) {\n                                var regionFields = ['region', 'region_id', 'region_id_input'];\n                                if ($.inArray(key, regionFields) === -1\n                                    || utils.isEmpty(address['region']) && utils.isEmpty(address['region_id'])\n                                ) {\n                                    missingValue = true;\n\n                                    return false;\n                                }\n                            }\n                        });\n                        if (!missingValue) {\n                            canLoad = true;\n\n                            return false;\n                        }\n                    }\n                });\n\n                return canLoad;\n            },\n\n            isFieldExisted: function (field) {\n                var result = false;\n                $.each(observedElements, function (key, element) {\n                    if (field === element.index) {\n                        result = true;\n                        return false;\n                    }\n                });\n\n                return result;\n            },\n\n            /**\n             * Perform postponed binding for fieldset elements\n             *\n             * @param {String} formPath\n             */\n            initFields: function (formPath) {\n                var self = this;\n\n                observableElements = shippingRatesValidationRules.getObservableFields();\n                if (_.isEmpty(observableElements)) {\n                    observableElements.push('country_id');\n                }\n\n                if ($.inArray(postcodeElementName, observableElements) === -1) {\n                    // Add postcode field to observables if not exist for zip code validation support\n                    observableElements.push(postcodeElementName);\n                }\n\n                $.each(addressFields, function (index, field) {\n                    uiRegistry.async(formPath + '.' + field)(self.BindHandler.bind(self));\n                });\n            },\n\n            BindHandler: function (element) {\n                var self = this;\n\n                if (element.component.indexOf('/group') !== -1) {\n                    $.each(element.elems(), function (index, elem) {\n                        uiRegistry.async(elem.name)(function () {\n                            self.BindHandler(elem);\n                        });\n                    });\n                } else if (element && element.hasOwnProperty('value')) {\n                    element.on('value', function () {\n                        self.PostcodeValidation();\n\n                        if (self.isFormInline()) {\n                            var addressFlat = addressConverter.formDataProviderToFlatData(\n                                self.CollectObservedData(),\n                                'shippingAddress'\n                                ),\n                                address;\n\n                            address = addressConverter.formAddressDataToQuoteAddress(addressFlat);\n                            selectShippingAddress(address);\n\n                            if ($.inArray(element.index, observableElements) !== -1 && self.ValidateAddressData(element.index, addressFlat)) {\n                                shippingRateService.isAddressChange = true;\n\n                                clearTimeout(self.validateAddressTimeout);\n                                self.validateAddressTimeout = setTimeout(function () {\n                                    shippingRateService.estimateShippingMethod();\n                                }, 200);\n                            }\n                        }\n                    });\n                    observedElements.push(element);\n                    if (element.index === postcodeElementName) {\n                        postcodeElement = element;\n                    }\n                    if (element.index === 'country_id') {\n                        countryElement = element;\n                    }\n                }\n            },\n            CollectObservedData: function () {\n                var observedValues = {};\n\n                $.each(observedElements, function (index, field) {\n                    var value = field.value();\n                    if ($.type(value) === 'undefined') {\n                        value = '';\n                    }\n                    observedValues[field.dataScope] = value;\n                });\n\n                return observedValues;\n            },\n\n            PostcodeValidation: function () {\n                var countryId = countryElement.value(),\n                    validationResult,\n                    warnMessage;\n\n                if (postcodeElement === null || postcodeElement.value() === null) {\n                    return true;\n                }\n\n                postcodeElement.warn(null);\n                validationResult = postcodeValidator.validate(postcodeElement.value(), countryId);\n\n                if (!validationResult) {\n                    warnMessage = $t('Provided Zip/Postal Code seems to be invalid.');\n\n                    if (postcodeValidator.validatedPostCodeExample.length) {\n                        warnMessage += $t(' Example: ') + postcodeValidator.validatedPostCodeExample.join('; ') + '. ';\n                    }\n                    warnMessage += $t('If you believe it is the right one you can ignore this notice.');\n                    postcodeElement.warn(warnMessage);\n                }\n\n                return validationResult;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/model/shipping/shipping-rate-service.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n define(\n    [\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/shipping-rate-processor/new-address',\n        'Magento_Checkout/js/model/shipping-rate-processor/customer-address',\n        'Magento_Checkout/js/model/resource-url-manager',\n        'mage/storage',\n        'Magento_Checkout/js/model/shipping-rate-registry',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magento_Checkout/js/model/error-processor'\n    ],\n    function (quote, defaultProcessor, customerAddressProcessor, resourceUrlManager, storage, rateRegistry, shippingService, errorProcessor) {\n        'use strict';\n\n        var processors = [];\n\n        processors.default = defaultProcessor;\n        processors['customer-address'] = customerAddressProcessor;\n\n        return {\n            isAddressChange: false,\n            registerProcessor: function (type, processor) {\n                processors[type] = processor;\n            },\n            estimateShippingMethod: function () {\n                var type = quote.shippingAddress().getType();\n                var cache;\n                cache = rateRegistry.get(quote.shippingAddress().getKey());\n                if(cache){\n                    storage.post(\n                        resourceUrlManager.getUrlForEstimationShippingMethodsByAddressId(),\n                        JSON.stringify({\n                            addressId: quote.shippingAddress()['customerAddressId']\n                        }),\n                        false\n                    ).done(function (result) {\n                        rateRegistry.set(quote.shippingAddress().getKey(), result);\n                        shippingService.setShippingRates(result);\n                    }).fail(function (response) {\n                        shippingService.setShippingRates([]);\n                        errorProcessor.process(response);\n                    }).always(function () {\n                        shippingService.isLoading(false);\n                    });\n                }\n\n                if (processors[type]) {\n                    processors[type].getRates(quote.shippingAddress());\n                } else {\n                    processors.default.getRates(quote.shippingAddress());\n                }\n            }\n        }\n    }\n);\n\n","Magepow_OnestepCheckout/js/model/agreement/agreements-assigner.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var agreementsConfig = window.checkoutConfig.checkoutAgreements;\n    var show_toc = window.checkoutConfig.mageConfig.show_toc;\n    var SHOW_IN_PAYMENT = '1';\n\n    /** Override default place order action and add agreement_ids to request */\n    return function (paymentData) {\n        var agreementForm,\n            agreementFormContainer,\n            agreementData,\n            agreementIds;\n\n        if (!agreementsConfig.isEnabled) {\n            return;\n        }\n        agreementFormContainer = (show_toc == SHOW_IN_PAYMENT) ? $('.payment-method._active') : $('#co-place-order-agreement');\n        agreementForm = agreementFormContainer.find('div[data-role=checkout-agreements] input');\n\n        agreementData = agreementForm.serializeArray();\n        agreementIds = [];\n\n        agreementData.forEach(function (item) {\n            agreementIds.push(item.value);\n        });\n\n        if (paymentData['extension_attributes'] === undefined) {\n            paymentData['extension_attributes'] = {};\n        }\n\n        paymentData['extension_attributes']['agreement_ids'] = agreementIds;\n    };\n});\n","Magepow_OnestepCheckout/js/model/agreement/agreement-validator.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'mage/validation'\n    ],\n    function ($) {\n        'use strict';\n        var checkoutConfig = window.checkoutConfig,\n            agreementsConfig = checkoutConfig ? checkoutConfig.checkoutAgreements : {};\n\n        var agreementsInputPath = 'div.onestepcheckout-place-order-wrapper div.checkout-agreements input';\n\n        return {\n            /**\n             * Validate checkout agreements\n             *\n             * @returns {boolean}\n             */\n            validate: function () {\n                if (!agreementsConfig.isEnabled) {\n                    return true;\n                }\n\n                if ($(agreementsInputPath).length == 0) {\n                    return true;\n                }\n\n                return $('#co-place-order-agreement').validate({\n                    errorClass: 'mage-error',\n                    errorElement: 'div',\n                    meta: 'validate',\n                    errorPlacement: function (error, element) {\n                        var errorPlacement = element;\n                        if (element.is(':checkbox') || element.is(':radio')) {\n                            errorPlacement = element.siblings('label').last();\n                        }\n                        errorPlacement.after(error);\n                    }\n                }).form();\n            }\n        }\n    }\n);\n","Magepow_OnestepCheckout/js/model/onestepcheckout-loader/discount.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko',\n        'Magento_Checkout/js/model/quote'\n    ],\n    function (ko, quote) {\n        'use strict';\n        var totals = quote.getTotals(),\n        couponCode = ko.observable(null);\n        if (totals()) {\n            couponCode(totals()['coupon_code']);\n        }\n        return {\n            isLoading: ko.observable(false),\n            isAppliedCoupon: ko.observable(couponCode() != null),\n            /**\n             * Start full page loader action\n             */\n            startLoader: function () {\n                this.isLoading(true);\n            },\n            /**\n             * Stop full page loader action\n             */\n            stopLoader: function () {\n                this.isLoading(false);\n            }\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/model/address/auto-complete.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'Magepow_OnestepCheckout/js/model/address/type/google'\n], function (googleAutoComplete) {\n    'use strict';\n\n    var addressType = {\n        billing: 'checkout.steps.billing-step.billingAddress.billing-address-fieldset',\n        shipping: 'checkout.steps.shipping-step.shippingAddress.shipping-address-fieldset'\n    };\n\n    return {\n        register: function (type) {\n            if (addressType.hasOwnProperty(type)) {\n                switch (window.checkoutConfig.mageConfig.autocomplete.type) {\n                    case 'google':\n                        new googleAutoComplete(addressType[type]);\n                        break;\n                    case 'pca':\n                        break;\n                    default :\n                        break;\n                }\n            }\n        }\n    };\n});\n\n\n","Magepow_OnestepCheckout/js/model/address/type/google.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery',\n    'uiClass',\n    'uiRegistry'\n], function ($, Class, registry) {\n    'use strict';\n\n    var specificCountry = window.checkoutConfig.mageConfig.autocomplete.google_default_country,\n        elementFields = ['street', 'country_id', 'city', 'region', 'region_id', 'region_id_input', 'postcode'];\n    var componentForm = {\n        street_number: 'short_name',\n        route: 'long_name',\n        neighborhood: 'long_name',\n        administrative_area_level_2: 'short_name',\n        locality: 'long_name',\n        administrative_area_level_1: 'long_name',\n        country: 'short_name',\n        postal_code: 'short_name'\n    };\n    var isUsedMaterialDesign = window.checkoutConfig.mageConfig.isUsedMaterialDesign;\n\n    return Class.extend({\n        initialize: function (fieldsetName) {\n            this._super();\n\n            this.initAddressElements(fieldsetName)\n                .initAutoComplete();\n\n            return this;\n        },\n        initAddressElements: function (fieldsetName) {\n            var self = this;\n\n            this.addressElements = {};\n\n            $.each(elementFields, function (index, field) {\n                var fieldElement = registry.async(fieldsetName + '.' + field)();\n                if (field == 'street') {\n                    $.each(fieldElement.elems(), function (key, elem) {\n                        if (key == 0) {\n                            fieldElement = elem;\n                            self.inputSelector = document.getElementById(elem.uid);\n                            self.geolocateSelector = $('#' + elem.uid + '-geolocation');\n                            return false;\n                        }\n                    });\n                }\n                if (typeof fieldElement !== 'undefined') {\n                    self.addressElements[field] = fieldElement;\n                }\n            });\n\n            return this;\n        },\n        initAutoComplete: function () {\n            if (this.inputSelector) {\n                var options = {\n                    types: ['geocode']\n                };\n                if (specificCountry) {\n                    options.componentRestrictions = {country: specificCountry};\n                }\n\n                this.autoComplete = new google.maps.places.Autocomplete(this.inputSelector, options);\n                if (isUsedMaterialDesign) {\n                    $(this.inputSelector).attr('placeholder', '');\n                }\n\n                this.autoComplete.addListener('place_changed', this.placeChangedListener.bind(this));\n\n                if (this.geolocateSelector.length) {\n                    this.geolocateSelector.on('click', this.getCurrentLocation.bind(this));\n                }\n            }\n\n            return this;\n        },\n        placeChangedListener: function () {\n            var place = this.autoComplete.getPlace();\n\n            this.unserializeAddress(place);\n        },\n\n        unserializeAddress: function (place) {\n            var responseComponents = this.initResponseComponents();\n\n            for (var i = 0; i < place.address_components.length; i++) {\n                var addressType = place.address_components[i].types[0];\n                if (componentForm.hasOwnProperty(addressType)) {\n                    var addressValue = place.address_components[i][componentForm[addressType]];\n\n                    if ($.inArray(addressType, ['street_number', 'route', 'administrative_area_level_2']) !== -1) {\n                        if (responseComponents.street != '') {\n                            responseComponents.street += ', ';\n                        }\n                        responseComponents.street += addressValue;\n                    }\n                    if (addressType == 'locality') {\n                        responseComponents.city = addressValue;\n                    }\n                    if (addressType == 'administrative_area_level_1') {\n                        responseComponents.region = addressValue;\n                        responseComponents.region_id = addressValue;\n                        responseComponents.region_id_input = addressValue;\n                    }\n                    if (addressType == 'country') {\n                        responseComponents.country_id = addressValue;\n                    }\n                    if (addressType == 'postal_code') {\n                        responseComponents.postcode = addressValue;\n                    }\n                }\n            }\n            if (place.hasOwnProperty('name')) {\n                responseComponents.street = place.name;\n            }\n\n            this.fillInAddress(responseComponents);\n        },\n\n        fillInAddress: function (components) {\n            var self = this;\n            $.each(this.addressElements, function (index, element) {\n                if (element.visible() && components.hasOwnProperty(index)) {\n                    if (index == 'region_id') {\n                        $.each(element.options(), function (key, option) {\n                            if (components[index] == option.label) {\n                                element.value(option.value);\n                                return false;\n                            }\n                        });\n                    } else {\n                        element.value(components[index]);\n                        if (index == 'street') {\n                            self.inputSelector.value = components[index];\n                        }\n                    }\n                }\n            });\n        },\n\n        geolocate: function () {\n            var self = this;\n\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(function (position) {\n                    var geolocation = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    };\n                    var circle = new google.maps.Circle({\n                        center: geolocation,\n                        radius: position.coords.accuracy\n                    });\n                    self.autoComplete.setBounds(circle.getBounds());\n                });\n            }\n        },\n\n        getCurrentLocation: function () {\n            var self = this;\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(function (position) {\n                    var geocoder = new google.maps.Geocoder();\n                    var location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                    geocoder.geocode({'latLng': location}, function (results, status) {\n                        if (status == google.maps.GeocoderStatus.OK) {\n                            self.unserializeAddress(results[0]);\n                        } else {\n                            return false;\n                        }\n                    });\n                });\n            }\n        },\n\n        initResponseComponents: function () {\n            return {\n                street: '',\n                country_id: '',\n                region: '',\n                region_id: '',\n                region_id_input: '',\n                city: '',\n                postcode: ''\n            };\n        }\n    });\n});\n","Magepow_OnestepCheckout/js/model/shipping-save-processor/validate.js":"\ndefine([\n    'ko',\n    'underscore',\n    'Magento_Checkout/js/model/quote',\n    'mage/storage',\n    'Magento_Checkout/js/model/error-processor',\n    'Magento_Checkout/js/action/select-billing-address',\n    'Magento_Checkout/js/model/resource-url-manager',\n    'Magento_Customer/js/model/customer' // fix 2.1.x\n], function (\n    ko,\n    _,\n    quote,\n    storage,\n    errorProcessor,\n    selectBillingAddressAction,\n    resourceUrlManager,\n    payloadExtender,\n    customer\n) {\n    'use strict';\n\n    return {\n        /**\n         * @return {jQuery.Deferred}\n         */\n        saveShippingInformation: function () {\n            var payload;\n\n            if (!quote.billingAddress()) {\n                selectBillingAddressAction(quote.shippingAddress());\n            }\n\n            var billingAddress = quote.billingAddress();\n\n            if (!customer.isLoggedIn()) {\n                if (billingAddress) {\n                    if (!_.isUndefined(billingAddress.street)) {\n                        if (billingAddress.street.length == 0) {\n                            delete billingAddress.street;\n                        }\n                    } else {\n                        delete billingAddress.street;\n                    }\n                }\n            }\n\n            payload = {\n                addressInformation: {\n                    'shipping_address': quote.shippingAddress(),\n                    'billing_address': quote.billingAddress(),\n                    'shipping_method_code': quote.shippingMethod()['method_code'],\n                    'shipping_carrier_code': quote.shippingMethod()['carrier_code']\n                }\n            };\n            return storage.post(\n                resourceUrlManager.getUrlForSetShippingInformation(quote),\n                JSON.stringify(payload)\n            ).fail(\n                function (response) {\n                    errorProcessor.process(response);\n                }\n            );\n        }\n    };\n});\n","Magepow_OnestepCheckout/js/view/billing-address.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'ko',\n        'underscore',\n        'Magento_Checkout/js/view/billing-address',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/checkout-data',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n        'Magento_Checkout/js/action/create-billing-address',\n        'Magento_Checkout/js/action/select-billing-address',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/action/set-billing-address',\n        'Magento_Checkout/js/model/address-converter',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Ui/js/model/messageList',\n        'Magento_Checkout/js/model/checkout-data-resolver',\n        'Magepow_OnestepCheckout/js/model/address/auto-complete',\n        'uiRegistry',\n        'mage/translate',\n        'rjsResolver'\n    ],\n    function ($,\n              ko,\n              _,\n              Component,\n              quote,\n              checkoutData,\n              OneStepCheckoutData,\n              createBillingAddress,\n              selectBillingAddress,\n              customer,\n              setBillingAddressAction,\n              addressConverter,\n              additionalValidators,\n              globalMessageList,\n              checkoutDataResolver,\n              addressAutoComplete,\n              registry,\n              $t,\n              resolver) {\n        'use strict';\n\n        var observedElements = [],\n            canShowBillingAddress = window.checkoutConfig.mageConfig.showBillingAddress;\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/address/billing/form',\n                actionsTemplate: 'Magepow_OnestepCheckout/address/billing/actions',\n                 formTemplate: 'Magepow_OnestepCheckout/address/billing/form',\n                 detailsTemplate: 'Magepow_OnestepCheckout/address/billing/details',\n                 links: {\n                     isAddressFormVisible: '${$.billingAddressListProvider}:isNewAddressSelected'\n                 }\n            },\n            isCustomerLoggedIn: customer.isLoggedIn,\n            quoteIsVirtual: quote.isVirtual(),\n            isAddressSameAsShipping: ko.observable(true),\n            isAddressSameAsShipping: ko.observableArray([\"billingAddress\"]),\n\n            canUseShippingAddress: ko.computed(function () {\n                return !quote.isVirtual() && quote.shippingAddress() &&\n                    quote.shippingAddress().canUseForBilling() && canShowBillingAddress;\n            }),\n            \n\n            /**\n             * @return {exports}\n             */\n            initialize: function () {\n                var self = this;\n\n                this._super();\n                this.observe({\n                    isAddressSameAsShipping: true,\n                });\n\n                this.initFields();\n\n                additionalValidators.registerValidator(this);\n\n                registry.async('checkoutProvider')(function (checkoutProvider) {\n                    var billingAddressData = checkoutData.getBillingAddressFromData();\n\n                    if (billingAddressData) {\n                        checkoutProvider.set(\n                            'billingAddress',\n                            $.extend({}, checkoutProvider.get('billingAddress'), billingAddressData)\n                        );\n                    }\n                    checkoutProvider.on('billingAddress', function (billingAddressData) {\n                        checkoutData.setBillingAddressFromData(billingAddressData);\n                    });\n                });\n\n                quote.shippingAddress.subscribe(function (newAddress) {\n                    if (self.isAddressSameAsShipping()) {\n                        selectBillingAddress(newAddress);\n                    }\n                });\n\n                resolver(this.afterResolveDocument.bind(this));\n\n                return this;\n            },\n\n\n\n            useShippingAddress: function () {\n                if (this.isAddressSameAsShipping()) {\n                    selectBillingAddress(quote.shippingAddress());\n                    checkoutData.setSelectedBillingAddress(null);\n                    if (window.checkoutConfig.reloadOnBillingAddress) {\n                        setBillingAddressAction(globalMessageList);\n                    }\n                } else {\n                    this.updateAddress();\n                }\n\n                return true;\n            },\n            afterResolveDocument: function () {\n                this.saveBillingAddress();\n\n                addressAutoComplete.register('billing');\n            },\n\n            onAddressChange: function (address) {\n                this._super(address);\n\n                if (!this.isAddressSameAsShipping() && canShowBillingAddress) {\n                    this.updateAddress();\n                }\n            },\n\n            updateAddress: function () {\n                var mgpDetailsBilling = $('.billing-address-details-mgp'),\n                    formBillingaddress = $('.form-mgp-billing-address');\n                if (this.selectedAddress() && !this.isAddressFormVisible()) {\n                    newBillingAddress = createBillingAddress(this.selectedAddress());\n                    selectBillingAddress(newBillingAddress);\n                    checkoutData.setSelectedBillingAddress(this.selectedAddress().getKey());\n                } else {\n                    var addressData = this.source.get('billingAddress'),\n                        newBillingAddress;\n                    \n                    newBillingAddress = createBillingAddress(addressData);\n                    selectBillingAddress(newBillingAddress);\n                    checkoutData.setSelectedBillingAddress(newBillingAddress.getKey());\n                    checkoutData.setNewCustomerBillingAddress(addressData);\n                     if (addressData.firstname != '' && addressData.lastname != '' && addressData.street['0'] != '' && addressData.city != '' && addressData.telephone != '') {\n                        let addressDatastreet1 = (addressData.street['1'] != undefined) ? addressData.street['1'] : '';\n                        let addressDatastreet2 = (addressData.street['2'] != undefined) ? addressData.street['2'] : '';\n                        mgpDetailsBilling.find('.billing-address-detail-child').html(\n                            addressData.firstname+' '+addressData.lastname+'<br><br>'+\n                            addressData.street['0']+' '+addressDatastreet1+' '+addressDatastreet2+'<br><br>'+\n                            addressData.city+', '+addressData.postcode+'<br><br>'+\n                            '<a href=\"tel:'+addressData.telephone+'\">'+addressData.telephone+'</a>');\n                        formBillingaddress.hide();\n                        mgpDetailsBilling.show();\n                    }  \n                        \n                }\n                \n                if (window.checkoutConfig.reloadOnBillingAddress) {\n                    setBillingAddressAction(globalMessageList);\n                }\n            },\n\n            editAddressBilling: function(){\n                var mgpDetailsBilling = $('.billing-address-details-mgp'),\n                    formBillingaddress = $('.form-mgp-billing-address');\n                    formBillingaddress.show();\n                    mgpDetailsBilling.hide();\n                    $(this).parent().hide();\n            },\n            cancelAddressEdit: function () {\n                var checkBox = $('#billing-address-same-as-shipping-shared');\n                $(document).find(checkBox).trigger('click');\n                this.restoreBillingAddress();\n            },\n\n\n\n            initFields: function () {\n                var self = this,\n                    addressFields = window.checkoutConfig.mageConfig.addressFields,\n                    fieldsetName = 'checkout.steps.shipping-step.billingAddress.billing-address-fieldset';\n\n                $.each(addressFields, function (index, field) {\n                    registry.async(fieldsetName + '.' + field)(self.bindHandler.bind(self));\n                });\n\n                return this;\n            },\n\n            bindHandler: function (element) {\n                var self = this;\n\n                if (element.component.indexOf('/group') !== -1) {\n                    $.each(element.elems(), function (index, elem) {\n                        registry.async(elem.name)(function () {\n                            self.bindHandler(elem);\n                        });\n                    });\n                } else {\n                    element.on('value', this.saveBillingAddress.bind(this, element.index));\n                    observedElements.push(element);\n                }\n            },\n\n            saveBillingAddress: function (fieldName) {\n                if (!this.isAddressSameAsShipping()) {\n                    if (!canShowBillingAddress && !this.quoteIsVirtual) {\n                        selectBillingAddress(quote.shippingAddress());\n                    } else if (this.isAddressFormVisible()) {\n                        var addressFlat = addressConverter.formDataProviderToFlatData(\n                            this.collectObservedData(),\n                            'billingAddress'\n                        ), newBillingAddress;\n\n                       \n                        newBillingAddress = createBillingAddress(addressFlat);\n                        selectBillingAddress(newBillingAddress);\n                        checkoutData.setSelectedBillingAddress(newBillingAddress.getKey());\n                        checkoutData.setNewCustomerBillingAddress(addressFlat);\n\n                        if (window.checkoutConfig.reloadOnBillingAddress && (fieldName == 'country_id')) {\n                            setBillingAddressAction(globalMessageList);\n                        }\n                    }\n                }\n            },\n\n\n            collectObservedData: function () {\n                var observedValues = {};\n\n                $.each(observedElements, function (index, field) {\n                    observedValues[field.dataScope] = field.value();\n                });\n\n                return observedValues;\n            },\n\n            validate: function () {\n\n                if (this.isAddressSameAsShipping()) {\n                    OneStepCheckoutData.setData('same_as_shipping', true);\n                    return true;\n                }\n\n                if (!this.isAddressFormVisible()) {\n                    return true;\n                }\n\n                this.source.set('params.invalid', false);\n                this.source.trigger('billingAddress.data.validate');\n\n                if (this.source.get('billingAddress.custom_attributes')) {\n                    this.source.trigger('billingAddress.custom_attributes.data.validate');\n                }\n\n                OneStepCheckoutData.setData('same_as_shipping', false);\n                return !this.source.get('params.invalid');\n            },\n            getAddressTemplate: function () {\n                return 'Magepow_OnestepCheckout/address/billing/form';\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/removelocal.js":"define([\n    'jquery'\n], function ($){\n    'use strict';\n    $.widget('mage.removelocal', {\n\n        _init: function () {\n            window.localStorage.removeItem('mage-cache-storage');    \n        }\n    });\n    return $.mage.removelocal;\n});","Magepow_OnestepCheckout/js/view/list.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n\t    'underscore',\n\t    'ko',\n\t    'mageUtils',\n\t    'uiComponent',\n\t    'uiLayout',\n\t    'Magento_Customer/js/model/address-list'\n\t], function (_, ko, utils, Component, layout, addressList) {\n\t    'use strict';\n\t    return Component.extend({\n\t\tdefaults: {\n\t\t    template: 'Magepow_OnestepCheckout/address/billing/list',\n\t\t    visible: addressList().length > 0,\n\t\t    rendererTemplates: []\n\t\t},\n\n\t\t/** @inheritdoc */\n\t\tinitialize: function () {\n\t\t    this._super()\n\t\t        .initChildren();\n\n\t\t    addressList.subscribe(function (changes) {\n\t\t            var self = this;\n\n\t\t            changes.forEach(function (change) {\n\t\t                if (change.status === 'added') {\n\t\t                    self.createRendererComponent(change.value, change.index);\n\t\t                }\n\t\t            });\n\t\t        },\n\t\t        this,\n\t\t        'arrayChange'\n\t\t    );\n\n\t\t    return this;\n\t\t},\n\n\t\t/** @inheritdoc */\n\t\tinitConfig: function () {\n\t\t    this._super();\n\t\t    // the list of child components that are responsible for address rendering\n\t\t    this.rendererComponents = [];\n\n\t\t    return this;\n\t\t},\n\n\t\t/** @inheritdoc */\n\t\tinitChildren: function () {\n\t\t    _.each(addressList(), this.createRendererComponent, this);\n\n\t\t    return this;\n\t\t},\n\n\t\tcreateRendererComponent: function (address, index) {\n\t\t    var rendererTemplate, templateData, rendererComponent;\n\n\t\t    if (index in this.rendererComponents) {\n\t\t        this.rendererComponents[index].address(address);\n\t\t    } else {\n\t\t        // rendererTemplates are provided via layout\n\t\t        rendererTemplate = address.getType() != undefined && this.rendererTemplates[address.getType()] != undefined ? //eslint-disable-line\n\t\t            utils.extend({}, defaultRendererTemplate, this.rendererTemplates[address.getType()]) :\n\t\t            defaultRendererTemplate;\n\t\t        templateData = {\n\t\t            parentName: this.name,\n\t\t            name: index\n\t\t        };\n\t\t        rendererComponent = utils.template(rendererTemplate, templateData);\n\t\t        utils.extend(rendererComponent, {\n\t\t            address: ko.observable(address)\n\t\t        });\n\t\t        layout([rendererComponent]);\n\t\t        this.rendererComponents[index] = rendererComponent;\n\t\t    }\n\t\t}\n\t    });\n\t});\n","Magepow_OnestepCheckout/js/view/delivery_date.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'ko',\n        'uiComponent',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n        'jquery-ui-modules/widget',\n        'jquery/jquery-ui-timepicker-addon'\n    ],\n    function ($, ko, Component, OneStepCheckoutData ) {\n        'use strict';\n        var cacheKey = 'deliveryTime',\n            isVisible = OneStepCheckoutData.getData(cacheKey) ? true : false;\n        var cacheKeyHouseSecurityCode = 'houseSecurityCode';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/delivery-time'\n            },\n            houseSecurityCodeValue: ko.observable(),\n            deliveryTimeValue: ko.observable(),\n            isVisible: ko.observable(isVisible),\n            initialize: function () {\n                this._super();\n                var self = this;\n                ko.bindingHandlers.datepicker = {\n                    init: function (element) {\n                        var dateFormat = window.checkoutConfig.mageConfig.deliveryTimeOptions.deliveryTimeFormat,\n                            daysOff = window.checkoutConfig.mageConfig.deliveryTimeOptions.deliveryTimeOff,\n                            options = {\n                                minDate: 0,\n                                showButtonPanel: false,\n                                dateFormat: dateFormat,\n                                showOn: 'both',\n                                buttonText: '',\n                                beforeShowDay: function (date) {\n                                    if (!daysOff)\n                                        return [true];\n\n                                    return [daysOff.indexOf(date.getDay()) === -1];\n                                }\n                            };\n                        $(element).datetimepicker(options);\n                    }\n                };\n                this.deliveryTimeValue(OneStepCheckoutData.getData(cacheKey));\n                this.deliveryTimeValue.subscribe(function (newValue) {\n                    OneStepCheckoutData.setData(cacheKey, newValue);\n                    self.isVisible(true);\n                });\n                //House Security Code\n                this.houseSecurityCodeValue(OneStepCheckoutData.getData(cacheKeyHouseSecurityCode));\n                this.houseSecurityCodeValue.subscribe(function (newValue) {\n                    OneStepCheckoutData.setData(cacheKeyHouseSecurityCode, newValue);\n                });\n                return this;\n            },\n            removeDeliveryTime: function () {\n                if (OneStepCheckoutData.getData(cacheKey) && OneStepCheckoutData.getData(cacheKey) != null) {\n                    OneStepCheckoutData.setData(cacheKey, '');\n                    $(\"#onestepcheckout-delivery-time\").attr('value', '');\n                    this.isVisible(false);\n                }\n            },\n            canUseHouseSecurityCode: function () {\n                if (!window.checkoutConfig.mageConfig.deliveryTimeOptions.houseSecurityCode) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/shipping-method.js":"/**\n * @copyright Copyright \u00c2\u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n define(\n    [\n        'jquery',\n        'underscore',\n        'mage/storage',\n        'Magento_Checkout/js/view/shipping',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/model/resource-url-manager',\n        'Magento_Checkout/js/action/set-shipping-information',\n        'Magepow_OnestepCheckout/js/action/payment-total-information',\n        'Magento_Checkout/js/model/step-navigator',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Checkout/js/checkout-data',\n        'Magento_Checkout/js/action/select-billing-address',\n        'Magento_Checkout/js/action/select-shipping-address',\n        'Magento_Checkout/js/model/address-converter',\n        'Magento_Checkout/js/model/shipping-rate-service',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magepow_OnestepCheckout/js/model/checkout-data-resolver',\n        'Magepow_OnestepCheckout/js/model/address/auto-complete',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n        'Magento_Checkout/js/model/payment-service',\n        'Magento_Checkout/js/model/payment/method-converter',\n        'Magento_Checkout/js/model/error-processor',\n        'Magento_Checkout/js/model/full-screen-loader',\n        'Magento_Customer/js/model/address-list',\n        'Magento_Checkout/js/action/create-shipping-address',\n        'rjsResolver',\n        'mage/translate'\n    ],\n    function ($,\n              _,\n              storage,\n              Component,\n              quote,\n              customer,\n              resourceUrlManager,\n              setShippingInformationAction,\n              getPaymentTotalInformation,\n              stepNavigator,\n              additionalValidators,\n              checkoutData,\n              selectBillingAddress,\n              selectShippingAddress,\n              addressConverter,\n              shippingRateService,\n              shippingService,\n              dataResolver,\n              addressAutoComplete,\n              oneStepCheckoutData,\n              paymentService,\n              methodConverter,\n              errorProcessor,\n              fullScreenLoader,\n              addressList,\n              createShippingAddress,\n              resolver) {\n        'use strict';\n\n        dataResolver.resolveDefaultShippingMethod();\n\n        /** Set shipping methods to collection */\n        /*shippingService.setShippingRates(window.checkoutConfig.shippingMethods); */\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/shipping-method',\n                shippingFormTemplate: 'Magento_Checkout/shipping-address/form',\n            },\n            currentMethod: null,\n            saveInAddressBook: 1,\n            initialize: function () {\n                this._super();\n                if (!quote.shippingAddress() && addressList().length >= 1) {\n                    selectShippingAddress(addressList()[0]);\n                }\n\n                stepNavigator.steps.removeAll();\n\n                //shippingRateService.estimateShippingMethod();\n                additionalValidators.registerValidator(this);\n\n                resolver(this.afterResolveDocument.bind(this));\n\n                return this;\n            },\n\n            initObservable: function () {\n                this._super();\n\n                quote.shippingMethod.subscribe(function (oldValue) {\n                    this.currentMethod = oldValue;\n                }, this, 'beforeChange');\n\n                quote.shippingMethod.subscribe(function (newValue) {\n                    var isMethodChange = ($.type(this.currentMethod) !== 'object') ? true : this.currentMethod.method_code;\n                    if ($.type(newValue) === 'object' && (isMethodChange !== newValue.method_code)) {\n                        setShippingInformationAction();\n                    } else if (shippingRateService.isAddressChange) {\n                        shippingRateService.isAddressChange = false;\n                        getPaymentTotalInformation();\n                    }\n                }, this);\n\n                return this;\n            },\n\n            afterResolveDocument: function () {\n                addressAutoComplete.register('shipping');\n                if(!quote.isVirtual() && quote.shippingAddress() && quote.shippingAddress().countryId){\n                    shippingRateService.estimateShippingMethod();\n                }\n            },\n\n            validate: function () {\n                if (quote.isVirtual()) {\n                    return true;\n                }\n\n                var shippingMethodValidationResult = true,\n                    shippingAddressValidationResult = true,\n                    loginFormSelector = 'form[data-role=email-with-possible-login]',\n                    emailValidationResult = customer.isLoggedIn();\n\n                if (!quote.shippingMethod()) {\n                    this.errorValidationMessage($.mage.__('Please specify a shipping method.'));\n\n                    shippingMethodValidationResult = false;\n                }\n\n                if (!customer.isLoggedIn()) {\n                    $(loginFormSelector).validation();\n                    emailValidationResult = Boolean($(loginFormSelector + ' input[name=username]').valid());\n                }\n\n                if (this.isFormInline) {\n                    this.source.set('params.invalid', false);\n                    this.source.trigger('shippingAddress.data.validate');\n\n                    if (this.source.get('shippingAddress.custom_attributes')) {\n                        this.source.trigger('shippingAddress.custom_attributes.data.validate');\n                    }\n\n                    if (this.source.get('params.invalid')) {\n                        shippingAddressValidationResult = false;\n                    }\n\n                    this.saveShippingAddress();\n                }\n\n                return shippingMethodValidationResult && shippingAddressValidationResult && emailValidationResult;\n            },\n            saveShippingAddress: function () {\n\n                var shippingAddress = quote.shippingAddress(),\n                    addressData = addressConverter.formAddressDataToQuoteAddress(\n                        this.source.get('shippingAddress')\n                    );\n                var self = this;\n\n                //Copy form data to quote shipping address object\n                for (var field in addressData) {\n                    if (addressData.hasOwnProperty(field) &&\n                        shippingAddress.hasOwnProperty(field) &&\n                        typeof addressData[field] != 'function' &&\n                        _.isEqual(shippingAddress[field], addressData[field])\n                    ) {\n                        shippingAddress[field] = addressData[field];\n                    } else if (typeof addressData[field] != 'function' && !_.isEqual(shippingAddress[field], addressData[field])) {\n                        shippingAddress = addressData;\n                        break;\n                    }\n                }\n\n                if (customer.isLoggedIn()) {\n                    shippingAddress.save_in_address_book = 1;\n                }\n                selectShippingAddress(shippingAddress);\n\n                if (!quote.billingAddress() && quote.shippingAddress().canUseForBilling()) {\n                    selectBillingAddressAction(quote.shippingAddress());\n                }\n                self.savaDataAdded(shippingAddress);\n            },\n\n            savaDataAdded: function(shippingAddress){\n                var payload,\n                    additionInformation = oneStepCheckoutData.getData();\n                if (window.checkoutConfig.mageConfig.giftMessageOptions.isOrderLevelGiftOptionsEnabled) {\n                    additionInformation.giftMessage = this.saveGiftMessage();\n                }\n                var customAttributes = {};\n                if (_.isObject(quote.billingAddress().customAttributes)) {\n                    _.each(quote.billingAddress().customAttributes, function (attribute, key) {\n                        if (_.isObject(attribute)) {\n                            customAttributes[attribute.attribute_code] = attribute.value\n                        } else if (_.isString(attribute)) {\n                            customAttributes[key] = attribute\n                        }\n                    });\n                }\n\n                payload = {\n                    addressInformation: {\n                        'shipping_address': shippingAddress,\n                        'billing_address': quote.billingAddress(),\n                        'shipping_method_code': quote.shippingMethod()['method_code'],\n                        'shipping_carrier_code': quote.shippingMethod()['carrier_code']\n                    },\n                    customerAttributes: customAttributes,\n                    additionInformation: additionInformation\n                };\n                storage.post(\n                    resourceUrlManager.getUrlForSetShippingInformation(quote),\n                    JSON.stringify(payload)\n                ).done(\n                    function (response) {\n                        quote.setTotals(response.totals);\n                        paymentService.setPaymentMethods(methodConverter(response['payment_methods']));\n                        fullScreenLoader.stopLoader();\n                    }\n                ).fail(\n                    function (response) {\n                        errorProcessor.process(response);\n                        fullScreenLoader.stopLoader();\n                    }\n                );\n            },\n\n            saveGiftMessage: function () {\n                var giftMessage = {};\n                if (!$(\"#onestepcheckout-gift-message\").is(\":checked\")) $('.gift-options-content').find('input:text,textarea').val('');\n                giftMessage.sender = $(\"#gift-message-whole-from\").val();\n                giftMessage.recipient = $(\"#gift-message-whole-to\").val();\n                giftMessage.message = $(\"#gift-message-whole-message\").val();\n                return JSON.stringify(giftMessage);\n            },\n\n            saveNewAddress: function () {\n                var self = this;\n                this.source.set('params.invalid', false);\n                var addressData,\n                newShippingAddress;\n                \n                this.source.trigger('shippingAddress.data.validate');\n\n                if (this.source.get('shippingAddress.custom_attributes')) {\n                    this.source.trigger('shippingAddress.custom_attributes.data.validate');\n                }\n                if (!this.source.get('params.invalid')) {\n                    this._super();\n                    shippingRateService.isAddressChange = true;\n                    shippingRateService.estimateShippingMethod();\n                \n                    addressData = this.source.get('shippingAddress');\n                    // if user clicked the checkbox, its value is true or false. Need to convert.\n                    addressData['save_in_address_book'] = this.saveInAddressBook ? 1 : 0;\n\n                    // New address must be selected as a shipping address\n                    newShippingAddress = createShippingAddress(addressData);\n                    selectShippingAddress(newShippingAddress);\n                    checkoutData.setSelectedShippingAddress(newShippingAddress.getKey());\n                    checkoutData.setNewCustomerShippingAddress($.extend(true, {}, addressData));\n                    self.savaDataAdded(addressData);\n                }\n            },\n\n            getAddressTemplate: function () {\n                return 'Magepow_OnestepCheckout/address/shipping-address';\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/edit-billing-address.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'ko',\n    'Magento_Customer/js/model/address-list'\n], function (ko, addressList) {\n    'use strict';\n\n    return function (address) {\n        addressList().some(function (currentAddress, index, addresses) {\n            if (currentAddress.getKey() === address.getKey()) {\n                addressList.replace(currentAddress, address);\n            }\n        });\n\n        addressList.valueHasMutated();\n\n        return address;\n    };\n});\n","Magepow_OnestepCheckout/js/view/payment.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko',\n        'jquery',\n        'Magento_Checkout/js/view/payment',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/step-navigator',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magepow_OnestepCheckout/js/model/checkout-data-resolver',\n        'Magepow_OnestepCheckout/js/model/payment-service',\n        'mage/translate'\n    ],\n    function (ko,\n              $,\n              Component,\n              quote,\n              stepNavigator,\n              additionalValidators,\n              DataResolver,\n              PaymentService) {\n        'use strict';\n\n        DataResolver.resolveDefaultPaymentMethod();\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/payment'\n            },\n            isLoading: PaymentService.isLoading,\n            errorValidationMessage: ko.observable(false),\n\n            initialize: function () {\n                var self = this;\n\n                this._super();\n\n                stepNavigator.steps.removeAll();\n\n                additionalValidators.registerValidator(this);\n\n                quote.paymentMethod.subscribe(function () {\n                    self.errorValidationMessage(false);\n                });\n\n                return this;\n            },\n\n            validate: function () {\n                if (!quote.paymentMethod()) {\n                    this.errorValidationMessage($.mage.__('Please specify a payment method.'));\n\n                    return false;\n                }\n\n                return true;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/comments.js":"    \ndefine([ \"jquery\", \n        \"ko\", \n        \"uiComponent\", \n        \"uiRegistry\", \n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n\n ], function ($, ko, Component, uiRegistry, OneStepCheckoutData) {\n    \"use strict\";\n     var cacheKey = 'order_comment',\n        isVisible = OneStepCheckoutData.getData(cacheKey) ? true : false;\n    return Component.extend({\n         defaults: {\n            template: 'Magepow_OnestepCheckout/order-comment'\n        },\n        orderCommentValue: ko.observable(),\n        isVisible: ko.observable(isVisible),\n\n        initialize : function () {\n            var self = this;\n            this.customerNote = null;\n            this._super();\n\n            uiRegistry.async(\"checkout.sidebar.summary.comment.\")(\n                    function (customerNote) {\n                        this.customerNote = customerNote;\n                        uiRegistry.async('checkout.osc.ajax')(\n                                function (ajax) {\n                                    ajax.addMethod(\n                                        'params',\n                                        'customerNote',\n                                        this.paramsHandler.bind(this)\n                                    );\n                                }.bind(this));\n\n                    }.bind(this));\n\n            this.orderCommentValue(OneStepCheckoutData.getData(cacheKey));\n            this.orderCommentValue.subscribe(function (newValue) {\n                OneStepCheckoutData.setData(cacheKey, newValue);\n                self.isVisible(true);\n            });\n           \n            return this;\n\n\n        },\n\n        paramsHandler : function () {\n            var response = false;\n\n            if (this.customerNote.value().length > 0) {\n                response = {\n                    \"customerNote\" : this.customerNote.value()\n                };\n            }\n\n            return response;\n        }\n\n    });\n\n});\n\n","Magepow_OnestepCheckout/js/view/payment/braintree-paypal-mixins.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine([\n    'jquery',\n    'Magepow_OnestepCheckout/js/action/set-checkout-information',\n    'Magepow_OnestepCheckout/js/model/braintree-paypal',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Checkout/js/model/quote',\n    'underscore'\n], function ($, setCheckoutInformationAction, braintreePaypalModel, additionalValidators, quote, _) {\n    'use strict';\n    return function (BraintreePaypalComponent) {\n        return BraintreePaypalComponent.extend({\n            /**\n             * Set list of observable attributes\n             * @returns {exports.initObservable}\n             */\n            initObservable: function () {\n                var self = this;\n\n                this._super();\n                // for each component initialization need update property\n                this.isReviewRequired = braintreePaypalModel.isReviewRequired;\n                this.customerEmail = braintreePaypalModel.customerEmail;\n                this.active = braintreePaypalModel.active;\n\n                return this;\n            },\n            /**\n             * Get shipping address\n             * @returns {Object}\n             */\n            getShippingAddress: function () {\n                var address = quote.shippingAddress();\n                if (!address) {\n                    address = {};\n                }\n                if (!address.street) {\n                    address.street = ['', ''];\n                }\n                if (address.postcode === null) {\n                    return {};\n                }\n\n                return {\n                    recipientName: address.firstname + ' ' + address.lastname,\n                    streetAddress: address.street[0],\n                    locality: address.city,\n                    countryCodeAlpha2: address.countryId,\n                    postalCode: address.postcode,\n                    region: address.regionCode,\n                    phone: address.telephone,\n                    editable: this.isAllowOverrideShippingAddress()\n                };\n            }\n        })\n    }\n});\n","Magepow_OnestepCheckout/js/view/payment/discount.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'ko',\n        'uiComponent',\n        'Magento_Checkout/js/model/quote',\n        'Magento_SalesRule/js/action/set-coupon-code',\n        'Magento_SalesRule/js/action/cancel-coupon',\n        'Magepow_OnestepCheckout/js/model/onestepcheckout-loader/discount'\n    ],\n    function ($, ko, Component, quote, setCouponCodeAction, cancelCouponAction, discountLoader) {\n        'use strict';\n        var totals = quote.getTotals(),\n            couponCode = ko.observable(null),\n            isApplied = discountLoader.isAppliedCoupon;\n\n        if (totals()) {\n            couponCode(totals()['coupon_code']);\n        }\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/review/discount'\n            },\n            isBlockLoading: discountLoader.isLoading,\n            couponCode: couponCode,\n\n            /**\n             * Applied flag\n             */\n            isApplied: isApplied,\n\n            /**\n             * Coupon code application procedure\n             */\n            apply: function() {\n                if (this.validate()) {\n                    setCouponCodeAction(couponCode(), isApplied);\n                }\n            },\n\n            /**\n             * Cancel using coupon\n             */\n            cancel: function() {\n                if (this.validate()) {\n                    couponCode('');\n                    cancelCouponAction(isApplied);\n                }\n            },\n\n            /**\n             * Coupon form validation\n             *\n             * @returns {Boolean}\n             */\n            validate: function () {\n                var form = '#discount-form';\n\n                return $(form).validation() && $(form).validation('isValid');\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/payment/method-renderer/in-context/checkout-express-mixin.js":"define([\n    'ko',\n    'underscore',\n    'uiRegistry',\n    'rjsResolver',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/payment/method-list'\n], function (ko, _, registry, onJsLoad, quote, paymentMethods) {\n    'use strict';\n\n    return function (Component) {\n        return Component.extend({\n            validationTimeout: 0,\n\n            /**\n             * fix paypal behavior for one step checkout\n             * reactivate button on shipping save\n             */\n            initListeners: function () {\n                this._super();\n                onJsLoad(function () {\n                    var fields = registry.filter(function (module) {\n                        return ko.isObservable(module.required)\n                            && module.required.peek() === true\n                            && ko.isObservable(module.value)\n                            && ko.isObservable(module.visible)\n                            && ko.isObservable(module.disabled);\n                    });\n\n                    paymentMethods.subscribe(this.mageDeferredValidation, this);\n                    _.each(fields, function (element) {\n                        element.value.subscribe(function (value) {\n                            if ((value || value === 0 || value === false)\n                                && element.required()\n                                && element.visible()\n                                && !element.disabled()\n                            ) {\n                                this.mageDeferredValidation();\n                            }\n                        }.bind(this));\n                    }.bind(this));\n\n                }.bind(this));\n            },\n\n            validate: function () {\n                this._super();\n                clearTimeout(this.validationTimeout);\n            },\n\n            mageDeferredValidation: function () {\n                clearTimeout(this.validationTimeout);\n\n                if (quote.paymentMethod() && quote.paymentMethod().method === this.item.method) {\n                    this.validationTimeout = setTimeout(function () {\n                        window.shippingErrorHideIsNotAllowed = true;\n                        this.validate();\n                        delete window.shippingErrorHideIsNotAllowed;\n                    }.bind(this), 200);\n                }\n            }\n        });\n    };\n});\n","Magepow_OnestepCheckout/js/view/summary/newsletter.js":"define(\n    [\n        'ko',\n        'uiComponent',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data'\n    ],\n    function (ko, Component, OneStepCheckoutData) {\n        \"use strict\";\n\n        var cacheKey = 'is_subscribed';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/summary/newsletter'\n            },\n            initObservable: function () {\n                this._super()\n                    .observe({\n                        isRegisterNewsletter: (typeof OneStepCheckoutData.getData(cacheKey) === 'undefined') ? window.checkoutConfig.mageConfig.newsletterDefault : OneStepCheckoutData.getData(cacheKey)\n                    });\n                OneStepCheckoutData.setData(cacheKey, this.isRegisterNewsletter());\n                this.isRegisterNewsletter.subscribe(function (newValue) {\n                    OneStepCheckoutData.setData(cacheKey, newValue);\n                });\n\n                return this;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/summary/item/details.js":"/**\n * details\n *\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine(\n    [\n        'underscore',\n        'jquery',\n        'Magento_Checkout/js/view/summary/item/details',\n        'Magento_Checkout/js/model/quote',\n        'Magepow_OnestepCheckout/js/action/update-item',\n        'Magepow_OnestepCheckout/js/action/gift-message-item',\n        'mage/url',\n        'mage/translate',\n        'Magento_Ui/js/modal/modal'\n    ],\n    function (_, $, Component, quote, updateItemAction, giftMessageItem, url, $t, modal) {\n        \"use strict\";\n\n        var products = window.checkoutConfig.quoteItemData,\n            qtyIncrements = window.checkoutConfig.mageConfig.qtyIncrements;\n\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/summary/item/details'\n            },\n            updateQtyDelay: 500,\n            updateQtyTimeout: 0,\n\n            getProductUrl: function (parent) {\n                var item = _.find(products, function (product) {\n                    return product.item_id == parent.item_id;\n                });\n\n                if (item && item.hasOwnProperty('product') &&\n                    item.product.hasOwnProperty('request_path') && item.product.request_path) {\n                    return url.build(item.product.request_path);\n                }\n\n                return false;\n            },\n\n            /**\n             * Close popup gift message item\n             */\n            closePopup: function () {\n                $('.action-close').trigger('click');\n            },\n            plusQty: function (item, event) {\n                var self = this;\n                clearTimeout(this.updateQtyTimeout);\n\n                var target = $(event.target).parent().siblings(\".item_qty\"),\n                    itemId = parseInt(target.attr(\"id\")),\n                    qty = parseInt(target.val());\n\n                if (qtyIncrements.hasOwnProperty(itemId)) {\n                    var qtyDelta = qtyIncrements[itemId];\n\n                    qty = (Math.floor(qty / qtyDelta) + 1) * qtyDelta;\n                } else {\n                    qty += 1;\n                }\n\n                target.val(qty);\n\n                this.updateQtyTimeout = setTimeout(function () {\n                    self.updateItem(itemId, qty, target)\n                }, this.updateQtyDelay);\n            },\n\n            minusQty: function (item, event) {\n                var self = this;\n                clearTimeout(this.updateQtyTimeout);\n\n                var target = $(event.target).parent().siblings(\".item_qty\"),\n                    itemId = parseInt(target.attr(\"id\")),\n                    qty = parseInt(target.val());\n\n                if (qtyIncrements.hasOwnProperty(itemId)) {\n                    var qtyDelta = qtyIncrements[itemId];\n\n                    qty = (Math.ceil(qty / qtyDelta) - 1) * qtyDelta;\n                } else {\n                    qty -= 1;\n                }\n\n                target.val(qty);\n\n                this.updateQtyTimeout = setTimeout(function () {\n                    self.updateItem(itemId, qty, target)\n                }, this.updateQtyDelay);\n            },\n            changeQty: function (item, event) {\n                var target = $(event.target),\n                    itemId = parseInt(target.attr(\"id\")),\n                    qty = parseInt(target.val());\n\n                if (qtyIncrements.hasOwnProperty(itemId) && (qty % qtyIncrements[itemId])) {\n                    var qtyDelta = qtyIncrements[itemId];\n\n                    qty = (Math.ceil(qty / qtyDelta) - 1) * qtyDelta;\n                }\n\n                this.updateItem(itemId, qty, target);\n            },\n\n            removeItem: function (itemId) {\n                this.updateItem(itemId);\n            },\n\n            updateItem: function (itemId, itemQty, target) {\n                var self = this,\n                    payload = {\n                        item_id: itemId\n                    };\n\n                if (typeof itemQty !== 'undefined') {\n                    payload['item_qty'] = itemQty;\n                }\n\n                updateItemAction(payload).fail(function (response) {\n                    target.val(self.getProductQty(itemId));\n                });\n\n                return this;\n            },\n\n            getProductQty: function (itemId) {\n                var item = _.find(quote.totals().items, function (product) {\n                    return product.item_id == itemId;\n                });\n\n                if (item && item.hasOwnProperty('qty')) {\n                    return item.qty;\n                }\n\n                return 0;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/function/comment.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko',\n        'uiComponent',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-data'\n    ],\n    function (ko, Component, OneStepCheckoutData) {\n        \"use strict\";\n\n        var cacheKey = 'deliveryComment';\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/review/comment'\n            },\n            commentValue: ko.observable(),\n            initialize: function () {\n                this._super();\n\n                this.commentValue(OneStepCheckoutData.getData(cacheKey));\n\n                this.commentValue.subscribe(function (newValue) {\n                    OneStepCheckoutData.setData(cacheKey, newValue);\n                });\n\n                return this;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/function/gift-message.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko',\n        'jquery',\n        'uiComponent',\n        'Magepow_OnestepCheckout/js/model/gift-message'\n    ],\n    function (ko, $, Component, giftMessageModel) {\n        'use strict';\n        return Component.extend({\n\n            defaults: {\n                template: 'Magepow_OnestepCheckout/review/gift-message'\n            },\n            formBlockVisibility: null,\n            resultBlockVisibility: null,\n            model: {},\n\n            /**\n             * Component init\n             */\n            initialize: function () {\n                this._super()\n                    .observe('formBlockVisibility')\n                    .observe({\n                        'resultBlockVisibility': false\n                    });\n                this.model = new giftMessageModel();\n                this.isResultBlockVisible();\n                this.isUseGiftMessage();\n            },\n\n            /**\n             *\n             * @returns {boolean}\n             */\n            isUseGiftMessage: function () {\n                return !!window.checkoutConfig.mageConfig.giftMessageOptions.giftMessage.orderLevel.hasOwnProperty(\"gift_message_id\");\n            },\n\n            /**\n             * Is reslt block visible\n             */\n            isResultBlockVisible: function () {\n                var self = this;\n\n                if (this.model.getObservable('alreadyAdded')()) {\n                    this.resultBlockVisibility(true);\n                }\n                this.model.getObservable('additionalOptionsApplied').subscribe(function (value) {\n                    if (value == true) {\n                        self.resultBlockVisibility(true);\n                    }\n                });\n            },\n\n            /**\n             * @param {String} key\n             * @return {*}\n             */\n            getObservable: function (key) {\n                return this.model.getObservable(key);\n            },\n\n            /**\n             * Hide\\Show form block\n             */\n            toggleFormBlockVisibility: function () {\n                if (!this.model.getObservable('alreadyAdded')()) {\n                    this.formBlockVisibility(!this.formBlockVisibility());\n                } else {\n                    this.resultBlockVisibility(!this.resultBlockVisibility());\n                }\n                return true;\n            },\n\n            /**\n             * @return {Boolean}\n             */\n            isActive: function () {\n                return this.model.isGiftMessageAvailable();\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/function/addition.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'ko',\n        'uiComponent'\n    ],\n    function (ko, Component) {\n        \"use strict\";\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/review/addition'\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/function/placeOrder.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'underscore',\n        'ko',\n        'uiComponent',\n        'uiRegistry',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magento_Customer/js/customer-data',\n        'Magepow_OnestepCheckout/js/action/set-checkout-information',\n        'Magepow_OnestepCheckout/js/model/braintree-paypal'\n    ],\n    function ($,\n              _,\n              ko,\n              Component,\n              registry,\n              quote,\n              additionalValidators,\n              customerData,\n              setCheckoutInformationAction,\n              braintreePaypalModel) {\n        \"use strict\";\n\n        return Component.extend({\n            defaults: {\n                template: 'Magepow_OnestepCheckout/review/place-order',\n                visibleBraintreeButton: false,\n            },\n            braintreePaypalModel: braintreePaypalModel,\n            selectors: {\n                default: '#co-payment-form .payment-method._active button.action.primary.checkout'\n            },\n            initialize: function () {\n                this._super();\n                var self = this;\n                quote.paymentMethod.subscribe(function (value) {\n                    self.processVisiblePlaceOrderButton();\n                });\n\n                registry.async(this.getPaymentPath('braintree_paypal'))\n                (this.asyncBraintreePaypal.bind(this));\n\n                return this;\n            },\n\n            initObservable: function () {\n                var self = this;\n\n                this._super()\n                    .observe(['visibleBraintreeButton']);\n\n                return this;\n            },\n            asyncBraintreePaypal: function () {\n                this.processVisiblePlaceOrderButton();\n            },\n            isBraintreeNewVersion: function () {\n                var component = this.getBraintreePaypalComponent();\n                return component\n                    && typeof component.isReviewRequired == \"function\"\n                    && typeof component.getButtonTitle == \"function\";\n            },\n            processVisiblePlaceOrderButton: function () {\n                this.visibleBraintreeButton(this.checkVisiblePlaceOrderButton());\n            },\n            checkVisiblePlaceOrderButton: function () {\n                return this.getBraintreePaypalComponent()\n                    && this.isPaymentBraintreePaypal();\n            },\n            placeOrder: function () {\n                var self = this;\n                if (additionalValidators.validate()) {\n                    this.preparePlaceOrder().done(function () {\n                        self._placeOrder();\n                    });\n                } else {\n                    var offsetHeight = $(window).height() / 2,\n                        errorMsgSelector = $('#maincontent .mage-error:visible:first').closest('.field');\n                    errorMsgSelector = errorMsgSelector.length ? errorMsgSelector : $('#maincontent .field-error:visible:first').closest('.field');\n                    if (errorMsgSelector.length) {\n                        if (errorMsgSelector.find('select').length) {\n                            $('html, body').scrollTop(\n                                errorMsgSelector.find('select').offset().top - offsetHeight\n                            );\n                            errorMsgSelector.find('select').focus();\n                        } else if (errorMsgSelector.find('input').length) {\n                            $('html, body').scrollTop(\n                                errorMsgSelector.find('input').offset().top - offsetHeight\n                            );\n                            errorMsgSelector.find('input').focus();\n                        }\n                    } else if ($('.message-error:visible').length) {\n                        $('html, body').scrollTop(\n                            $('.message-error:visible:first').closest('div').offset().top - offsetHeight\n                        );\n                    }\n                }\n\n                return this;\n            },\n\n            brainTreePaypalPlaceOrder: function () {\n                var component = this.getBraintreePaypalComponent();\n                if (component && additionalValidators.validate()) {\n                    component.placeOrder.apply(component, arguments);\n                }\n\n                return this;\n            },\n\n            brainTreePayWithPayPal: function () {\n                var component = this.getBraintreePaypalComponent();\n                if (component && additionalValidators.validate()) {\n                    component.payWithPayPal.apply(component, arguments);\n                }\n\n                return this;\n            },\n            preparePlaceOrder: function (scrollTop) {\n                var scrollTop = scrollTop !== undefined ? scrollTop : true;\n                var deferer = $.when(setCheckoutInformationAction());\n\n                return scrollTop ? deferer.done(function () {\n                    $(\"body\").animate({scrollTop: 0}, \"slow\");\n                }) : deferer;\n            },\n\n            getPaymentPath: function (paymentMethodCode) {\n                return 'checkout.steps.billing-step.payment.payments-list.' + paymentMethodCode;\n            },\n\n            getPaymentMethodComponent: function (paymentMethodCode) {\n                return registry.get(this.getPaymentPath(paymentMethodCode));\n            },\n\n            isPaymentBraintreePaypal: function () {\n                return quote.paymentMethod() && quote.paymentMethod().method === 'braintree_paypal';\n            },\n\n            getBraintreePaypalComponent: function () {\n                return this.getPaymentMethodComponent('braintree_paypal');\n            },\n\n            _placeOrder: function () {\n                    $(this.selectors.default).trigger('click');\n                    customerData.invalidate(['customer']);\n            },\n            checkPalpal: function(){\n                var customer = customerData.get('customer');\n                var checkPalpal = customerData.get('checkout-data');\n                if(typeof customer().firstname == 'undefined' && quote.paymentMethod().method === 'paypal_express'){\n                    return true;                   \n                }\n                return false;  \n            },\n\n            clickPaypal: function(){\n                $(this.selectors.default).trigger('click');\n                customerData.invalidate(['customer']);\n            },\n\n            \n\n            isPlaceOrderActionAllowed: function () {\n                return true;\n            }\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/function/checkout-agreements.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'Magento_CheckoutAgreements/js/view/checkout-agreements',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Magepow_OnestepCheckout/js/model/agreement/agreement-validator'\n    ],\n    function (Component, additionalValidators, agreementValidator) {\n        'use strict';\n\n        additionalValidators.registerValidator(agreementValidator);\n        return Component.extend({\n        });\n    }\n);\n","Magepow_OnestepCheckout/js/view/shipping-address/address-renderer/default.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'Magento_Checkout/js/view/shipping-address/address-renderer/default',\n    'Magento_Checkout/js/model/shipping-rate-service'\n], function (Component, shippingRateService) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magepow_OnestepCheckout/address/shipping/address-renderer/default'\n        },\n\n        /** Set selected customer shipping address  */\n        selectAddress: function () {\n            if (!this.isSelected()) {\n                this._super();\n\n                shippingRateService.estimateShippingMethod();\n            }\n        }\n    });\n});\n","Magepow_OnestepCheckout/js/view/form/element/region.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine([\n    'underscore',\n    'Magento_Ui/js/form/element/region',\n    'mageUtils',\n    'uiLayout'\n], function (_, Component, utils, layout) {\n    'use strict';\n    var template = window.checkoutConfig.mageConfig.isUsedMaterialDesign ? 'Magepow_OnestepCheckout/form/field' : '${ $.$data.template }';\n    var inputNode = {\n        parent: '${ $.$data.parentName }',\n        component: 'Magento_Ui/js/form/element/abstract',\n        template: template,\n        elementTmpl: 'Magepow_OnestepCheckout/form/element/input',\n        provider: '${ $.$data.provider }',\n        name: '${ $.$data.index }_input',\n        dataScope: '${ $.$data.customEntry }',\n        customScope: '${ $.$data.customScope }',\n        sortOrder: '${ $.$data.sortOrder }',\n        displayArea: 'body',\n        label: '${ $.$data.label }'\n    };\n\n    return Component.extend({\n        initInput: function () {\n            layout([utils.template(_.extend(inputNode, {additionalClasses: this.additionalClasses}), this)]);\n\n            return this;\n        }\n    });\n});\n\n","Magepow_OnestepCheckout/js/view/form/element/email.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery',\n    'ko',\n    'Magento_Checkout/js/view/form/element/email',\n    'Magento_Customer/js/model/customer',\n    'Magepow_OnestepCheckout/js/model/one-step-checkout-data',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magepow_OnestepCheckout/js/action/check-email-availability',\n    'Magento_Checkout/js/checkout-data',\n    'Magento_Checkout/js/model/quote',\n    'mage/url',\n    'rjsResolver',\n    'mage/validation'\n], function ($, ko, Component, customer, OneStepCheckoutData, additionalValidators, checkEmailAvailability, checkoutData, quote, urlBuilder, resolver) {\n    'use strict';\n\n    var cacheKey = 'form_register_chechbox',\n        allowGuestCheckout = window.checkoutConfig.mageConfig.allowGuestCheckout,\n        passwordMinLength = window.checkoutConfig.mageConfig.register.dataPasswordMinLength,\n        passwordMinCharacter = window.checkoutConfig.mageConfig.register.dataPasswordMinCharacterSets,\n        customerEmailElement = '.form-login #customer-email';\n\n    if (!customer.isLoggedIn() && !allowGuestCheckout) {\n        OneStepCheckoutData.setData(cacheKey, true);\n    }\n\n    return Component.extend({\n        defaults: {\n            email: checkoutData.getInputFieldEmailValue(),\n            template: 'Magepow_OnestepCheckout/form/element/email',\n            isLoginVisible: false,\n            listens: {\n                email: ''\n            }\n        },\n        checkDelay: 0,\n        savingEmailRequest: null,\n        dataPasswordMinLength: passwordMinLength,\n        dataPasswordMinCharacterSets: passwordMinCharacter,\n\n        initialize: function () {\n            this._super();\n\n            if (!!this.email()) {\n                resolver(this.emailHasChanged.bind(this));\n            }\n\n            additionalValidators.registerValidator(this);\n        },\n\n        initObservable: function () {\n            this._super()\n                .observe({\n                    isCheckboxRegisterVisible: allowGuestCheckout,\n                    isRegisterVisible: OneStepCheckoutData.getData(cacheKey)\n                });\n\n            this.isRegisterVisible.subscribe(function (newValue) {\n                OneStepCheckoutData.setData(cacheKey, newValue);\n            });\n\n            return this;\n        },\n\n        /**\n         * Check email existing.\n         */\n        checkEmailAvailability: function () {\n            var self = this;\n            this.validateRequest();\n            this.isLoading(true);\n            this.checkRequest = checkEmailAvailability(this.email());\n            this.checkRequest.done(function (isEmailAvailable) {\n                self.isPasswordVisible(!isEmailAvailable);\n            }).fail(function () {\n                self.isPasswordVisible(false);\n            }).always(function () {\n                self.isLoading(false);\n            });\n        },\n\n  \n        validateEmail: function (focused) {\n            var loginFormSelector = 'form[data-role=email-with-possible-login]',\n                usernameSelector = loginFormSelector + ' input[name=username]',\n                loginForm = $(loginFormSelector),\n                validator;\n\n            loginForm.validation();\n\n            if (focused === false) {\n                return !!$(usernameSelector).valid();\n            }\n\n            validator = loginForm.validate();\n            return validator;\n        },\n\n        validate: function (type) {\n\n            if (customer.isLoggedIn() || !this.isRegisterVisible() || this.isPasswordVisible()) {\n                OneStepCheckoutData.setData('register', false);\n                return true;\n            }\n\n            if (typeof type !== 'undefined') {\n                var selector = $('#onestepcheckout-' + type);\n\n                selector.parents('form').validation();\n            }\n\n            var passwordSelector = $('#onestepcheckout-password');\n            passwordSelector.parents('form').validation();\n\n            var password = !!passwordSelector.valid();\n            var confirm = !!$('#onestepcheckout-password-confirmation').valid();\n\n            var result = password && confirm;\n            if (result) {\n                OneStepCheckoutData.setData('register', true);\n                OneStepCheckoutData.setData('password', passwordSelector.val());\n            } else if (!password) {\n                $('#onestepcheckout-password').focus();\n            } else if (!confirm) {\n                $('#onestepcheckout-password-confirmation').focus();\n            }\n\n            return result;\n\n        },\n\n        /** Move label element when input has value */\n        hasValue: function () {\n            if (window.checkoutConfig.mageConfig.isUsedMaterialDesign) {\n                $(customerEmailElement).val() ? $(customerEmailElement).addClass('active') : $(customerEmailElement).removeClass('active');\n            }\n        }\n    });\n});\n","Magepow_OnestepCheckout/js/view/form/element/street.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract',\n    'Magepow_OnestepCheckout/js/model/address/google-auto-complete'\n], function (Component, googleAutoComplete) {\n    'use strict';\n\n    return Component.extend({\n\n        googleAutocomplete: null,\n\n        /**\n         * Invokes initialize method of parent class,\n         * contains initialization logic\n         */\n        initialize: function () {\n            this._super()\n                .initAutocomplete();\n\n            return this;\n        },\n\n        initAutocomplete: function () {\n            var fieldsetName = this.parentName.split('.').slice(0, -1).join('.');\n\n            switch (window.checkoutConfig.mageConfig.autocomplete.type) {\n                case 'google':\n                    this.googleAutocomplete = new googleAutoComplete(this.uid, fieldsetName);\n                    break;\n                case 'pca':\n                    break;\n                default :\n                    break;\n            }\n\n            return this;\n        }\n    });\n});\n","Magepow_OnestepCheckout/js/in-context/express-checkout-wrapper-mixin.js":"define([\n    'Magento_Paypal/js/in-context/express-checkout-smart-buttons'\n], function (checkoutSmartButtons) {\n    'use strict';\n    window.paypalElement = false;\n    return function(target){\n        target.renderPayPalButtons = function (element) {\n            if (window.paypalElement == false) {\n                window.paypalElement = element;\n            }\n            if (typeof window.checkoutConfig === \"undefined\") {\n                checkoutSmartButtons(this.prepareClientConfig(), element);\n            }\n        }\n        return target;\n    };\n});","Magepow_OnestepCheckout/js/action/payment-total-information.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/model/quote',\n        'Magepow_OnestepCheckout/js/model/resource-url-manager',\n        'mage/storage',\n        'Magento_Checkout/js/model/error-processor',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/model/payment/method-converter',\n        'Magento_Checkout/js/model/payment-service',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-loader'\n    ],\n    function ($,\n              quote,\n              resourceUrlManager,\n              storage,\n              errorProcessor,\n              customer,\n              methodConverter,\n              paymentService,\n              shippingService,\n              OneStepCheckoutLoader) {\n        'use strict';\n\n        return function () {\n            OneStepCheckoutLoader.startLoader();\n\n            return storage.post(\n                resourceUrlManager.getUrlForUpdatePaymentTotalInformation(quote)\n            ).done(\n                function (response) {\n                    if (response.redirect_url) {\n                        window.location.href = response.redirect_url;\n                        return;\n                    }\n                    quote.setTotals(response.totals);\n                    paymentService.setPaymentMethods(methodConverter(response.payment_methods));\n                }\n            ).fail(\n                function (response) {\n                    errorProcessor.process(response);\n                }\n            ).always(\n                function () {\n                    OneStepCheckoutLoader.stopLoader();\n                }\n            );\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/action/place-order-mixins.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'jquery',\n    'mage/utils/wrapper',\n    'Magepow_OnestepCheckout/js/action/set-checkout-information',\n], function ($, wrapper, setCheckoutInformationAction) {\n    'use strict';\n\n    return function (placeOrderAction) {\n        return wrapper.wrap(placeOrderAction, function (originalAction, paymentData, messageContainer) {\n            var deferred = $.Deferred();\n\n            var url = window.checkoutConfig.checkoutUrl+'index/save';\n            var deliveryComment = $('#comments').val();\n            var orderCommment = $('[name=\"order_comment\"]').val();\n            var deliveryTime = $('#onestepcheckout-delivery-time').val();\n            var is_subscribed = $('#place-order-newsletter').val();\n\n            var payload = {\n                'order_comment': (orderCommment != undefined ) ? orderCommment : '',\n                'deliveryTime': (deliveryTime != undefined ) ? deliveryTime : '',\n                'deliveryComment': (deliveryComment != undefined ) ? deliveryComment : '',\n                'is_subscribed': (is_subscribed != undefined ) ? is_subscribed : '',\n            };\n            \n            $.ajax({\n                url: url,\n                data: payload,\n                dataType: 'json',\n                type: 'POST',\n            }).done(\n                function (response) {\n                    console.log(response);\n                }\n            ).fail(\n                function (response) {\n                    console.log(response);\n                }\n            );\n\n            if (paymentData && paymentData.method === 'braintree_paypal') {\n                setCheckoutInformationAction().done(function () {\n                    originalAction(paymentData, messageContainer).done(function (response) {\n                        deferred.resolve(response);\n                    }).fail(function (response) {\n                        deferred.reject(response);\n                    })\n                }).fail(function (response) {\n                    deferred.reject(response);\n                })\n            } else {\n                return originalAction(paymentData, messageContainer).fail(function (response) {\n                    if ($('.message-error').length) {\n                        $('html, body').scrollTop(\n                            $('.message-error:visible:first').closest('div').offset().top - $(window).height() / 2\n                        );\n                    }\n                });\n            }\n\n            return deferred;\n        });\n    };\n});\n","Magepow_OnestepCheckout/js/action/select-payment-method.js":" define([\n    'Magento_Checkout/js/model/quote'\n], function (quote) {\n    'use strict';\n\n    return function (paymentMethod) {\n        /*if (paymentMethod) {\n            paymentMethod.__disableTmpl = {\n                title: true\n            };\n        }*/\n        quote.paymentMethod(paymentMethod);\n    };\n});","Magepow_OnestepCheckout/js/action/validate-shipping-information.js":"define([\n    'Magepow_OnestepCheckout/js/model/shipping-save-processor/validate'\n], function (validateProcessor) {\n    'use strict';\n\n    return function () {\n        return validateProcessor.saveShippingInformation();\n    };\n});","Magepow_OnestepCheckout/js/action/set-payment-method-mixin.js":"define([\n    'uiRegistry',\n    'Magento_Checkout/js/model/quote',\n    'mage/utils/wrapper',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function (registry, quote, wrapper, agreementsAssigner) {\n    'use strict';\n\n    return function (setPaymentMethodAction) {\n        return wrapper.wrap(setPaymentMethodAction, function (originalAction, messageContainer) {\n            agreementsAssigner(quote.paymentMethod());\n\n            return originalAction(messageContainer);\n        });\n    };\n});\n","Magepow_OnestepCheckout/js/action/set-payment-method.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'underscore',\n    'jquery',\n    'Magento_Checkout/js/model/quote',\n    'Magento_Checkout/js/model/url-builder',\n    'mage/storage',\n    'Magento_Checkout/js/model/error-processor',\n    'Magento_Customer/js/model/customer',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_CheckoutAgreements/js/model/agreements-assigner'\n], function ($, _, quote, urlBuilder, storage, errorProcessor, customer, fullScreenLoader, agreementsAssigner) {\n    'use strict';\n\n    return function (messageContainer) {\n        var serviceUrl,\n            payload,\n            paymentData = _.extend({}, quote.paymentMethod());\n\n        agreementsAssigner(paymentData);\n        /**\n         * Checkout for guest and registered customer.\n         */\n        if (!customer.isLoggedIn()) {\n            serviceUrl = urlBuilder.createUrl('/guest-carts/:cartId/set-payment-information', {\n                cartId: quote.getQuoteId()\n            });\n            payload = {\n                cartId: quote.getQuoteId(),\n                email: quote.guestEmail,\n                paymentMethod: paymentData\n            };\n        } else {\n            serviceUrl = urlBuilder.createUrl('/carts/mine/set-payment-information', {});\n            payload = {\n                cartId: quote.getQuoteId(),\n                paymentMethod: paymentData\n            };\n        }\n        fullScreenLoader.startLoader();\n\n        return storage.post(\n            serviceUrl, JSON.stringify(payload)\n        ).fail(function (response) {\n            errorProcessor.process(response, messageContainer);\n        }).always(function () {\n            fullScreenLoader.stopLoader();\n        });\n    };\n});\n","Magepow_OnestepCheckout/js/action/update-item.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'Magento_Checkout/js/model/quote',\n        'Magepow_OnestepCheckout/js/model/resource-url-manager',\n        'mage/storage',\n        'Magento_Checkout/js/model/error-processor',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/model/payment/method-converter',\n        'Magento_Checkout/js/model/payment-service',\n        'Magento_Checkout/js/model/shipping-service',\n        'Magepow_OnestepCheckout/js/model/one-step-checkout-loader',\n        'Magento_Customer/js/customer-data'\n    ],\n    function (quote,\n              resourceUrlManager,\n              storage,\n              errorProcessor,\n              customer,\n              methodConverter,\n              paymentService,\n              shippingService,\n              OneStepCheckoutLoader,\n              customerData) {\n        'use strict';\n\n        var itemUpdateLoader = ['shipping', 'payment', 'total'];\n\n        return function (payload) {\n            var isRemove = !('item_qty' in payload);\n\n            if (!customer.isLoggedIn()) {\n                payload.cart_id = quote.getQuoteId();\n            }\n\n            OneStepCheckoutLoader.startLoader(itemUpdateLoader);\n\n            return storage.post(\n                resourceUrlManager.getUrlForUpdateItemInformation(quote, isRemove),\n                JSON.stringify(payload)\n            ).done(\n                function (response) {\n                    if (response.redirect_url) {\n                        window.location.href = response.redirect_url;\n                        return;\n                    }\n                    quote.setTotals(response.totals);\n                    paymentService.setPaymentMethods(methodConverter(response.payment_methods));\n                    if (response.shipping_methods && !quote.isVirtual()) {\n                        shippingService.setShippingRates(response.shipping_methods);\n                    }\n                    customerData.reload(['cart'], true);\n                }\n            ).fail(\n                function (response) {\n                    errorProcessor.process(response);\n                }\n            ).always(\n                function () {\n                    OneStepCheckoutLoader.stopLoader(itemUpdateLoader);\n                }\n            );\n        };\n    }\n);\n","Magepow_OnestepCheckout/js/action/check-email-availability.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine([\n    'mage/storage',\n    'Magepow_OnestepCheckout/js/model/resource-url-manager',\n    'Magento_Checkout/js/model/quote'\n], function (storage, resourceUrlManager, quote) {\n    'use strict';\n\n    return function (email) {\n        return storage.post(\n            resourceUrlManager.getUrlForCheckIsEmailAvailable(quote),\n            JSON.stringify({\n                customerEmail: email\n            }),\n            true\n        );\n    };\n\n});\n","Magepow_OnestepCheckout/js/action/set-checkout-information.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'Magento_Checkout/js/model/shipping-save-processor',\n        'Magepow_OnestepCheckout/js/model/checkout'\n    ],\n    function (shippingSaveProcessor, Processor) {\n        'use strict';\n\n        shippingSaveProcessor.registerProcessor('onestepcheckout', Processor);\n\n        return function () {\n            return shippingSaveProcessor.saveShippingInformation('onestepcheckout');\n        }\n    }\n);\n","Magepow_OnestepCheckout/js/action/gift-message-item.js":"/**\n * @copyright Copyright \u00a9 2020 Magepow. All rights reserved.\n * @author    @copyright Copyright (c) 2014 Magepow (<https://www.magepow.com>)\n * @license <https://www.magepow.com/license-agreement.html>\n * @Author: magepow<support@magepow.com>\n * @github: <https://github.com/magepow>\n */\ndefine(\n    [\n        'jquery',\n        'Magento_Checkout/js/model/quote',\n        'Magepow_OnestepCheckout/js/model/resource-url-manager',\n        'Magepow_OnestepCheckout/js/model/gift-message',\n        'mage/storage'\n    ],\n    function ($,\n              quote,\n              resourceUrlManager,\n              giftMessageModel,\n              storage) {\n        'use strict';\n\n        var giftMessageItems = window.checkoutConfig.mageConfig.giftMessageOptions.giftMessage.itemLevel,\n            giftMessageModel = new giftMessageModel();\n\n        return function (data, itemId, remove) {\n            return storage.post(\n                resourceUrlManager.getUrlForGiftMessageItemInformation(quote, itemId),\n                JSON.stringify(data)\n            ).done(\n                function (response) {\n                    if (response == true) {\n                        if (remove) {\n                            delete giftMessageItems[itemId].message;\n                            giftMessageModel.showMessage('success', 'Delete gift message item success.');\n                            return this;\n                        }\n                        giftMessageItems[itemId]['message'] = data.gift_message;\n                        giftMessageModel.showMessage('success', 'Update gift message item success.');\n                    }\n                }\n            ).fail(\n                function () {\n                    if (remove) {\n                        giftMessageModel.showMessage('error', 'Can not delete gift message item. Please try again!');\n                    }\n                    giftMessageModel.showMessage('error', 'Can not update gift message item. Please try again!');\n                }\n            )\n        };\n    }\n);\n","Magento_Fedex/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/shipping-rates-validator',\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\n    'Magento_Fedex/js/model/shipping-rates-validator',\n    'Magento_Fedex/js/model/shipping-rates-validation-rules'\n], function (\n    Component,\n    defaultShippingRatesValidator,\n    defaultShippingRatesValidationRules,\n    fedexShippingRatesValidator,\n    fedexShippingRatesValidationRules\n) {\n    'use strict';\n\n    defaultShippingRatesValidator.registerValidator('fedex', fedexShippingRatesValidator);\n    defaultShippingRatesValidationRules.registerRules('fedex', fedexShippingRatesValidationRules);\n\n    return Component;\n});\n","Magento_Fedex/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mageUtils',\n    'Magento_Fedex/js/model/shipping-rates-validation-rules',\n    'mage/translate'\n], function ($, utils, validationRules, $t) {\n    'use strict';\n\n    return {\n        validationErrors: [],\n\n        /**\n         * @param {Object} address\n         * @return {Boolean}\n         */\n        validate: function (address) {\n            var self = this;\n\n            this.validationErrors = [];\n            $.each(validationRules.getRules(), function (field, rule) {\n                var message;\n\n                if (rule.required && utils.isEmpty(address[field])) {\n                    message = $t('Field ') + field + $t(' is required.');\n\n                    self.validationErrors.push(message);\n                }\n            });\n\n            return !this.validationErrors.length;\n        }\n    };\n});\n","Magento_Fedex/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return {\n        /**\n         * @return {Object}\n         */\n        getRules: function () {\n            return {\n                'postcode': {\n                    'required': true\n                },\n                'country_id': {\n                    'required': true\n                },\n                'city': {\n                    'required': true\n                }\n            };\n        }\n    };\n});\n","Hemage_CheckoutNewsletterSubscription/js/view/newsletter-validator.js":"define(\n    [\n        'uiComponent',\n        'Magento_Checkout/js/model/payment/additional-validators',\n        'Hemage_CheckoutNewsletterSubscription/js/model/newsletter-validator'\n    ],\n    function (Component, additionalValidators, newsletterValidator) {\n        'use strict';\n\n        additionalValidators.registerValidator(newsletterValidator);\n\n        return Component.extend({});\n    }\n);","Hemage_CheckoutNewsletterSubscription/js/view/newsletter.js":"define([\n    'ko',\n    'jquery',\n    'uiComponent'\n], function (ko, $, Component) {\n    'use strict';\n    return Component.extend({\n        defaults: {\n            template: 'Hemage_CheckoutNewsletterSubscription/newsletter'\n        }\n    });\n});\n","Hemage_CheckoutNewsletterSubscription/js/view/payment/discount.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'ko',\n    'uiComponent',\n    'Magento_Checkout/js/model/quote',\n    'Magento_SalesRule/js/action/set-coupon-code',\n    'Magento_SalesRule/js/action/cancel-coupon'\n], function ($, ko, Component, quote, setCouponCodeAction, cancelCouponAction) {\n    'use strict';\n\n    var totals = quote.getTotals(),\n        couponCode = ko.observable(null),\n        isApplied;\n\n    if (totals()) {\n        couponCode(totals()['coupon_code']);\n    }\n    isApplied = ko.observable(couponCode() != null);\n\n    return Component.extend({\n        defaults: {\n            template: 'Staempfli_CheckoutNewsletterSubscription/payment/discount'\n        },\n        couponCode: couponCode,\n\n        /**\n         * Applied flag\n         */\n        isApplied: isApplied,\n\n        showCouponBox: function() {\n            return isApplied;\n        },\n\n        /**\n         * Coupon code application procedure\n         */\n        apply: function () {\n            if (this.validate()) {\n                setCouponCodeAction(couponCode(), isApplied);\n            }\n        },\n\n        /**\n         * Cancel using coupon\n         */\n        cancel: function () {\n            if (this.validate()) {\n                couponCode('');\n                cancelCouponAction(isApplied);\n            }\n        },\n\n        /**\n         * Coupon form validation\n         *\n         * @returns {Boolean}\n         */\n        validate: function () {\n            var form = '#discount-form';\n\n            return $(form).validation() && $(form).validation('isValid');\n        }\n    });\n});\n","Hemage_CheckoutNewsletterSubscription/js/model/newsletter-validator.js":"define(\n    [\n        'jquery',\n        'Magento_Customer/js/model/customer',\n        'Magento_Checkout/js/model/quote',\n        'Magento_Checkout/js/model/url-builder',\n        'Magento_Checkout/js/model/error-processor',\n        'mage/url'\n\n    ],\n    function ($, customer, quote, urlBuilder, errorProcessor, urlFormatter) {\n        'use strict';\n\n        return {\n            validate: function () {\n                var isCustomer = customer.isLoggedIn();\n                var status = $('#newsletter-subscription').is(':checked');\n                var quoteId = quote.getQuoteId();\n                var url;\n\n                if (isCustomer) {\n                    url = urlBuilder.createUrl('/carts/mine/newsletter-subscribe', {})\n                } else {\n                    url = urlBuilder.createUrl('/guest-carts/:cartId/newsletter-subscribe', {cartId: quoteId});\n                }\n\n                var payload = {\n                    cartId: quoteId,\n                    newsletterSubscription: {\n                        subscribe: status\n                    }\n                };\n\n                if (!payload.newsletterSubscription.subscribe) {\n                    return true;\n                }\n\n                var result = true;\n\n                $.ajax({\n                    url: urlFormatter.build(url),\n                    data: JSON.stringify(payload),\n                    global: false,\n                    contentType: 'application/json',\n                    type: 'PUT',\n                    async: false\n                }).done(\n                    function () {\n                        result = true;\n                    }\n                ).fail(\n                    function (response) {\n                        result = false;\n                        errorProcessor.process(response);\n                    }\n                );\n                return result;\n            }\n        };\n    }\n);","Magento_Swatches/js/configurable-customer-data.js":"require([\n    'jquery',\n    'Magento_ConfigurableProduct/js/options-updater'\n], function ($, Updater) {\n    'use strict';\n\n    var selectors = {\n            formSelector: '#product_addtocart_form',\n            swatchSelector: '.swatch-opt'\n        },\n        swatchWidgetName = 'mage-SwatchRenderer',\n        widgetInitEvent = 'swatch.initialized',\n\n    /**\n    * Sets all configurable swatch attribute's selected values\n    */\n    updateSwatchOptions = function () {\n        var swatchWidget = $(selectors.swatchSelector).data(swatchWidgetName);\n\n        if (!swatchWidget || !swatchWidget._EmulateSelectedByAttributeId) {\n            return;\n        }\n        swatchWidget._EmulateSelectedByAttributeId(this.productOptions);\n    },\n    updater = new Updater(widgetInitEvent, updateSwatchOptions);\n\n    updater.listen();\n});\n","Magento_Swatches/js/swatch-renderer.js":"/**\n * Copyright 2015 Adobe\n * All Rights Reserved.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'mage/smart-keyboard-handler',\n    'mage/translate',\n    'priceUtils',\n    'jquery-ui-modules/widget',\n    'jquery/jquery.parsequery',\n    'mage/validation/validation'\n], function ($, _, mageTemplate, keyboardHandler, $t, priceUtils) {\n    'use strict';\n\n    /**\n     * Extend form validation to support swatch accessibility\n     */\n    $.widget('mage.validation', $.mage.validation, {\n        /**\n         * Handle form with swatches validation. Focus on first invalid swatch block.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler: function (event, validation) {\n            var swatchWrapper, firstActive, swatches, swatch, successList, errorList, firstSwatch;\n\n            this._superApply(arguments);\n\n            swatchWrapper = '.swatch-attribute-options';\n            swatches = $(event.target).find(swatchWrapper);\n\n            if (!swatches.length) {\n                return;\n            }\n\n            swatch = '.swatch-attribute';\n            firstActive = $(validation.errorList[0].element || []);\n            successList = validation.successList;\n            errorList = validation.errorList;\n            firstSwatch = $(firstActive).parent(swatch).find(swatchWrapper);\n\n            keyboardHandler.focus(swatches);\n\n            $.each(successList, function (index, item) {\n                $(item).parent(swatch).find(swatchWrapper).attr('aria-invalid', false);\n            });\n\n            $.each(errorList, function (index, item) {\n                $(item.element).parent(swatch).find(swatchWrapper).attr('aria-invalid', true);\n            });\n\n            if (firstSwatch.length) {\n                $(firstSwatch).trigger('focus');\n            }\n        }\n    });\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - data-option-type (integer, 0-3)\n     *  - data-option-label (string)\n     *  - data-option-tooltip-thumb\n     *  - data-option-tooltip-value\n     *  - data-thumb-width\n     *  - data-thumb-height\n     */\n    $.widget('mage.SwatchRendererTooltip', {\n        options: {\n            delay: 200,                             //how much ms before tooltip to show\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            var $widget = this,\n                $this = this.element,\n                $element = $('.' + $widget.options.tooltipClass),\n                timer,\n                type = parseInt($this.data('option-type'), 10),\n                label = $this.data('option-label'),\n                thumb = $this.data('option-tooltip-thumb'),\n                value = $this.data('option-tooltip-value'),\n                width = $this.data('thumb-width'),\n                height = $this.data('thumb-height'),\n                $image,\n                $title,\n                $corner;\n\n            if (!$element.length) {\n                $element = $('<div class=\"' +\n                    $widget.options.tooltipClass +\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\n                );\n                $('body').append($element);\n            }\n\n            $image = $element.find('.image');\n            $title = $element.find('.title');\n            $corner = $element.find('.corner');\n\n            $this.on('mouseenter', function () {\n                if (!$this.hasClass('disabled')) {\n                    timer = setTimeout(\n                        function () {\n                            var leftOpt = null,\n                                leftCorner = 0,\n                                left,\n                                $window;\n\n                            if (type === 2) {\n                                // Image\n                                $image.css({\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\n                                    'background-size': 'initial',\n                                    'width': width + 'px',\n                                    'height': height + 'px'\n                                });\n                                $image.show();\n                            } else if (type === 1) {\n                                // Color\n                                $image.css({\n                                    background: value\n                                });\n                                $image.show();\n                            } else if (type === 0 || type === 3) {\n                                // Default\n                                $image.hide();\n                            }\n\n                            $title.text(label);\n\n                            leftOpt = $this.offset().left;\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\n                            $window = $(window);\n\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\n                            if (left < 0) {\n                                left = 5;\n                            } else if (left + $element.width() > $window.width()) {\n                                left = $window.width() - $element.width() - 5;\n                            }\n\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\n                            leftCorner = 0;\n\n                            if ($element.width() < $this.width()) {\n                                leftCorner = $element.width() / 2 - 3;\n                            } else {\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\n                            }\n\n                            $corner.css({\n                                left: leftCorner\n                            });\n                            $element.css({\n                                left: left,\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\n                            }).show();\n                        },\n                        $widget.options.delay\n                    );\n                }\n            });\n\n            $this.on('mouseleave', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $(document).on('tap', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $this.on('tap', function (event) {\n                event.stopPropagation();\n            });\n        }\n    });\n\n    /**\n     * Render swatch controls with options and use tooltips.\n     * Required two json:\n     *  - jsonConfig (magento's option config)\n     *  - jsonSwatchConfig (swatch's option config)\n     *\n     *  Tuning:\n     *  - numberToShow (show \"more\" button if options are more)\n     *  - onlySwatches (hide selectboxes)\n     *  - moreButtonText (text for \"more\" button)\n     *  - selectorProduct (selector for product container)\n     *  - selectorProductPrice (selector for change price)\n     */\n    $.widget('mage.SwatchRenderer', {\n        options: {\n            classes: {\n                attributeClass: 'swatch-attribute',\n                attributeLabelClass: 'swatch-attribute-label',\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\n                attributeOptionsWrapper: 'swatch-attribute-options',\n                attributeInput: 'swatch-input',\n                optionClass: 'swatch-option',\n                selectClass: 'swatch-select',\n                moreButton: 'swatch-more',\n                loader: 'swatch-option-loading'\n            },\n            // option's json config\n            jsonConfig: {},\n\n            // swatch's json config\n            jsonSwatchConfig: {},\n\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\n            selectorProduct: '.product-info-main',\n\n            // selector of price wrapper (need to know where set price)\n            selectorProductPrice: '[data-role=priceBox]',\n\n            //selector of product images gallery wrapper\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n\n            // selector of category product tile wrapper\n            selectorProductTile: '.product-item',\n\n            // number of controls to show (false or zero = show all)\n            numberToShow: false,\n\n            // show only swatch controls\n            onlySwatches: false,\n\n            // enable label for control\n            enableControlLabel: true,\n\n            // control label id\n            controlLabelId: '',\n\n            // text for more button\n            moreButtonText: $t('More'),\n\n            // Callback url for media\n            mediaCallback: '',\n\n            // Local media cache\n            mediaCache: {},\n\n            // Cache for BaseProduct images. Needed when option unset\n            mediaGalleryInitial: [{}],\n\n            // Use ajax to get image data\n            useAjax: false,\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace',\n\n            // whether swatches are rendered in product list or on product page\n            inProductList: false,\n\n            // sly-old-price block selector\n            slyOldPriceSelector: '.sly-old-price',\n\n            // tier prise selectors start\n            tierPriceTemplateSelector: '#tier-prices-template',\n            tierPriceBlockSelector: '[data-role=\"tier-price-block\"]',\n            tierPriceTemplate: '',\n            // tier prise selectors end\n\n            // A price label selector\n            normalPriceLabelSelector: '.normal-price .price-label',\n            qtyInfo: '#qty'\n        },\n\n        /**\n         * Get chosen product\n         *\n         * @returns int|null\n         */\n        getProduct: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) ? products[0] : null;\n        },\n\n        /**\n         * Get chosen product id\n         *\n         * @returns int|null\n         */\n        getProductId: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) && products.length === 1 ? products[0] : null;\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            // Don't render the same set of swatches twice\n            if ($(this.element).attr('data-rendered')) {\n                return;\n            }\n\n            $(this.element).attr('data-rendered', true);\n\n            if (_.isEmpty(this.options.jsonConfig.images)) {\n                this.options.useAjax = true;\n                // creates debounced variant of _LoadProductMedia()\n                // to use it in events handlers instead of _LoadProductMedia()\n                this._debouncedLoadProductMedia = _.debounce(this._LoadProductMedia.bind(this), 500);\n            }\n\n            this.options.tierPriceTemplate = $(this.options.tierPriceTemplateSelector).html();\n\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\n                // store unsorted attributes\n                this.options.jsonConfig.mappedAttributes = _.clone(this.options.jsonConfig.attributes);\n                this._sortAttributes();\n                this._RenderControls();\n                this._setPreSelectedGallery();\n                $(this.element).trigger('swatch.initialized');\n            } else {\n                console.log('SwatchRenderer: No input data received');\n            }\n        },\n\n        /**\n         * @private\n         */\n        _sortAttributes: function () {\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\n                return parseInt(attribute.position, 10);\n            });\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            var options = this.options,\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\n                productData = this._determineProductData(),\n                $main = productData.isInProductView ?\n                    this.element.parents('.column.main') :\n                    this.element.parents('.product-item-info');\n\n            if (productData.isInProductView) {\n                gallery.data('gallery') ?\n                    this._onGalleryLoaded(gallery) :\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n            } else {\n                options.mediaGalleryInitial = [{\n                    'img': $main.find('.product-image-photo').attr('src')\n                }];\n            }\n\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\n            this.inProductList = this.productForm.length > 0;\n            $(this.options.qtyInfo).on('input', this._onQtyChanged.bind(this));\n        },\n\n        /**\n         * Determine product id and related data\n         *\n         * @returns {{productId: *, isInProductView: bool}}\n         * @private\n         */\n        _determineProductData: function () {\n            // Check if product is in a list of products.\n            var productId,\n                isInProductView = false;\n\n            productId = this.element.parents('.product-item-details')\n                .find('.price-box.price-final_price').attr('data-product-id');\n\n            if (!productId) {\n                // Check individual product.\n                productId = $('[name=product]').val();\n                isInProductView = productId > 0;\n            }\n\n            return {\n                productId: productId,\n                isInProductView: isInProductView\n            };\n        },\n\n        /**\n         * Render controls\n         *\n         * @private\n         */\n        _RenderControls: function () {\n            var $widget = this,\n                container = this.element,\n                classes = this.options.classes,\n                chooseText = this.options.jsonConfig.chooseText,\n                showTooltip = this.options.showTooltip;\n\n            $widget.optionsMap = {};\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                var item = this,\n                    controlLabelId = 'option-label-' + item.code + '-' + item.id,\n                    options = $widget._RenderSwatchOptions(item, controlLabelId),\n                    select = $widget._RenderSwatchSelect(item, chooseText),\n                    input = $widget._RenderFormInput(item),\n                    listLabel = '',\n                    label = '';\n\n                // Show only swatch controls\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\n                    return;\n                }\n\n                if ($widget.options.enableControlLabel) {\n                    label +=\n                        '<span id=\"' + controlLabelId + '\" class=\"' + classes.attributeLabelClass + '\">' +\n                        $('<i></i>').text(item.label).html() +\n                        '</span>' +\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\n                }\n\n                if ($widget.inProductList) {\n                    $widget.productForm.append(input);\n                    input = '';\n                    listLabel = 'aria-label=\"' + $('<i></i>').text(item.label).html() + '\"';\n                } else {\n                    listLabel = 'aria-labelledby=\"' + controlLabelId + '\"';\n                }\n\n                // Create new control\n                container.append(\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code + '\" ' +\n                         'data-attribute-code=\"' + item.code + '\" ' +\n                         'data-attribute-id=\"' + item.id + '\">' +\n                        label +\n                        '<div aria-activedescendant=\"\" ' +\n                             'tabindex=\"0\" ' +\n                             'aria-invalid=\"false\" ' +\n                             'aria-required=\"true\" ' +\n                             'role=\"listbox\" ' + listLabel +\n                             'class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\n                            options + select +\n                        '</div>' + input +\n                    '</div>'\n                );\n\n                $widget.optionsMap[item.id] = {};\n\n                // Aggregate options array to hash (key => value)\n                $.each(item.options, function () {\n                    if (this.products.length > 0) {\n                        let salableProducts = this.products;\n\n                        if ($widget.options.jsonConfig.canDisplayShowOutOfStockStatus) {\n                            salableProducts = $widget.options.jsonConfig.salable[item.id][this.id];\n                        }\n                        $widget.optionsMap[item.id][this.id] = {\n                            price: parseInt(\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\n                                10\n                            ),\n                            products: salableProducts\n                        };\n                    }\n                });\n            });\n\n            if (showTooltip === 1) {\n                // Connect Tooltip\n                container\n                    .find('[data-option-type=\"1\"], [data-option-type=\"2\"],' +\n                        ' [data-option-type=\"0\"], [data-option-type=\"3\"]')\n                    .SwatchRendererTooltip();\n            }\n\n            // Hide all elements below more button\n            $('.' + classes.moreButton).nextAll().hide();\n\n            // Handle events like click or change\n            $widget._EventListener();\n\n            // Rewind options\n            $widget._Rewind(container);\n\n            //Emulate click on all swatches from Request\n            $widget._EmulateSelected($.parseQuery());\n            $widget._EmulateSelected($widget._getSelectedAttributes());\n        },\n\n        disableSwatchForOutOfStockProducts: function () {\n            let $widget = this, container = this.element;\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                let item = this;\n\n                if ($widget.options.jsonConfig.canDisplayShowOutOfStockStatus) {\n                    let salableProducts = $widget.options.jsonConfig.salable[item.id],\n                        swatchOptions = $(container).find(`[data-attribute-id='${item.id}']`).find('.swatch-option');\n\n                    swatchOptions.each(function (key, value) {\n                        let optionId = $(value).data('option-id');\n\n                        if (!salableProducts.hasOwnProperty(optionId)) {\n                            $(value).attr('disabled', true).addClass('disabled');\n                        }\n                    });\n                }\n            });\n        },\n\n        /**\n         * Render swatch options by part of config\n         *\n         * @param {Object} config\n         * @param {String} controlId\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchOptions: function (config, controlId) {\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\n                optionClass = this.options.classes.optionClass,\n                sizeConfig = this.options.jsonSwatchImageSizeConfig,\n                moreLimit = parseInt(this.options.numberToShow, 10),\n                moreClass = this.options.classes.moreButton,\n                moreText = this.options.moreButtonText,\n                countAttributes = 0,\n                html = '';\n\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            $.each(config.options, function (index) {\n                var id,\n                    type,\n                    value,\n                    thumb,\n                    label,\n                    width,\n                    height,\n                    attr,\n                    swatchImageWidth,\n                    swatchImageHeight;\n\n                if (!optionConfig.hasOwnProperty(this.id)) {\n                    return '';\n                }\n\n                // Add more button\n                if (moreLimit === countAttributes++) {\n                    html += '<a href=\"#\" class=\"' + moreClass + '\"><span>' + moreText + '</span></a>';\n                }\n\n                id = this.id;\n                type = parseInt(optionConfig[id].type, 10);\n                value = optionConfig[id].hasOwnProperty('value') ?\n                    $('<i></i>').text(optionConfig[id].value).html() : '';\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\n                width = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.width : 110;\n                height = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.height : 90;\n                label = this.label ? $('<i></i>').text(this.label).html() : '';\n                attr =\n                    ' id=\"' + controlId + '-item-' + id + '\"' +\n                    ' index=\"' + index + '\"' +\n                    ' aria-checked=\"false\"' +\n                    ' aria-describedby=\"' + controlId + '\"' +\n                    ' tabindex=\"0\"' +\n                    ' data-option-type=\"' + type + '\"' +\n                    ' data-option-id=\"' + id + '\"' +\n                    ' data-option-label=\"' + label + '\"' +\n                    ' aria-label=\"' + label + '\"' +\n                    ' role=\"option\"' +\n                    ' data-thumb-width=\"' + width + '\"' +\n                    ' data-thumb-height=\"' + height + '\"';\n\n                attr += thumb !== '' ? ' data-option-tooltip-thumb=\"' + thumb + '\"' : '';\n                attr += value !== '' ? ' data-option-tooltip-value=\"' + value + '\"' : '';\n\n                swatchImageWidth = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.width : 30;\n                swatchImageHeight = _.has(sizeConfig, 'swatchImage') ? sizeConfig.swatchImage.height : 20;\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' data-option-empty=\"true\"';\n                }\n\n                if (type === 0) {\n                    // Text\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\n                        '</div>';\n                } else if (type === 1) {\n                    // Color\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\n                        ' style=\"background: ' + value +\n                        ' no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 2) {\n                    // Image\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\n                        ' style=\"background: url(' + value + ') no-repeat center; background-size: initial;width:' +\n                        swatchImageWidth + 'px; height:' + swatchImageHeight + 'px\">' + '' +\n                        '</div>';\n                } else if (type === 3) {\n                    // Clear\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\n                } else {\n                    // Default\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\n                }\n            });\n\n            return html;\n        },\n\n        /**\n         * Render select by part of config\n         *\n         * @param {Object} config\n         * @param {String} chooseText\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchSelect: function (config, chooseText) {\n            var html;\n\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            html =\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\n                '<option value=\"0\" data-option-id=\"0\">' + chooseText + '</option>';\n\n            $.each(config.options, function () {\n                var label = this.label,\n                    attr = ' value=\"' + this.id + '\" data-option-id=\"' + this.id + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' data-option-empty=\"true\"';\n                }\n\n                html += '<option ' + attr + '>' + label + '</option>';\n            });\n\n            html += '</select>';\n\n            return html;\n        },\n\n        /**\n         * Input for submit form.\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\n         *\n         * @param {Object} config\n         * @private\n         */\n        _RenderFormInput: function (config) {\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\n                'name=\"super_attribute[' + config.id + ']\" ' +\n                'type=\"text\" ' +\n                'value=\"\" ' +\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\n                'data-validate=\"{required: true}\" ' +\n                'aria-required=\"true\" ' +\n                'aria-invalid=\"false\">';\n        },\n\n        /**\n         * Event listener\n         *\n         * @private\n         */\n        _EventListener: function () {\n            var $widget = this,\n                options = this.options.classes,\n                target;\n\n            $widget.element.on('click', '.' + options.optionClass, function () {\n                return $widget._OnClick($(this), $widget);\n            });\n\n            $widget.element.on('change', '.' + options.selectClass, function () {\n                return $widget._OnChange($(this), $widget);\n            });\n\n            $widget.element.on('click', '.' + options.moreButton, function (e) {\n                e.preventDefault();\n\n                return $widget._OnMoreClick($(this));\n            });\n\n            $widget.element.on('keydown', function (e) {\n                if (e.which === 13) {\n                    target = $(e.target);\n\n                    if (target.is('.' + options.optionClass)) {\n                        return $widget._OnClick(target, $widget);\n                    } else if (target.is('.' + options.selectClass)) {\n                        return $widget._OnChange(target, $widget);\n                    } else if (target.is('.' + options.moreButton)) {\n                        e.preventDefault();\n\n                        return $widget._OnMoreClick(target);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Load media gallery using ajax or json config.\n         *\n         * @private\n         */\n        _loadMedia: function () {\n            var $main = this.inProductList ?\n                    this.element.parents('.product-item-info') :\n                    this.element.parents('.column.main'),\n                images;\n\n            if (this.options.useAjax) {\n                this._debouncedLoadProductMedia();\n            }  else {\n                images = this.options.jsonConfig.images[this.getProduct()];\n\n                if (!images) {\n                    images = this.options.mediaGalleryInitial;\n                }\n                this.updateBaseImage(this._sortImages(images), $main, !this.inProductList);\n            }\n        },\n\n        /**\n         * Sorting images array\n         *\n         * @private\n         */\n        _sortImages: function (images) {\n            return _.sortBy(images, function (image) {\n                return parseInt(image.position, 10);\n            });\n        },\n\n        /**\n         * Event for swatch options\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnClick: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                $wrapper = $this.parents('.' + $widget.options.classes.attributeOptionsWrapper),\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\n                attributeId = $parent.data('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput),\n                checkAdditionalData = JSON.parse(this.options.jsonSwatchConfig[attributeId]['additional_data']),\n                $priceBox = $widget.element.parents($widget.options.selectorProduct)\n                    .find(this.options.selectorProductPrice);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.hasClass('disabled')) {\n                return;\n            }\n\n            if ($this.hasClass('selected')) {\n                $parent.removeAttr('data-option-selected').find('.selected').removeClass('selected');\n                $input.val('');\n                $label.text('');\n                $this.attr('aria-checked', false);\n            } else {\n                $parent.attr('data-option-selected', $this.data('option-id')).find('.selected').removeClass('selected');\n                $label.text($this.data('option-label'));\n                $input.val($this.data('option-id'));\n                $input.attr('data-attr-name', this._getAttributeCodeById(attributeId));\n                $this.addClass('selected');\n                $widget._toggleCheckedAttributes($this, $wrapper);\n            }\n\n            $widget._Rebuild();\n\n            if ($priceBox.is(':data(mage-priceBox)')) {\n                $widget._UpdatePrice();\n            }\n\n            $(document).trigger('updateMsrpPriceBlock',\n                [\n                    this._getSelectedOptionPriceIndex(),\n                    $widget.options.jsonConfig.optionPrices,\n                    $priceBox\n                ]);\n\n            if (parseInt(checkAdditionalData['update_product_preview_image'], 10) === 1) {\n                $widget._loadMedia();\n            }\n\n            $input.trigger('change');\n        },\n\n        /**\n         * Get selected option price index\n         *\n         * @return {String|undefined}\n         * @private\n         */\n        _getSelectedOptionPriceIndex: function () {\n            var allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\n\n            if (_.isEmpty(allowedProduct)) {\n                return undefined;\n            }\n\n            return allowedProduct;\n        },\n\n        /**\n         * Get human readable attribute code (eg. size, color) by it ID from configuration\n         *\n         * @param {Number} attributeId\n         * @returns {*}\n         * @private\n         */\n        _getAttributeCodeById: function (attributeId) {\n            var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n            return attribute ? attribute.code : attributeId;\n        },\n\n        /**\n         * Toggle accessibility attributes\n         *\n         * @param {Object} $this\n         * @param {Object} $wrapper\n         * @private\n         */\n        _toggleCheckedAttributes: function ($this, $wrapper) {\n            $wrapper.attr('aria-activedescendant', $this.attr('id'))\n                .find('.' + this.options.classes.optionClass).attr('aria-checked', false);\n            $this.attr('aria-checked', true);\n        },\n\n        /**\n         * Event for select\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnChange: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                attributeId = $parent.data('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.productForm.length > 0) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.val() > 0) {\n                $parent.attr('data-option-selected', $this.val());\n                $input.val($this.val());\n            } else {\n                $parent.removeAttr('data-option-selected');\n                $input.val('');\n            }\n\n            $widget._Rebuild();\n            $widget._UpdatePrice();\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for more switcher\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _OnMoreClick: function ($this) {\n            $this.nextAll().show();\n            $this.trigger('blur').remove();\n        },\n\n        /**\n         * Rewind options for controls\n         *\n         * @private\n         */\n        _Rewind: function (controls) {\n            controls.find('div[data-option-id], option[data-option-id]')\n                .removeClass('disabled')\n                .prop('disabled', false);\n            controls.find('div[data-option-empty], option[data-option-empty]')\n                .attr('disabled', true)\n                .addClass('disabled')\n                .attr('tabindex', '-1');\n            this.disableSwatchForOutOfStockProducts();\n        },\n\n        /**\n         * Rebuild container\n         *\n         * @private\n         */\n        _Rebuild: function () {\n            var $widget = this,\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[data-attribute-id]'),\n                selected = controls.filter('[data-option-selected]');\n\n            // Enable all options\n            $widget._Rewind(controls);\n\n            // done if nothing selected\n            if (selected.length <= 0) {\n                return;\n            }\n\n            // Disable not available options\n            controls.each(function () {\n                var $this = $(this),\n                    id = $this.data('attribute-id'),\n                    products = $widget._CalcProducts(id);\n\n                if (selected.length === 1 && selected.first().data('attribute-id') === id) {\n                    return;\n                }\n\n                $this.find('[data-option-id]').each(function () {\n                    var $element = $(this),\n                        option = $element.data('option-id');\n\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\n                        $element.hasClass('selected') ||\n                        $element.is(':selected')) {\n                        return;\n                    }\n\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\n                        $element.attr('disabled', true).addClass('disabled');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Get selected product list\n         *\n         * @returns {Array}\n         * @private\n         */\n        _CalcProducts: function ($skipAttributeId) {\n            var $widget = this,\n                selectedOptions = '.' + $widget.options.classes.attributeClass + '[data-option-selected]',\n                products = [];\n\n            // Generate intersection of products\n            $widget.element.find(selectedOptions).each(function () {\n                var id = $(this).data('attribute-id'),\n                    option = $(this).attr('data-option-selected');\n\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\n                    return;\n                }\n\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\n                    return;\n                }\n\n                if (products.length === 0) {\n                    products = $widget.optionsMap[id][option].products;\n                } else {\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\n                }\n            });\n\n            return products;\n        },\n\n        /**\n         * Update total price\n         *\n         * @private\n         */\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                result = $widget._getNewPrices(),\n                tierPriceHtml,\n                isShow;\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            isShow = typeof result != 'undefined' && result.oldPrice.amount !== result.finalPrice.amount;\n\n            $productPrice.find('span:first').toggleClass('special-price', isShow);\n\n            $product.find(this.options.slyOldPriceSelector)[isShow ? 'show' : 'hide']();\n\n            if (typeof result != 'undefined' && result.tierPrices && result.tierPrices.length) {\n                if (this.options.tierPriceTemplate) {\n                    tierPriceHtml = mageTemplate(\n                        this.options.tierPriceTemplate,\n                        {\n                            'tierPrices': result.tierPrices,\n                            '$t': $t,\n                            'currencyFormat': this.options.jsonConfig.currencyFormat,\n                            'priceUtils': priceUtils\n                        }\n                    );\n                    $(this.options.tierPriceBlockSelector).html(tierPriceHtml).show();\n                }\n            } else {\n                $(this.options.tierPriceBlockSelector).hide();\n            }\n\n            $product.find(this.options.normalPriceLabelSelector).hide();\n\n            _.each(this.element.find('.' + this.options.classes.attributeOptionsWrapper), function (attribute) {\n                if ($(attribute).find('.' + this.options.classes.optionClass + '.selected').length === 0) {\n                    if ($(attribute).find('.' + this.options.classes.selectClass).length > 0) {\n                        _.each($(attribute).find('.' + this.options.classes.selectClass), function (dropdown) {\n                            if ($(dropdown).val() === '0') {\n                                $product.find(this.options.normalPriceLabelSelector).show();\n                            }\n                        }.bind(this));\n                    } else {\n                        $product.find(this.options.normalPriceLabelSelector).show();\n                    }\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Get new prices for selected options\n         *\n         * @returns {*}\n         * @private\n         */\n        _getNewPrices: function () {\n            var $widget = this,\n                newPrices = $widget.options.jsonConfig.prices,\n                allowedProduct = this._getAllowedProductWithMinPrice(this._CalcProducts());\n\n            if (!_.isEmpty(allowedProduct)) {\n                newPrices = this.options.jsonConfig.optionPrices[allowedProduct];\n            }\n\n            return newPrices;\n        },\n\n        /**\n         * Get prices\n         *\n         * @param {Object} newPrices\n         * @param {Object} displayPrices\n         * @returns {*}\n         * @private\n         */\n        _getPrices: function (newPrices, displayPrices) {\n            var $widget = this;\n\n            if (_.isEmpty(newPrices)) {\n                newPrices = $widget._getNewPrices();\n            }\n            _.each(displayPrices, function (price, code) {\n\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Get product with minimum price from selected options.\n         *\n         * @param {Array} allowedProducts\n         * @returns {String}\n         * @private\n         */\n        _getAllowedProductWithMinPrice: function (allowedProducts) {\n            var optionPrices = this.options.jsonConfig.optionPrices,\n                product = {},\n                optionFinalPrice, optionMinPrice;\n\n            _.each(allowedProducts, function (allowedProduct) {\n                optionFinalPrice = parseFloat(optionPrices[allowedProduct].finalPrice.amount);\n\n                if (_.isEmpty(product) || optionFinalPrice < optionMinPrice) {\n                    optionMinPrice = optionFinalPrice;\n                    product = allowedProduct;\n                }\n            }, this);\n\n            return product;\n        },\n\n        /**\n         * Gets all product media and change current to the needed one\n         *\n         * @private\n         */\n        _LoadProductMedia: function () {\n            var $widget = this,\n                $this = $widget.element,\n                productData = this._determineProductData(),\n                mediaCallData,\n                mediaCacheKey,\n\n                /**\n                 * Processes product media data\n                 *\n                 * @param {Object} data\n                 * @returns void\n                 */\n                mediaSuccessCallback = function (data) {\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\n                        $widget.options.mediaCache[mediaCacheKey] = data;\n                    }\n                    $widget._ProductMediaCallback($this, data, productData.isInProductView);\n                    setTimeout(function () {\n                        $widget._DisableProductMediaLoader($this);\n                    }, 300);\n                };\n\n            if (!$widget.options.mediaCallback) {\n                return;\n            }\n\n            mediaCallData = {\n                'product_id': this.getProduct()\n            };\n\n            mediaCacheKey = JSON.stringify(mediaCallData);\n\n            if (mediaCacheKey in $widget.options.mediaCache) {\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\n            } else {\n                mediaCallData.isAjax = true;\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                $widget.xhr = $.ajax({\n                    url: $widget.options.mediaCallback,\n                    cache: true,\n                    type: 'GET',\n                    dataType: 'json',\n                    data: mediaCallData,\n                    success: mediaSuccessCallback\n                }).done(function () {\n                    $widget._XhrKiller();\n                });\n            }\n        },\n\n        /**\n         * Enable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _EnableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .addClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .addClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Disable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _DisableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .removeClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .removeClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Callback for product media\n         *\n         * @param {Object} $this\n         * @param {String} response\n         * @param {Boolean} isInProductView\n         * @private\n         */\n        _ProductMediaCallback: function ($this, response, isInProductView) {\n            var $main = isInProductView ? $this.parents('.column.main') : $this.parents('.product-item-info'),\n                $widget = this,\n                images = [],\n\n                /**\n                 * Check whether object supported or not\n                 *\n                 * @param {Object} e\n                 * @returns {*|Boolean}\n                 */\n                support = function (e) {\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\n                };\n\n            if (_.size($widget) < 1 || !support(response)) {\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isInProductView);\n\n                return;\n            }\n\n            images.push({\n                full: response.large,\n                img: response.medium,\n                thumb: response.small,\n                isMain: true\n            });\n\n            if (response.hasOwnProperty('gallery')) {\n                $.each(response.gallery, function () {\n                    if (!support(this) || response.large === this.large) {\n                        return;\n                    }\n                    images.push({\n                        full: this.large,\n                        img: this.medium,\n                        thumb: this.small\n                    });\n                });\n            }\n\n            this.updateBaseImage(images, $main, isInProductView);\n        },\n\n        /**\n         * Check if images to update are initial and set their type\n         * @param {Array} images\n         */\n        _setImageType: function (images) {\n\n            images.map(function (img) {\n                if (!img.type) {\n                    img.type = 'image';\n                }\n            });\n\n            return images;\n        },\n\n        /**\n         * Update [gallery-placeholder] or [product-image-photo]\n         * @param {Array} images\n         * @param {jQuery} context\n         * @param {Boolean} isInProductView\n         */\n        updateBaseImage: function (images, context, isInProductView) {\n            var justAnImage = images[0],\n                initialImages = this.options.mediaGalleryInitial,\n                imagesToUpdate,\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\n                isInitial;\n\n            if (isInProductView) {\n                if (_.isUndefined(gallery)) {\n                    context.find(this.options.mediaGallerySelector).on('gallery:loaded', function () {\n                        this.updateBaseImage(images, context, isInProductView);\n                    }.bind(this));\n\n                    return;\n                }\n\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\n                isInitial = _.isEqual(\n                    imagesToUpdate.map(({thumb, img, full, type, videoUrl}) => ({thumb, img, full, type, videoUrl})),\n                    initialImages.map(({thumb, img, full, type, videoUrl}) => ({thumb, img, full, type, videoUrl}))\n                );\n\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\n                }\n\n                imagesToUpdate = this._setImageIndex(imagesToUpdate);\n\n                gallery.updateData(imagesToUpdate);\n                this._addFotoramaVideoEvents(isInitial);\n            } else if (justAnImage && justAnImage.img) {\n                context.find('.product-image-photo').attr('src', justAnImage.img);\n            }\n        },\n\n        /**\n         * Add video events\n         *\n         * @param {Boolean} isInitial\n         * @private\n         */\n        _addFotoramaVideoEvents: function (isInitial) {\n            if (_.isUndefined($.mage.AddFotoramaVideoEvents)\n                || !$(this.options.mediaGallerySelector).AddFotoramaVideoEvents('instance')\n            ) {\n                $(this.options.mediaGallerySelector).on('addfotoramavideoeventscreate', function () {\n                    this._addFotoramaVideoEvents(isInitial);\n                }.bind(this));\n\n                return;\n            }\n\n            if (isInitial) {\n                $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n\n                return;\n            }\n\n            $(this.options.mediaGallerySelector).AddFotoramaVideoEvents({\n                selectedOption: this.getProduct(),\n                dataMergeStrategy: this.options.gallerySwitchStrategy\n            });\n        },\n\n        /**\n         * Set correct indexes for image set.\n         *\n         * @param {Array} images\n         * @private\n         */\n        _setImageIndex: function (images) {\n            var length = images.length,\n                i;\n\n            for (i = 0; length > i; i++) {\n                images[i].i = i + 1;\n            }\n\n            return images;\n        },\n\n        /**\n         * Kill doubled AJAX requests\n         *\n         * @private\n         */\n        _XhrKiller: function () {\n            var $widget = this;\n\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\n                $widget.xhr.abort();\n                $widget.xhr = null;\n            }\n        },\n\n        /**\n         * Emulate mouse click on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelected: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[data-attribute-code=\"' + attributeCode + '\"] [data-option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Emulate mouse click or selection change on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelectedByAttributeId: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeId, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[data-attribute-id=\"' + attributeId + '\"] [data-option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Get default options values settings with either URL query parameters\n         * @private\n         */\n        _getSelectedAttributes: function () {\n            var hashIndex = window.location.href.indexOf('#'),\n                selectedAttributes = {},\n                params;\n\n            if (hashIndex !== -1) {\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\n\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\n                    var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n                    return attribute ? attribute.code : attributeId;\n                }.bind(this)));\n            }\n\n            return selectedAttributes;\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with a gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        },\n\n        /**\n         * Sets mediaCache for cases when jsonConfig contains preSelectedGallery on layered navigation result pages\n         *\n         * @private\n         */\n        _setPreSelectedGallery: function () {\n            var mediaCallData;\n\n            if (this.options.jsonConfig.preSelectedGallery) {\n                mediaCallData = {\n                    'product_id': this.getProduct()\n                };\n\n                this.options.mediaCache[JSON.stringify(mediaCallData)] = this.options.jsonConfig.preSelectedGallery;\n            }\n        },\n\n        /**\n         * Callback for quantity change event.\n         */\n        _onQtyChanged: function () {\n            var $price = this.element.parents(this.options.selectorProduct)\n                .find(this.options.selectorProductPrice);\n\n            $price.trigger(\n                'updatePrice',\n                {\n                    'prices': this._getPrices(this._getNewPrices(), $price.priceBox('option').prices)\n                }\n            );\n        }\n    });\n\n    return $.mage.SwatchRenderer;\n});\n","Magento_Swatches/js/catalog-add-to-cart.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\nrequire([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * Add selected swatch attributes to redirect url\n     *\n     * @see Magento_Catalog/js/catalog-add-to-cart\n     */\n    $('body').on('catalogCategoryAddToCartRedirect', function (event, data) {\n        $(data.form).find('[name*=\"super\"]').each(function (index, item) {\n            var $item = $(item),\n                attr;\n\n            if ($item.attr('data-attr-name')) {\n                attr = $item.attr('data-attr-name');\n            } else {\n                attr = $item.parent().attr('attribute-code');\n            }\n            data.redirectParameters.push(attr + '=' + $item.val());\n\n        });\n    });\n});\n","Magecomp_Cookiecompliance/js/jquery.cookie.js":"/*!\r\n * jQuery Cookie Plugin v1.4.1\r\n * https://github.com/carhartl/jquery-cookie\r\n *\r\n * Copyright 2013 Klaus Hartl\r\n * Released under the MIT license\r\n */\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        // CommonJS\r\n        factory(require('jquery'));\r\n    } else {\r\n        // Browser globals\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n\r\n    var pluses = /\\+/g;\r\n\r\n    function encode(s) {\r\n        return config.raw ? s : encodeURIComponent(s);\r\n    }\r\n\r\n    function decode(s) {\r\n        return config.raw ? s : decodeURIComponent(s);\r\n    }\r\n\r\n    function stringifyCookieValue(value) {\r\n        return encode(config.json ? JSON.stringify(value) : String(value));\r\n    }\r\n\r\n    function parseCookieValue(s) {\r\n        if (s.indexOf('\"') === 0) {\r\n            // This is a quoted cookie as according to RFC2068, unescape...\r\n            s = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\r\n        }\r\n\r\n        try {\r\n            // Replace server-side written pluses with spaces.\r\n            // If we can't decode the cookie, ignore it, it's unusable.\r\n            // If we can't parse the cookie, ignore it, it's unusable.\r\n            s = decodeURIComponent(s.replace(pluses, ' '));\r\n            return config.json ? JSON.parse(s) : s;\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    function read(s, converter) {\r\n        var value = config.raw ? s : parseCookieValue(s);\r\n        return $.isFunction(converter) ? converter(value) : value;\r\n    }\r\n\r\n    var config = $.cookie = function (key, value, options) {\r\n\r\n        // Write\r\n\r\n        if (value !== undefined && !$.isFunction(value)) {\r\n            options = $.extend({}, config.defaults, options);\r\n\r\n            if (typeof options.expires === 'number') {\r\n                var days = options.expires,\r\n                    t = options.expires = new Date();\r\n                t.setTime(+t + days * 864e+5);\r\n            }\r\n\r\n            return (document.cookie = [\r\n                encode(key), '=', stringifyCookieValue(value),\r\n                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\r\n                options.path ? '; path=' + options.path : '',\r\n                options.domain ? '; domain=' + options.domain : '',\r\n                options.secure ? '; secure' : ''\r\n            ].join(''));\r\n        }\r\n\r\n        // Read\r\n\r\n        var result = key ? undefined : {};\r\n\r\n        // To prevent the for loop in the first place assign an empty array\r\n        // in case there are no cookies at all. Also prevents odd result when\r\n        // calling $.cookie().\r\n        var cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\r\n        for (var i = 0, l = cookies.length; i < l; i++) {\r\n            var parts = cookies[i].split('=');\r\n            var name = decode(parts.shift());\r\n            var cookie = parts.join('=');\r\n\r\n            if (key && key === name) {\r\n                // If second argument (value) is a function it's a converter...\r\n                result = read(cookie, value);\r\n                break;\r\n            }\r\n\r\n            // Prevent storing a cookie that we couldn't decode.\r\n            if (!key && (cookie = read(cookie)) !== undefined) {\r\n                result[name] = cookie;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    config.defaults = {};\r\n\r\n    $.removeCookie = function (key, options) {\r\n        if ($.cookie(key) === undefined) {\r\n            return false;\r\n        }\r\n\r\n        // Must not alter options, thus extending a fresh object...\r\n        $.cookie(key, '', $.extend({}, options, {\r\n            expires: -1\r\n        }));\r\n        return !$.cookie(key);\r\n    };\r\n\r\n}));\r\n","Magento_Payment/js/cc-type.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'jquery',\n    'jquery-ui-modules/widget'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.creditCardType', {\n        options: {\n            typeCodes: ['SS', 'SM', 'SO'] // Type codes for Switch/Maestro/Solo credit cards.\n        },\n\n        /**\n         * Bind change handler to select element and trigger the event to show/hide\n         * the Switch/Maestro or Solo credit card type container for those credit card types.\n         * @private\n         */\n        _create: function () {\n            this.element.on('change', $.proxy(this._toggleCardType, this)).trigger('change');\n        },\n\n        /**\n         * Toggle the Switch/Maestro and Solo credit card type container depending on which\n         * credit card type is selected.\n         * @private\n         */\n        _toggleCardType: function () {\n            $(this.options.creditCardTypeContainer)\n                .toggle($.inArray(this.element.val(), this.options.typeCodes) !== -1);\n        }\n    });\n\n    return $.mage.creditCardType;\n});\n","Magento_Payment/js/transparent.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'jquery-ui-modules/widget',\n    'Magento_Payment/js/model/credit-card-validation/validator',\n    'Magento_Checkout/js/model/full-screen-loader'\n], function ($, mageTemplate, alert, ui, validator, fullScreenLoader) {\n    'use strict';\n\n    $.widget('mage.transparent', {\n        options: {\n            context: null,\n            placeOrderSelector: '[data-role=\"review-save\"]',\n            paymentFormSelector: '#co-payment-form',\n            updateSelectorPrefix: '#checkout-',\n            updateSelectorSuffix: '-load',\n            hiddenFormTmpl:\n                '<form target=\"<%= data.target %>\" action=\"<%= data.action %>\" method=\"POST\" ' +\n                'hidden enctype=\"application/x-www-form-urlencoded\" class=\"no-display\">' +\n                    '<% _.each(data.inputs, function(val, key){ %>' +\n                    '<input value=\"<%= val %>\" name=\"<%= key %>\" type=\"hidden\">' +\n                    '<% }); %>' +\n                '</form>',\n            reviewAgreementForm: '#checkout-agreements',\n            cgiUrl: null,\n            orderSaveUrl: null,\n            controller: null,\n            gateway: null,\n            dateDelim: null,\n            cardFieldsMap: null,\n            expireYearLength: 2\n        },\n\n        /**\n         * {Function}\n         * @private\n         */\n        _create: function () {\n            this.hiddenFormTmpl = mageTemplate(this.options.hiddenFormTmpl);\n\n            if (this.options.context) {\n                this.options.context.setPlaceOrderHandler($.proxy(this._orderSave, this));\n                this.options.context.setValidateHandler($.proxy(this._validateHandler, this));\n            } else {\n                $(this.options.placeOrderSelector)\n                    .off('click')\n                    .on('click', $.proxy(this._placeOrderHandler, this));\n            }\n\n            this.element.validation();\n            $('[data-container=\"' + this.options.gateway + '-cc-number\"]').on('focusout', function () {\n                $(this).valid();\n            });\n        },\n\n        /**\n         * handler for credit card validation\n         * @return {Boolean}\n         * @private\n         */\n        _validateHandler: function () {\n            return this.element.validation && this.element.validation('isValid');\n        },\n\n        /**\n         * handler for Place Order button to call gateway for credit card validation\n         * @return {Boolean}\n         * @private\n         */\n        _placeOrderHandler: function () {\n            if (this._validateHandler()) {\n                this._orderSave();\n            }\n\n            return false;\n        },\n\n        /**\n         * Save order and generate post data for gateway call\n         * @private\n         */\n        _orderSave: function () {\n            var postData = $(this.options.paymentFormSelector).serialize();\n\n            if ($(this.options.reviewAgreementForm).length) {\n                postData += '&' + $(this.options.reviewAgreementForm).serialize();\n            }\n            postData += '&controller=' + this.options.controller;\n            postData += '&cc_type=' + this.element.find(\n                '[data-container=\"' + this.options.gateway + '-cc-type\"]'\n            ).val();\n\n            return $.ajax({\n                url: this.options.orderSaveUrl,\n                type: 'post',\n                context: this,\n                data: postData,\n                dataType: 'json',\n\n                /**\n                 * {Function}\n                 */\n                beforeSend: function () {\n                    fullScreenLoader.startLoader();\n                },\n\n                /**\n                 * {Function}\n                 */\n                success: function (response) {\n                    var preparedData,\n                        msg,\n\n                        /**\n                         * {Function}\n                         */\n                        alertActionHandler = function () {\n                            // default action\n                        };\n\n                    if (response.success && response[this.options.gateway]) {\n                        preparedData = this._preparePaymentData(\n                            response[this.options.gateway].fields,\n                            this.options.cardFieldsMap\n                        );\n                        this._postPaymentToGateway(preparedData);\n                    } else {\n                        fullScreenLoader.stopLoader(true);\n\n                        msg = response['error_messages'];\n\n                        if (this.options.context) {\n                            this.options.context.clearTimeout().fail();\n                            alertActionHandler = this.options.context.alertActionHandler;\n                        }\n\n                        if (typeof msg === 'object') {\n                            msg = msg.join('\\n');\n                        }\n\n                        if (msg) {\n                            alert(\n                                {\n                                    content: msg,\n                                    actions: {\n\n                                        /**\n                                         * {Function}\n                                         */\n                                        always: alertActionHandler\n                                    }\n                                }\n                            );\n                        }\n                    }\n                }.bind(this)\n            });\n        },\n\n        /**\n         * Post data to gateway for credit card validation\n         * @param {Object} data\n         * @private\n         */\n        _postPaymentToGateway: function (data) {\n            var tmpl,\n                iframeSelector = '[data-container=\"' + this.options.gateway + '-transparent-iframe\"]';\n\n            tmpl = this.hiddenFormTmpl({\n                data: {\n                    target: $(iframeSelector).attr('name'),\n                    action: this.options.cgiUrl,\n                    inputs: data\n                }\n            });\n            $(tmpl).appendTo($(iframeSelector)).trigger('submit');\n        },\n\n        /**\n         * Add credit card fields to post data for gateway\n         * @param {Object} data\n         * @param {Object} ccfields\n         * @private\n         */\n        _preparePaymentData: function (data, ccfields) {\n            var preparedata;\n\n            if (this.element.find('[data-container=\"' + this.options.gateway + '-cc-cvv\"]').length) {\n                data[ccfields.cccvv] = this.element.find(\n                    '[data-container=\"' + this.options.gateway + '-cc-cvv\"]'\n                ).val();\n            }\n            preparedata = this._prepareExpDate();\n            data[ccfields.ccexpdate] = preparedata.month + this.options.dateDelim + preparedata.year;\n            data[ccfields.ccnum] = this.element.find(\n                '[data-container=\"' + this.options.gateway + '-cc-number\"]'\n            ).val();\n\n            return data;\n        },\n\n        /**\n         * Grab Month and Year into one\n         * @returns {Object}\n         * @private\n         */\n        _prepareExpDate: function () {\n            var year = this.element.find('[data-container=\"' + this.options.gateway + '-cc-year\"]').val(),\n                month = parseInt(\n                    this.element.find('[data-container=\"' + this.options.gateway + '-cc-month\"]').val(),\n                    10\n                );\n\n            if (year.length > this.options.expireYearLength) {\n                year = year.substring(year.length - this.options.expireYearLength);\n            }\n\n            if (month < 10) {\n                month = '0' + month;\n            }\n\n            return {\n                month: month, year: year\n            };\n        }\n    });\n\n    return $.mage.transparent;\n});\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'mageUtils',\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/parse-date',\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator',\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator'\n], function (utils, parseDate, expirationMonth, expirationYear) {\n    'use strict';\n\n    /**\n     * @param {*} isValid\n     * @param {*} isPotentiallyValid\n     * @param {*} month\n     * @param {*} year\n     * @return {Object}\n     */\n    function resultWrapper(isValid, isPotentiallyValid, month, year) {\n        return {\n            isValid: isValid,\n            isPotentiallyValid: isPotentiallyValid,\n            month: month,\n            year: year\n        };\n    }\n\n    return function (value) {\n        var date,\n            monthValid,\n            yearValid;\n\n        if (utils.isEmpty(value)) {\n            return resultWrapper(false, false, null, null);\n        }\n\n        value = value.replace(/^(\\d\\d) (\\d\\d(\\d\\d)?)$/, '$1/$2');\n        date = parseDate(value);\n        monthValid = expirationMonth(date.month);\n        yearValid = expirationYear(date.year);\n\n        if (monthValid.isValid && yearValid.isValid) {\n            return resultWrapper(true, true, date.month, date.year);\n        }\n\n        if (monthValid.isPotentiallyValid && yearValid.isPotentiallyValid) {\n            return resultWrapper(false, true, null, null);\n        }\n\n        return resultWrapper(false, false, null, null);\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'jquery',\n    'Magento_Payment/js/model/credit-card-validation/cvv-validator',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator',\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator',\n    'Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-data',\n    'mage/translate'\n], function ($, cvvValidator, creditCardNumberValidator, yearValidator, monthValidator, creditCardData) {\n    'use strict';\n\n    $('.payment-method-content input[type=\"number\"]').on('keyup', function () {\n        if ($(this).val() < 0) {\n            $(this).val($(this).val().replace(/^-/, ''));\n        }\n    });\n\n    $.each({\n        'validate-card-type': [\n            function (number, item, allowedTypes) {\n                var cardInfo,\n                    i,\n                    l;\n\n                if (!creditCardNumberValidator(number).isValid) {\n                    return false;\n                }\n\n                cardInfo = creditCardNumberValidator(number).card;\n\n                for (i = 0, l = allowedTypes.length; i < l; i++) {\n                    if (cardInfo.title == allowedTypes[i].type) { //eslint-disable-line eqeqeq\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card type number.')\n        ],\n        'validate-card-number': [\n\n            /**\n             * Validate credit card number based on mod 10\n             *\n             * @param {*} number - credit card number\n             * @return {Boolean}\n             */\n            function (number) {\n                return creditCardNumberValidator(number).isValid;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n        'validate-card-date': [\n\n            /**\n             * Validate credit card expiration month\n             *\n             * @param {String} date - month\n             * @return {Boolean}\n             */\n            function (date) {\n                return monthValidator(date).isValid;\n            },\n            $.mage.__('Incorrect credit card expiration month.')\n        ],\n        'validate-card-cvv': [\n\n            /**\n             * Validate cvv\n             *\n             * @param {String} cvv - card verification value\n             * @return {Boolean}\n             */\n            function (cvv) {\n                var maxLength = creditCardData.creditCard ? creditCardData.creditCard.code.size : 3;\n\n                return cvvValidator(cvv, maxLength).isValid;\n            },\n            $.mage.__('Please enter a valid credit card verification number.')\n        ],\n        'validate-card-year': [\n\n            /**\n             * Validate credit card expiration year\n             *\n             * @param {String} date - year\n             * @return {Boolean}\n             */\n            function (date) {\n                return yearValidator(date).isValid;\n            },\n            $.mage.__('Incorrect credit card expiration year.')\n        ]\n\n    }, function (i, rule) {\n        rule.unshift(i);\n        $.validator.addMethod.apply($.validator, rule);\n    });\n});\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'mageUtils',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/luhn10-validator',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/credit-card-type'\n], function (utils, luhn10, creditCardTypes) {\n    'use strict';\n\n    /**\n     * @param {*} card\n     * @param {*} isPotentiallyValid\n     * @param {*} isValid\n     * @return {Object}\n     */\n    function resultWrapper(card, isPotentiallyValid, isValid) {\n        return {\n            card: card,\n            isValid: isValid,\n            isPotentiallyValid: isPotentiallyValid\n        };\n    }\n\n    return function (value) {\n        var potentialTypes,\n            cardType,\n            valid,\n            i,\n            maxLength;\n\n        if (utils.isEmpty(value)) {\n            return resultWrapper(null, false, false);\n        }\n\n        value = value.replace(/\\s+/g, '');\n\n        if (!/^\\d*$/.test(value)) {\n            return resultWrapper(null, false, false);\n        }\n\n        potentialTypes = creditCardTypes.getCardTypes(value);\n\n        if (potentialTypes.length === 0) {\n            return resultWrapper(null, false, false);\n        } else if (potentialTypes.length !== 1) {\n            return resultWrapper(null, true, false);\n        }\n\n        cardType = potentialTypes[0];\n\n        if (cardType.type === 'unionpay') {  // UnionPay is not Luhn 10 compliant\n            valid = true;\n        } else {\n            valid = luhn10(value);\n        }\n\n        for (i = 0; i < cardType.lengths.length; i++) {\n            if (cardType.lengths[i] === value.length) {\n                return resultWrapper(cardType, valid, valid);\n            }\n        }\n\n        maxLength = Math.max.apply(null, cardType.lengths);\n\n        if (value.length < maxLength) {\n            return resultWrapper(cardType, true, false);\n        }\n\n        return resultWrapper(cardType, false, false);\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/credit-card-data.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([], function () {\n    'use strict';\n\n    return {\n        creditCard: null,\n        creditCardNumber: null,\n        expirationMonth: null,\n        expirationYear: null,\n        cvvCode: null\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/cvv-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([], function () {\n    'use strict';\n\n    /**\n     * @param {*} isValid\n     * @param {*} isPotentiallyValid\n     * @return {Object}\n     */\n    function resultWrapper(isValid, isPotentiallyValid) {\n        return {\n            isValid: isValid,\n            isPotentiallyValid: isPotentiallyValid\n        };\n    }\n\n    /**\n     * CVV number validation.\n     * Validate digit count for CVV code.\n     *\n     * @param {*} value\n     * @param {Number} maxLength\n     * @return {Object}\n     */\n    return function (value, maxLength) {\n        var DEFAULT_LENGTH = 3;\n\n        maxLength = maxLength || DEFAULT_LENGTH;\n\n        if (!/^\\d*$/.test(value)) {\n            return resultWrapper(false, false);\n        }\n\n        if (value.length === maxLength) {\n            return resultWrapper(true, true);\n        }\n\n        if (value.length < maxLength) {\n            return resultWrapper(false, true);\n        }\n\n        if (value.length > maxLength) {\n            return resultWrapper(false, false);\n        }\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/luhn10-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    /**\n     * Luhn algorithm verification\n     */\n    return function (a, b, c, d, e) {\n        for (d = +a[b = a.length - 1], e = 0; b--;) {\n            c = +a[b];\n            d += ++e % 2 ? 2 * c % 10 + (c > 4) : c;\n        }\n\n        return !(d % 10);\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/credit-card-number-validator/credit-card-type.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'jquery',\n    'mageUtils'\n], function ($, utils) {\n    'use strict';\n\n    var types = [\n        {\n            title: 'Visa',\n            type: 'VI',\n            pattern: '^4\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [16],\n            code: {\n                name: 'CVV',\n                size: 3\n            }\n        },\n        {\n            title: 'MasterCard',\n            type: 'MC',\n            pattern: '^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$',\n            gaps: [4, 8, 12],\n            lengths: [16],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        },\n        {\n            title: 'American Express',\n            type: 'AE',\n            pattern: '^3([47]\\\\d*)?$',\n            isAmex: true,\n            gaps: [4, 10],\n            lengths: [15],\n            code: {\n                name: 'CID',\n                size: 4\n            }\n        },\n        {\n            title: 'Diners',\n            type: 'DN',\n            pattern: '^(3(0[0-5]|095|6|[8-9]))\\\\d*$',\n            gaps: [4, 10],\n            lengths: [14, 16, 17, 18, 19],\n            code: {\n                name: 'CVV',\n                size: 3\n            }\n        },\n        {\n            title: 'Discover',\n            type: 'DI',\n            pattern: '^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [16, 17, 18, 19],\n            code: {\n                name: 'CID',\n                size: 3\n            }\n        },\n        {\n            title: 'JCB',\n            type: 'JCB',\n            pattern: '^35(2[8-9]|[3-8])\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [16, 17, 18, 19],\n            code: {\n                name: 'CVV',\n                size: 3\n            }\n        },\n        {\n            title: 'UnionPay',\n            type: 'UN',\n            pattern: '^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$',\n            gaps: [4, 8, 12],\n            lengths: [16, 17, 18, 19],\n            code: {\n                name: 'CVN',\n                size: 3\n            }\n        },\n        {\n            title: 'Maestro International',\n            type: 'MI',\n            pattern: '^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [12, 13, 14, 15, 16, 17, 18, 19],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        },\n        {\n            title: 'Maestro Domestic',\n            type: 'MD',\n            pattern: '^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [12, 13, 14, 15, 16, 17, 18, 19],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        },\n        {\n            title: 'Hipercard',\n            type: 'HC',\n            pattern: '^((606282)|(637095)|(637568)|(637599)|(637609)|(637612))\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [13, 16],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        },\n        {\n            title: 'Elo',\n            type: 'ELO',\n            pattern: '^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|' +\n                '(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|' +\n                '(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|' +\n                '(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|' +\n                '(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|' +\n                '(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|' +\n                '(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|' +\n                '(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|' +\n                '(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|' +\n                '(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [16],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        },\n        {\n            title: 'Aura',\n            type: 'AU',\n            pattern: '^5078\\\\d*$',\n            gaps: [4, 8, 12],\n            lengths: [19],\n            code: {\n                name: 'CVC',\n                size: 3\n            }\n        }\n    ];\n\n    return {\n        /**\n         * @param {*} cardNumber\n         * @return {Array}\n         */\n        getCardTypes: function (cardNumber) {\n            var i, value,\n                result = [];\n\n            if (utils.isEmpty(cardNumber)) {\n                return result;\n            }\n\n            if (cardNumber === '') {\n                return $.extend(true, {}, types);\n            }\n\n            for (i = 0; i < types.length; i++) {\n                value = types[i];\n\n                if (new RegExp(value.pattern).test(cardNumber)) {\n                    result.push($.extend(true, {}, value));\n                }\n            }\n\n            return result;\n        }\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-month-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    /**\n     * @param {*} isValid\n     * @param {*} isPotentiallyValid\n     * @return {Object}\n     */\n    function resultWrapper(isValid, isPotentiallyValid) {\n        return {\n            isValid: isValid,\n            isPotentiallyValid: isPotentiallyValid\n        };\n    }\n\n    return function (value) {\n        var month,\n            monthValid;\n\n        if (value.replace(/\\s/g, '') === '' || value === '0') {\n            return resultWrapper(false, true);\n        }\n\n        if (!/^\\d*$/.test(value)) {\n            return resultWrapper(false, false);\n        }\n\n        if (isNaN(value)) {\n            return resultWrapper(false, false);\n        }\n\n        month = parseInt(value, 10);\n        monthValid = month > 0 && month < 13;\n\n        return resultWrapper(monthValid, monthValid);\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/expiration-year-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    /**\n     * @param {*} isValid\n     * @param {*} isPotentiallyValid\n     * @return {Object}\n     */\n    function resultWrapper(isValid, isPotentiallyValid) {\n        return {\n            isValid: isValid,\n            isPotentiallyValid: isPotentiallyValid\n        };\n    }\n\n    return function (value) {\n        var currentYear = new Date().getFullYear(),\n            len = value.length,\n            valid,\n            expMaxLifetime = 19;\n\n        if (value.replace(/\\s/g, '') === '') {\n            return resultWrapper(false, true);\n        }\n\n        if (!/^\\d*$/.test(value)) {\n            return resultWrapper(false, false);\n        }\n\n        if (len !== 4) {\n            return resultWrapper(false, true);\n        }\n\n        value = parseInt(value, 10);\n        valid = value >= currentYear && value <= currentYear + expMaxLifetime;\n\n        return resultWrapper(valid, valid);\n    };\n});\n","Magento_Payment/js/model/credit-card-validation/expiration-date-validator/parse-date.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return function (value) {\n        var month, len;\n\n        if (value.match('/')) {\n            value = value.split(/\\s*\\/\\s*/g);\n\n            return {\n                month: value[0],\n                year: value.slice(1).join()\n            };\n        }\n\n        len = value[0] === '0' || value.length > 5 || value.length === 4 || value.length === 3 ? 2 : 1;\n        month = value.substr(0, len);\n\n        return {\n            month: month,\n            year: value.substr(month.length, 4)\n        };\n    };\n});\n","Magento_Payment/js/view/payment/payments.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/payment/renderer-list'\n], function (Component, rendererList) {\n    'use strict';\n\n    rendererList.push(\n        {\n            type: 'free',\n            component: 'Magento_Payment/js/view/payment/method-renderer/free-method'\n        }\n    );\n\n    /** Add view logic here if needed */\n    return Component.extend({});\n});\n","Magento_Payment/js/view/payment/cc-form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'underscore',\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-data',\n    'Magento_Payment/js/model/credit-card-validation/credit-card-number-validator',\n    'mage/translate'\n], function (_, Component, creditCardData, cardNumberValidator, $t) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            creditCardType: '',\n            creditCardExpYear: '',\n            creditCardExpMonth: '',\n            creditCardNumber: '',\n            creditCardSsStartMonth: '',\n            creditCardSsStartYear: '',\n            creditCardSsIssue: '',\n            creditCardVerificationNumber: '',\n            selectedCardType: null\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            this._super()\n                .observe([\n                    'creditCardType',\n                    'creditCardExpYear',\n                    'creditCardExpMonth',\n                    'creditCardNumber',\n                    'creditCardVerificationNumber',\n                    'creditCardSsStartMonth',\n                    'creditCardSsStartYear',\n                    'creditCardSsIssue',\n                    'selectedCardType'\n                ]);\n\n            return this;\n        },\n\n        /**\n         * Init component\n         */\n        initialize: function () {\n            var self = this;\n\n            this._super();\n\n            //Set credit card number to credit card data object\n            this.creditCardNumber.subscribe(function (value) {\n                var result;\n\n                self.selectedCardType(null);\n\n                if (value === '' || value === null) {\n                    return false;\n                }\n                result = cardNumberValidator(value);\n\n                if (!result.isPotentiallyValid && !result.isValid) {\n                    return false;\n                }\n\n                if (result.card !== null) {\n                    self.selectedCardType(result.card.type);\n                    creditCardData.creditCard = result.card;\n                }\n\n                if (result.isValid) {\n                    creditCardData.creditCardNumber = value;\n                    self.creditCardType(result.card.type);\n                }\n            });\n\n            //Set expiration year to credit card data object\n            this.creditCardExpYear.subscribe(function (value) {\n                creditCardData.expirationYear = value;\n            });\n\n            //Set expiration month to credit card data object\n            this.creditCardExpMonth.subscribe(function (value) {\n                creditCardData.expirationMonth = value;\n            });\n\n            //Set cvv code to credit card data object\n            this.creditCardVerificationNumber.subscribe(function (value) {\n                creditCardData.cvvCode = value;\n            });\n        },\n\n        /**\n         * Get code\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'cc';\n        },\n\n        /**\n         * Get data\n         * @returns {Object}\n         */\n        getData: function () {\n            return {\n                'method': this.item.method,\n                'additional_data': {\n                    'cc_cid': this.creditCardVerificationNumber(),\n                    'cc_ss_start_month': this.creditCardSsStartMonth(),\n                    'cc_ss_start_year': this.creditCardSsStartYear(),\n                    'cc_ss_issue': this.creditCardSsIssue(),\n                    'cc_type': this.creditCardType(),\n                    'cc_exp_year': this.creditCardExpYear(),\n                    'cc_exp_month': this.creditCardExpMonth(),\n                    'cc_number': this.creditCardNumber()\n                }\n            };\n        },\n\n        /**\n         * Get list of available credit card types\n         * @returns {Object}\n         */\n        getCcAvailableTypes: function () {\n            return window.checkoutConfig.payment.ccform.availableTypes[this.getCode()];\n        },\n\n        /**\n         * Get payment icons\n         * @param {String} type\n         * @returns {Boolean}\n         */\n        getIcons: function (type) {\n            return window.checkoutConfig.payment.ccform.icons.hasOwnProperty(type) ?\n                window.checkoutConfig.payment.ccform.icons[type]\n                : false;\n        },\n\n        /**\n         * Get list of months\n         * @returns {Object}\n         */\n        getCcMonths: function () {\n            return window.checkoutConfig.payment.ccform.months[this.getCode()];\n        },\n\n        /**\n         * Get list of years\n         * @returns {Object}\n         */\n        getCcYears: function () {\n            return window.checkoutConfig.payment.ccform.years[this.getCode()];\n        },\n\n        /**\n         * Check if current payment has verification\n         * @returns {Boolean}\n         */\n        hasVerification: function () {\n            return window.checkoutConfig.payment.ccform.hasVerification[this.getCode()];\n        },\n\n        /**\n         * @deprecated\n         * @returns {Boolean}\n         */\n        hasSsCardType: function () {\n            return window.checkoutConfig.payment.ccform.hasSsCardType[this.getCode()];\n        },\n\n        /**\n         * Get image url for CVV\n         * @returns {String}\n         */\n        getCvvImageUrl: function () {\n            return window.checkoutConfig.payment.ccform.cvvImageUrl[this.getCode()];\n        },\n\n        /**\n         * Get image for CVV\n         * @returns {String}\n         */\n        getCvvImageHtml: function () {\n            return '<img src=\"' + this.getCvvImageUrl() +\n                '\" alt=\"' + $t('Card Verification Number Visual Reference') +\n                '\" title=\"' + $t('Card Verification Number Visual Reference') +\n                '\" />';\n        },\n\n        /**\n         * Get unsanitized html for image for CVV\n         * @returns {String}\n         */\n        getCvvImageUnsanitizedHtml: function () {\n            return this.getCvvImageHtml();\n        },\n\n        /**\n         * @deprecated\n         * @returns {Object}\n         */\n        getSsStartYears: function () {\n            return window.checkoutConfig.payment.ccform.ssStartYears[this.getCode()];\n        },\n\n        /**\n         * Get list of available credit card types values\n         * @returns {Object}\n         */\n        getCcAvailableTypesValues: function () {\n            return _.map(this.getCcAvailableTypes(), function (value, key) {\n                return {\n                    'value': key,\n                    'type': value\n                };\n            });\n        },\n\n        /**\n         * Get list of available month values\n         * @returns {Object}\n         */\n        getCcMonthsValues: function () {\n            return _.map(this.getCcMonths(), function (value, key) {\n                return {\n                    'value': key,\n                    'month': value\n                };\n            });\n        },\n\n        /**\n         * Get list of available year values\n         * @returns {Object}\n         */\n        getCcYearsValues: function () {\n            return _.map(this.getCcYears(), function (value, key) {\n                return {\n                    'value': key,\n                    'year': value\n                };\n            });\n        },\n\n        /**\n         * @deprecated\n         * @returns {Object}\n         */\n        getSsStartYearsValues: function () {\n            return _.map(this.getSsStartYears(), function (value, key) {\n                return {\n                    'value': key,\n                    'year': value\n                };\n            });\n        },\n\n        /**\n         * Is legend available to display\n         * @returns {Boolean}\n         */\n        isShowLegend: function () {\n            return false;\n        },\n\n        /**\n         * Get available credit card type by code\n         * @param {String} code\n         * @returns {String}\n         */\n        getCcTypeTitleByCode: function (code) {\n            var title = '',\n                keyValue = 'value',\n                keyType = 'type';\n\n            _.each(this.getCcAvailableTypesValues(), function (value) {\n                if (value[keyValue] === code) {\n                    title = value[keyType];\n                }\n            });\n\n            return title;\n        },\n\n        /**\n         * Prepare credit card number to output\n         * @param {String} number\n         * @returns {String}\n         */\n        formatDisplayCcNumber: function (number) {\n            return 'xxxx-' + number.substr(-4);\n        },\n\n        /**\n         * Get credit card details\n         * @returns {Array}\n         */\n        getInfo: function () {\n            return [\n                {\n                    'name': 'Credit Card Type', value: this.getCcTypeTitleByCode(this.creditCardType())\n                },\n                {\n                    'name': 'Credit Card Number', value: this.formatDisplayCcNumber(this.creditCardNumber())\n                }\n            ];\n        }\n    });\n});\n","Magento_Payment/js/view/payment/iframe.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'jquery',\n    'Magento_Payment/js/view/payment/cc-form',\n    'Magento_Ui/js/model/messageList',\n    'mage/translate',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Checkout/js/action/set-payment-information',\n    'Magento_Checkout/js/model/payment/additional-validators',\n    'Magento_Ui/js/modal/alert'\n], function (\n    $,\n    Component,\n    messageList,\n    $t,\n    fullScreenLoader,\n    setPaymentInformationAction,\n    additionalValidators,\n    alert\n) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Payment/payment/iframe',\n            timeoutId: null,\n            timeoutMessage: 'Sorry, but something went wrong.'\n        },\n\n        /**\n         * @returns {String}\n         */\n        getSource: function () {\n            return window.checkoutConfig.payment.iframe.source[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getControllerName: function () {\n            return window.checkoutConfig.payment.iframe.controllerName[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getPlaceOrderUrl: function () {\n            return window.checkoutConfig.payment.iframe.placeOrderUrl[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getCgiUrl: function () {\n            return window.checkoutConfig.payment.iframe.cgiUrl[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getSaveOrderUrl: function () {\n            return window.checkoutConfig.payment.iframe.saveOrderUrl[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getDateDelim: function () {\n            return window.checkoutConfig.payment.iframe.dateDelim[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getCardFieldsMap: function () {\n            return window.checkoutConfig.payment.iframe.cardFieldsMap[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getExpireYearLength: function () {\n            return window.checkoutConfig.payment.iframe.expireYearLength[this.getCode()];\n        },\n\n        /**\n         * @param {Object} parent\n         * @returns {Function}\n         */\n        originalPlaceOrder: function (parent) {\n            return parent.placeOrder.bind(parent);\n        },\n\n        /**\n         * @returns {Number}\n         */\n        getTimeoutTime: function () {\n            return window.checkoutConfig.payment.iframe.timeoutTime[this.getCode()];\n        },\n\n        /**\n         * @returns {String}\n         */\n        getTimeoutMessage: function () {\n            return $t(this.timeoutMessage);\n        },\n\n        /**\n         * @override\n         */\n        placeOrder: function () {\n            var self = this;\n\n            if (this.validateHandler() &&\n                additionalValidators.validate() &&\n                this.isPlaceOrderActionAllowed() === true\n            ) {\n                fullScreenLoader.startLoader();\n\n                this.isPlaceOrderActionAllowed(false);\n\n                $.when(\n                    this.setPaymentInformation()\n                ).done(\n                    this.done.bind(this)\n                ).fail(\n                    this.fail.bind(this)\n                ).always(\n                    function () {\n                        self.isPlaceOrderActionAllowed(true);\n                    }\n                );\n\n                this.initTimeoutHandler();\n            }\n        },\n\n        /**\n         * {Function}\n         */\n        setPaymentInformation: function () {\n            return setPaymentInformationAction(\n                this.messageContainer,\n                {\n                    method: this.getCode()\n                }\n            );\n        },\n\n        /**\n         * {Function}\n         */\n        initTimeoutHandler: function () {\n            this.timeoutId = setTimeout(\n                this.timeoutHandler.bind(this),\n                this.getTimeoutTime()\n            );\n\n            $(window).off('clearTimeout')\n                .on('clearTimeout', this.clearTimeout.bind(this));\n        },\n\n        /**\n         * {Function}\n         */\n        clearTimeout: function () {\n            clearTimeout(this.timeoutId);\n            this.fail();\n\n            return this;\n        },\n\n        /**\n         * {Function}\n         */\n        timeoutHandler: function () {\n            this.clearTimeout();\n\n            alert(\n                {\n                    content: this.getTimeoutMessage(),\n                    actions: {\n\n                        /**\n                         * {Function}\n                         */\n                        always: this.alertActionHandler.bind(this)\n                    }\n                }\n            );\n\n            this.fail();\n        },\n\n        /**\n         * {Function}\n         */\n        alertActionHandler: function () {\n            fullScreenLoader.startLoader();\n            window.location.reload();\n        },\n\n        /**\n         * {Function}\n         */\n        fail: function () {\n            fullScreenLoader.stopLoader();\n\n            return this;\n        },\n\n        /**\n         * {Function}\n         */\n        done: function () {\n            this.placeOrderHandler().fail(function () {\n                fullScreenLoader.stopLoader();\n            });\n\n            return this;\n        }\n    });\n});\n","Magento_Payment/js/view/payment/method-renderer/free-method.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* @api */\ndefine([\n    'Magento_Checkout/js/view/payment/default',\n    'Magento_Checkout/js/model/quote'\n], function (Component, quote) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Payment/payment/free'\n        },\n\n        /** Returns is method available */\n        isAvailable: function () {\n            return quote.totals()['grand_total'] <= 0;\n        }\n    });\n});\n","jquery/jquery.metadata.js":"/*\n * Metadata - jQuery plugin for parsing metadata from elements\n *\n * Copyright (c) 2006 John Resig, Yehuda Katz, J\u00ef\u00bf\u00bd\u00c3\u00b6rn Zaefferer, Paul McLanahan\n *\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * Revision: $Id: jquery.metadata.js 3640 2007-10-11 18:34:38Z pmclanahan $\n *\n */\n\n/**\n * Sets the type of metadata to use. Metadata is encoded in JSON, and each property\n * in the JSON will become a property of the element itself.\n *\n * There are four supported types of metadata storage:\n *\n *   attr:  Inside an attribute. The name parameter indicates *which* attribute.\n *\n *   class: Inside the class attribute, wrapped in curly braces: { }\n *\n *   elem:  Inside a child element (e.g. a script tag). The\n *          name parameter indicates *which* element.\n *   html5: Values are stored in data-* attributes.\n *\n * The metadata for an element is loaded the first time the element is accessed via jQuery.\n *\n * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements\n * matched by expr, then redefine the metadata type and run another $(expr) for other elements.\n *\n * @name $.metadata.setType\n *\n * @example <p id=\"one\" class=\"some_class {item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"class\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from the class attribute\n *\n * @example <p id=\"one\" class=\"some_class\" data=\"{item_id: 1, item_label: 'Label'}\">This is a p</p>\n * @before $.metadata.setType(\"attr\", \"data\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a \"data\" attribute\n *\n * @example <p id=\"one\" class=\"some_class\"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>\n * @before $.metadata.setType(\"elem\", \"script\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a nested script element\n *\n * @example <p id=\"one\" class=\"some_class\" data-item_id=\"1\" data-item_label=\"Label\">This is a p</p>\n * @before $.metadata.setType(\"html5\")\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\n * @desc Reads metadata from a series of data-* attributes\n *\n * @param String type The encoding type\n * @param String name The name of the attribute to be used to get metadata (optional)\n * @cat Plugins/Metadata\n * @descr Sets the type of encoding to be used when loading metadata for the first time\n * @type undefined\n * @see metadata()\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([\"jquery\"], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n\n\n    $.extend({\n        metadata : {\n            defaults : {\n                type: 'class',\n                name: 'metadata',\n                cre: /({.*})/,\n                single: 'metadata',\n                meta:'validate'\n            },\n            setType: function( type, name ){\n                this.defaults.type = type;\n                this.defaults.name = name;\n            },\n            get: function( elem, opts ){\n                var settings = $.extend({},this.defaults,opts);\n                // check for empty string in single property\n                if (!settings.single.length) {\n                    settings.single = 'metadata';\n                }\n                if (!settings.meta.length) {\n                    settings.meta = 'validate';\n                }\n\n                var data = $.data(elem, settings.single);\n                // returned cached data if it already exists\n                if ( data ) return data;\n\n                data = \"{}\";\n\n                var getData = function(data) {\n                    if(typeof data != \"string\") return data;\n\n                    if( data.indexOf('{') < 0 ) {\n                        data = eval(\"(\" + data + \")\");\n                    }\n                }\n\n                var getObject = function(data) {\n                    if(typeof data != \"string\") return data;\n\n                    data = eval(\"(\" + data + \")\");\n                    return data;\n                }\n\n                if ( settings.type == \"html5\" ) {\n                    var object = {};\n                    $( elem.attributes ).each(function() {\n                        var name = this.nodeName;\n                        if (name.indexOf('data-' + settings.meta) === 0) {\n                            name = name.replace(/^data-/, '');\n                        }\n                        else {\n                            return true;\n                        }\n                        object[name] = getObject(this.value);\n                    });\n                } else {\n                    if ( settings.type == \"class\" ) {\n                        var m = settings.cre.exec( elem.className );\n                        if ( m )\n                            data = m[1];\n                    } else if ( settings.type == \"elem\" ) {\n                        if( !elem.getElementsByTagName ) return;\n                        var e = elem.getElementsByTagName(settings.name);\n                        if ( e.length )\n                            data = $.trim(e[0].innerHTML);\n                    } else if ( elem.getAttribute != undefined ) {\n                        var attr = elem.getAttribute( settings.name );\n                        if ( attr )\n                            data = attr;\n                    }\n                    object = getObject(data.indexOf(\"{\") < 0 ? \"{\" + data + \"}\" : data);\n                }\n\n                $.data( elem, settings.single, object );\n                return object;\n            }\n        }\n    });\n\n    /**\n     * Returns the metadata object for the first member of the jQuery object.\n     *\n     * @name metadata\n     * @descr Returns element's metadata object\n     * @param Object opts An object contianing settings to override the defaults\n     * @type jQuery\n     * @cat Plugins/Metadata\n     */\n    $.fn.metadata = function( opts ){\n        return $.metadata.get( this[0], opts );\n    };\n\n}));","jquery/jquery-ui-timepicker-addon.js":"/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20\n* http://trentrichardson.com/examples/timepicker\n* Copyright (c) 2016 Trent Richardson; Licensed MIT */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery', 'jquery/ui'], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n\n    /*\n    * Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\n    */\n    $.ui.timepicker = $.ui.timepicker || {};\n    if ($.ui.timepicker.version) {\n        return;\n    }\n\n    /*\n    * Extend jQueryUI, get it started with our version number\n    */\n    $.extend($.ui, {\n        timepicker: {\n            version: \"1.6.3\"\n        }\n    });\n\n    /*\n    * Timepicker manager.\n    * Use the singleton instance of this class, $.timepicker, to interact with the time picker.\n    * Settings for (groups of) time pickers are maintained in an instance object,\n    * allowing multiple different settings on the same page.\n    */\n    var Timepicker = function () {\n        this.regional = []; // Available regional settings, indexed by language code\n        this.regional[''] = { // Default regional settings\n            currentText: 'Now',\n            closeText: 'Done',\n            amNames: ['AM', 'A'],\n            pmNames: ['PM', 'P'],\n            timeFormat: 'HH:mm',\n            timeSuffix: '',\n            timeOnlyTitle: 'Choose Time',\n            timeText: 'Time',\n            hourText: 'Hour',\n            minuteText: 'Minute',\n            secondText: 'Second',\n            millisecText: 'Millisecond',\n            microsecText: 'Microsecond',\n            timezoneText: 'Time Zone',\n            isRTL: false\n        };\n        this._defaults = { // Global defaults for all the datetime picker instances\n            showButtonPanel: true,\n            timeOnly: false,\n            timeOnlyShowDate: false,\n            showHour: null,\n            showMinute: null,\n            showSecond: null,\n            showMillisec: null,\n            showMicrosec: null,\n            showTimezone: null,\n            showTime: true,\n            stepHour: 1,\n            stepMinute: 1,\n            stepSecond: 1,\n            stepMillisec: 1,\n            stepMicrosec: 1,\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisec: 0,\n            microsec: 0,\n            timezone: null,\n            hourMin: 0,\n            minuteMin: 0,\n            secondMin: 0,\n            millisecMin: 0,\n            microsecMin: 0,\n            hourMax: 23,\n            minuteMax: 59,\n            secondMax: 59,\n            millisecMax: 999,\n            microsecMax: 999,\n            minDateTime: null,\n            maxDateTime: null,\n            maxTime: null,\n            minTime: null,\n            onSelect: null,\n            hourGrid: 0,\n            minuteGrid: 0,\n            secondGrid: 0,\n            millisecGrid: 0,\n            microsecGrid: 0,\n            alwaysSetTime: true,\n            separator: ' ',\n            altFieldTimeOnly: true,\n            altTimeFormat: null,\n            altSeparator: null,\n            altTimeSuffix: null,\n            altRedirectFocus: true,\n            pickerTimeFormat: null,\n            pickerTimeSuffix: null,\n            showTimepicker: true,\n            timezoneList: null,\n            addSliderAccess: false,\n            sliderAccessArgs: null,\n            controlType: 'slider',\n            oneLine: false,\n            defaultValue: null,\n            parse: 'strict',\n            afterInject: null\n        };\n        $.extend(this._defaults, this.regional['']);\n    };\n\n    $.extend(Timepicker.prototype, {\n        $input: null,\n        $altInput: null,\n        $timeObj: null,\n        inst: null,\n        hour_slider: null,\n        minute_slider: null,\n        second_slider: null,\n        millisec_slider: null,\n        microsec_slider: null,\n        timezone_select: null,\n        maxTime: null,\n        minTime: null,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisec: 0,\n        microsec: 0,\n        timezone: null,\n        hourMinOriginal: null,\n        minuteMinOriginal: null,\n        secondMinOriginal: null,\n        millisecMinOriginal: null,\n        microsecMinOriginal: null,\n        hourMaxOriginal: null,\n        minuteMaxOriginal: null,\n        secondMaxOriginal: null,\n        millisecMaxOriginal: null,\n        microsecMaxOriginal: null,\n        ampm: '',\n        formattedDate: '',\n        formattedTime: '',\n        formattedDateTime: '',\n        timezoneList: null,\n        units: ['hour', 'minute', 'second', 'millisec', 'microsec'],\n        support: {},\n        control: null,\n\n        /*\n        * Override the default settings for all instances of the time picker.\n        * @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\n        * @return {Object} the manager object\n        */\n        setDefaults: function (settings) {\n            extendRemove(this._defaults, settings || {});\n            return this;\n        },\n\n        /*\n        * Create a new Timepicker instance\n        */\n        _newInst: function ($input, opts) {\n            var tp_inst = new Timepicker(),\n                inlineSettings = {},\n                fns = {},\n                overrides, i;\n\n            for (var attrName in this._defaults) {\n                if (this._defaults.hasOwnProperty(attrName)) {\n                    var attrValue = $input.attr('time:' + attrName);\n                    if (attrValue) {\n                        try {\n                            inlineSettings[attrName] = eval(attrValue);\n                        } catch (err) {\n                            inlineSettings[attrName] = attrValue;\n                        }\n                    }\n                }\n            }\n\n            overrides = {\n                beforeShow: function (input, dp_inst) {\n                    if ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\n                        return tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\n                    }\n                },\n                onChangeMonthYear: function (year, month, dp_inst) {\n                    // Update the time as well : this prevents the time from disappearing from the $input field.\n                    // tp_inst._updateDateTime(dp_inst);\n                    if ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\n                        tp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\n                    }\n                },\n                onClose: function (dateText, dp_inst) {\n                    if (tp_inst.timeDefined === true && $input.val() !== '') {\n                        tp_inst._updateDateTime(dp_inst);\n                    }\n                    if ($.isFunction(tp_inst._defaults.evnts.onClose)) {\n                        tp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\n                    }\n                }\n            };\n            for (i in overrides) {\n                if (overrides.hasOwnProperty(i)) {\n                    fns[i] = opts[i] || this._defaults[i] || null;\n                }\n            }\n\n            tp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\n                evnts: fns,\n                timepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\n            });\n            tp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\n                return val.toUpperCase();\n            });\n            tp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\n                return val.toUpperCase();\n            });\n\n            // detect which units are supported\n            tp_inst.support = detectSupport(\n                tp_inst._defaults.timeFormat +\n                (tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') +\n                (tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\n\n            // controlType is string - key to our this._controls\n            if (typeof(tp_inst._defaults.controlType) === 'string') {\n                if (tp_inst._defaults.controlType === 'slider' && typeof($.ui.slider) === 'undefined') {\n                    tp_inst._defaults.controlType = 'select';\n                }\n                tp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\n            }\n            // controlType is an object and must implement create, options, value methods\n            else {\n                tp_inst.control = tp_inst._defaults.controlType;\n            }\n\n            // prep the timezone options\n            var timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\n                0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\n            if (tp_inst._defaults.timezoneList !== null) {\n                timezoneList = tp_inst._defaults.timezoneList;\n            }\n            var tzl = timezoneList.length, tzi = 0, tzv = null;\n            if (tzl > 0 && typeof timezoneList[0] !== 'object') {\n                for (; tzi < tzl; tzi++) {\n                    tzv = timezoneList[tzi];\n                    timezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\n                }\n            }\n            tp_inst._defaults.timezoneList = timezoneList;\n\n            // set the default units\n            tp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\n                ((new Date()).getTimezoneOffset() * -1);\n            tp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\n                tp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\n            tp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\n                tp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\n            tp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\n                tp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\n            tp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\n                tp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\n            tp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\n                tp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\n            tp_inst.ampm = '';\n            tp_inst.$input = $input;\n\n            if (tp_inst._defaults.altField) {\n                tp_inst.$altInput = $(tp_inst._defaults.altField);\n                if (tp_inst._defaults.altRedirectFocus === true) {\n                    tp_inst.$altInput.css({\n                        cursor: 'pointer'\n                    }).focus(function () {\n                        $input.trigger(\"focus\");\n                    });\n                }\n            }\n\n            if (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\n                tp_inst._defaults.minDate = new Date();\n            }\n            if (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\n                tp_inst._defaults.maxDate = new Date();\n            }\n\n            // datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\n            if (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\n                tp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\n            }\n            if (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\n                tp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\n            }\n            if (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\n                tp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\n            }\n            if (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\n                tp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\n            }\n            tp_inst.$input.bind('focus', function () {\n                tp_inst._onFocus();\n            });\n\n            return tp_inst;\n        },\n\n        /*\n        * add our sliders to the calendar\n        */\n        _addTimePicker: function (dp_inst) {\n            var currDT = $.trim((this.$altInput && this._defaults.altFieldTimeOnly) ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val());\n\n            this.timeDefined = this._parseTime(currDT);\n            this._limitMinMaxDateTime(dp_inst, false);\n            this._injectTimePicker();\n            this._afterInject();\n        },\n\n        /*\n        * parse the time string from input value or _setTime\n        */\n        _parseTime: function (timeString, withDate) {\n            if (!this.inst) {\n                this.inst = $.datepicker._getInst(this.$input[0]);\n            }\n\n            if (withDate || !this._defaults.timeOnly) {\n                var dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\n                try {\n                    var parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\n                    if (!parseRes.timeObj) {\n                        return false;\n                    }\n                    $.extend(this, parseRes.timeObj);\n                } catch (err) {\n                    $.timepicker.log(\"Error parsing the date/time string: \" + err +\n                        \"\\ndate/time string = \" + timeString +\n                        \"\\ntimeFormat = \" + this._defaults.timeFormat +\n                        \"\\ndateFormat = \" + dp_dateFormat);\n                    return false;\n                }\n                return true;\n            } else {\n                var timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\n                if (!timeObj) {\n                    return false;\n                }\n                $.extend(this, timeObj);\n                return true;\n            }\n        },\n\n        /*\n        * Handle callback option after injecting timepicker\n        */\n        _afterInject: function() {\n            var o = this.inst.settings;\n            if ($.isFunction(o.afterInject)) {\n                o.afterInject.call(this);\n            }\n        },\n\n        /*\n        * generate and inject html for timepicker into ui datepicker\n        */\n        _injectTimePicker: function () {\n            var $dp = this.inst.dpDiv,\n                o = this.inst.settings,\n                tp_inst = this,\n                litem = '',\n                uitem = '',\n                show = null,\n                max = {},\n                gridSize = {},\n                size = null,\n                i = 0,\n                l = 0;\n\n            // Prevent displaying twice\n            if ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\n                var noDisplay = ' ui_tpicker_unit_hide',\n                    html = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + (o.oneLine && o.controlType === 'select' ? ' ui-timepicker-oneLine' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label' + ((o.showTime) ? '' : noDisplay) + '\">' + o.timeText + '</dt>' +\n                        '<dd class=\"ui_tpicker_time '+ ((o.showTime) ? '' : noDisplay) + '\"><input class=\"ui_tpicker_time_input\" ' + (o.timeInput ? '' : 'disabled') + '/></dd>';\n\n                // Create the markup\n                for (i = 0, l = this.units.length; i < l; i++) {\n                    litem = this.units[i];\n                    uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n                    show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n                    // Added by Peter Medeiros:\n                    // - Figure out what the hour/minute/second max should be based on the step values.\n                    // - Example: if stepMinute is 15, then minMax is 45.\n                    max[litem] = parseInt((o[litem + 'Max'] - ((o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem])), 10);\n                    gridSize[litem] = 0;\n\n                    html += '<dt class=\"ui_tpicker_' + litem + '_label' + (show ? '' : noDisplay) + '\">' + o[litem + 'Text'] + '</dt>' +\n                        '<dd class=\"ui_tpicker_' + litem + (show ? '' : noDisplay) + '\"><div class=\"ui_tpicker_' + litem + '_slider' + (show ? '' : noDisplay) + '\"></div>';\n\n                    if (show && o[litem + 'Grid'] > 0) {\n                        html += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\n\n                        if (litem === 'hour') {\n                            for (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\n                                gridSize[litem]++;\n                                var tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', {hour: h}, o);\n                                html += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\n                            }\n                        }\n                        else {\n                            for (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\n                                gridSize[litem]++;\n                                html += '<td data-for=\"' + litem + '\">' + ((m < 10) ? '0' : '') + m + '</td>';\n                            }\n                        }\n\n                        html += '</tr></table></div>';\n                    }\n                    html += '</dd>';\n                }\n\n                // Timezone\n                var showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\n                html += '<dt class=\"ui_tpicker_timezone_label' + (showTz ? '' : noDisplay) + '\">' + o.timezoneText + '</dt>';\n                html += '<dd class=\"ui_tpicker_timezone' + (showTz ? '' : noDisplay) + '\"></dd>';\n\n                // Create the elements from string\n                html += '</dl></div>';\n                var $tp = $(html);\n\n                // if we only want time picker...\n                if (o.timeOnly === true) {\n                    $tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\n                    $dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\n                }\n\n                // add sliders, adjust grids, add events\n                for (i = 0, l = tp_inst.units.length; i < l; i++) {\n                    litem = tp_inst.units[i];\n                    uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n                    show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n                    // add the slider\n                    tp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\n\n                    // adjust the grid and add click event\n                    if (show && o[litem + 'Grid'] > 0) {\n                        size = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\n                        $tp.find('.ui_tpicker_' + litem + ' table').css({\n                            width: size + \"%\",\n                            marginLeft: o.isRTL ? '0' : ((size / (-2 * gridSize[litem])) + \"%\"),\n                            marginRight: o.isRTL ? ((size / (-2 * gridSize[litem])) + \"%\") : '0',\n                            borderCollapse: 'collapse'\n                        }).find(\"td\").click(function (e) {\n                            var $t = $(this),\n                                h = $t.html(),\n                                n = parseInt(h.replace(/[^0-9]/g), 10),\n                                ap = h.replace(/[^apm]/ig),\n                                f = $t.data('for'); // loses scope, so we use data-for\n\n                            if (f === 'hour') {\n                                if (ap.indexOf('p') !== -1 && n < 12) {\n                                    n += 12;\n                                }\n                                else {\n                                    if (ap.indexOf('a') !== -1 && n === 12) {\n                                        n = 0;\n                                    }\n                                }\n                            }\n\n                            tp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\n\n                            tp_inst._onTimeChange();\n                            tp_inst._onSelectHandler();\n                        }).css({\n                            cursor: 'pointer',\n                            width: (100 / gridSize[litem]) + '%',\n                            textAlign: 'center',\n                            overflow: 'hidden'\n                        });\n                    } // end if grid > 0\n                } // end for loop\n\n                // Add timezone options\n                this.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\n                $.fn.append.apply(this.timezone_select,\n                    $.map(o.timezoneList, function (val, idx) {\n                        return $(\"<option />\").val(typeof val === \"object\" ? val.value : val).text(typeof val === \"object\" ? val.label : val);\n                    }));\n                if (typeof(this.timezone) !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\n                    var local_timezone = (new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12)).getTimezoneOffset() * -1;\n                    if (local_timezone === this.timezone) {\n                        selectLocalTimezone(tp_inst);\n                    } else {\n                        this.timezone_select.val(this.timezone);\n                    }\n                } else {\n                    if (typeof(this.hour) !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\n                        this.timezone_select.val(o.timezone);\n                    } else {\n                        selectLocalTimezone(tp_inst);\n                    }\n                }\n                this.timezone_select.change(function () {\n                    tp_inst._onTimeChange();\n                    tp_inst._onSelectHandler();\n                    tp_inst._afterInject();\n                });\n                // End timezone options\n\n                // inject timepicker into datepicker\n                var $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\n                if ($buttonPanel.length) {\n                    $buttonPanel.before($tp);\n                } else {\n                    $dp.append($tp);\n                }\n\n                this.$timeObj = $tp.find('.ui_tpicker_time_input');\n                this.$timeObj.change(function () {\n                    var timeFormat = tp_inst.inst.settings.timeFormat;\n                    var parsedTime = $.datepicker.parseTime(timeFormat, this.value);\n                    var update = new Date();\n                    if (parsedTime) {\n                        update.setHours(parsedTime.hour);\n                        update.setMinutes(parsedTime.minute);\n                        update.setSeconds(parsedTime.second);\n                        $.datepicker._setTime(tp_inst.inst, update);\n                    } else {\n                        this.value = tp_inst.formattedTime;\n                        this.blur();\n                    }\n                });\n\n                if (this.inst !== null) {\n                    var timeDefined = this.timeDefined;\n                    this._onTimeChange();\n                    this.timeDefined = timeDefined;\n                }\n\n                // slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\n                if (this._defaults.addSliderAccess) {\n                    var sliderAccessArgs = this._defaults.sliderAccessArgs,\n                        rtl = this._defaults.isRTL;\n                    sliderAccessArgs.isRTL = rtl;\n\n                    setTimeout(function () { // fix for inline mode\n                        if ($tp.find('.ui-slider-access').length === 0) {\n                            $tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\n\n                            // fix any grids since sliders are shorter\n                            var sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\n                            if (sliderAccessWidth) {\n                                $tp.find('table:visible').each(function () {\n                                    var $g = $(this),\n                                        oldWidth = $g.outerWidth(),\n                                        oldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\n                                        newWidth = oldWidth - sliderAccessWidth,\n                                        newMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%',\n                                        css = { width: newWidth, marginRight: 0, marginLeft: 0 };\n                                    css[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\n                                    $g.css(css);\n                                });\n                            }\n                        }\n                    }, 10);\n                }\n                // end slideAccess integration\n\n                tp_inst._limitMinMaxDateTime(this.inst, true);\n            }\n        },\n\n        /*\n        * This function tries to limit the ability to go outside the\n        * min/max date range\n        */\n        _limitMinMaxDateTime: function (dp_inst, adjustSliders) {\n            var o = this._defaults,\n                dp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\n\n            if (!this._defaults.showTimepicker) {\n                return;\n            } // No time so nothing to check here\n\n            if ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\n                var minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\n                    minDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\n\n                if (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\n                    this.hourMinOriginal = o.hourMin;\n                    this.minuteMinOriginal = o.minuteMin;\n                    this.secondMinOriginal = o.secondMin;\n                    this.millisecMinOriginal = o.millisecMin;\n                    this.microsecMinOriginal = o.microsecMin;\n                }\n\n                if (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\n                    this._defaults.hourMin = minDateTime.getHours();\n                    if (this.hour <= this._defaults.hourMin) {\n                        this.hour = this._defaults.hourMin;\n                        this._defaults.minuteMin = minDateTime.getMinutes();\n                        if (this.minute <= this._defaults.minuteMin) {\n                            this.minute = this._defaults.minuteMin;\n                            this._defaults.secondMin = minDateTime.getSeconds();\n                            if (this.second <= this._defaults.secondMin) {\n                                this.second = this._defaults.secondMin;\n                                this._defaults.millisecMin = minDateTime.getMilliseconds();\n                                if (this.millisec <= this._defaults.millisecMin) {\n                                    this.millisec = this._defaults.millisecMin;\n                                    this._defaults.microsecMin = minDateTime.getMicroseconds();\n                                } else {\n                                    if (this.microsec < this._defaults.microsecMin) {\n                                        this.microsec = this._defaults.microsecMin;\n                                    }\n                                    this._defaults.microsecMin = this.microsecMinOriginal;\n                                }\n                            } else {\n                                this._defaults.millisecMin = this.millisecMinOriginal;\n                                this._defaults.microsecMin = this.microsecMinOriginal;\n                            }\n                        } else {\n                            this._defaults.secondMin = this.secondMinOriginal;\n                            this._defaults.millisecMin = this.millisecMinOriginal;\n                            this._defaults.microsecMin = this.microsecMinOriginal;\n                        }\n                    } else {\n                        this._defaults.minuteMin = this.minuteMinOriginal;\n                        this._defaults.secondMin = this.secondMinOriginal;\n                        this._defaults.millisecMin = this.millisecMinOriginal;\n                        this._defaults.microsecMin = this.microsecMinOriginal;\n                    }\n                } else {\n                    this._defaults.hourMin = this.hourMinOriginal;\n                    this._defaults.minuteMin = this.minuteMinOriginal;\n                    this._defaults.secondMin = this.secondMinOriginal;\n                    this._defaults.millisecMin = this.millisecMinOriginal;\n                    this._defaults.microsecMin = this.microsecMinOriginal;\n                }\n            }\n\n            if ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\n                var maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\n                    maxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\n\n                if (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\n                    this.hourMaxOriginal = o.hourMax;\n                    this.minuteMaxOriginal = o.minuteMax;\n                    this.secondMaxOriginal = o.secondMax;\n                    this.millisecMaxOriginal = o.millisecMax;\n                    this.microsecMaxOriginal = o.microsecMax;\n                }\n\n                if (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\n                    this._defaults.hourMax = maxDateTime.getHours();\n                    if (this.hour >= this._defaults.hourMax) {\n                        this.hour = this._defaults.hourMax;\n                        this._defaults.minuteMax = maxDateTime.getMinutes();\n                        if (this.minute >= this._defaults.minuteMax) {\n                            this.minute = this._defaults.minuteMax;\n                            this._defaults.secondMax = maxDateTime.getSeconds();\n                            if (this.second >= this._defaults.secondMax) {\n                                this.second = this._defaults.secondMax;\n                                this._defaults.millisecMax = maxDateTime.getMilliseconds();\n                                if (this.millisec >= this._defaults.millisecMax) {\n                                    this.millisec = this._defaults.millisecMax;\n                                    this._defaults.microsecMax = maxDateTime.getMicroseconds();\n                                } else {\n                                    if (this.microsec > this._defaults.microsecMax) {\n                                        this.microsec = this._defaults.microsecMax;\n                                    }\n                                    this._defaults.microsecMax = this.microsecMaxOriginal;\n                                }\n                            } else {\n                                this._defaults.millisecMax = this.millisecMaxOriginal;\n                                this._defaults.microsecMax = this.microsecMaxOriginal;\n                            }\n                        } else {\n                            this._defaults.secondMax = this.secondMaxOriginal;\n                            this._defaults.millisecMax = this.millisecMaxOriginal;\n                            this._defaults.microsecMax = this.microsecMaxOriginal;\n                        }\n                    } else {\n                        this._defaults.minuteMax = this.minuteMaxOriginal;\n                        this._defaults.secondMax = this.secondMaxOriginal;\n                        this._defaults.millisecMax = this.millisecMaxOriginal;\n                        this._defaults.microsecMax = this.microsecMaxOriginal;\n                    }\n                } else {\n                    this._defaults.hourMax = this.hourMaxOriginal;\n                    this._defaults.minuteMax = this.minuteMaxOriginal;\n                    this._defaults.secondMax = this.secondMaxOriginal;\n                    this._defaults.millisecMax = this.millisecMaxOriginal;\n                    this._defaults.microsecMax = this.microsecMaxOriginal;\n                }\n            }\n\n            if (dp_inst.settings.minTime!==null) {\n                var tempMinTime=new Date(\"01/01/1970 \" + dp_inst.settings.minTime);\n                if (this.hour<tempMinTime.getHours()) {\n                    this.hour=this._defaults.hourMin=tempMinTime.getHours();\n                    this.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n                } else if (this.hour===tempMinTime.getHours() && this.minute<tempMinTime.getMinutes()) {\n                    this.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n                } else {\n                    if (this._defaults.hourMin<tempMinTime.getHours()) {\n                        this._defaults.hourMin=tempMinTime.getHours();\n                        this._defaults.minuteMin=tempMinTime.getMinutes();\n                    } else if (this._defaults.hourMin===tempMinTime.getHours()===this.hour && this._defaults.minuteMin<tempMinTime.getMinutes()) {\n                        this._defaults.minuteMin=tempMinTime.getMinutes();\n                    } else {\n                        this._defaults.minuteMin=0;\n                    }\n                }\n            }\n\n            if (dp_inst.settings.maxTime!==null) {\n                var tempMaxTime=new Date(\"01/01/1970 \" + dp_inst.settings.maxTime);\n                if (this.hour>tempMaxTime.getHours()) {\n                    this.hour=this._defaults.hourMax=tempMaxTime.getHours();\n                    this.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n                } else if (this.hour===tempMaxTime.getHours() && this.minute>tempMaxTime.getMinutes()) {\n                    this.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n                } else {\n                    if (this._defaults.hourMax>tempMaxTime.getHours()) {\n                        this._defaults.hourMax=tempMaxTime.getHours();\n                        this._defaults.minuteMax=tempMaxTime.getMinutes();\n                    } else if (this._defaults.hourMax===tempMaxTime.getHours()===this.hour && this._defaults.minuteMax>tempMaxTime.getMinutes()) {\n                        this._defaults.minuteMax=tempMaxTime.getMinutes();\n                    } else {\n                        this._defaults.minuteMax=59;\n                    }\n                }\n            }\n\n            if (adjustSliders !== undefined && adjustSliders === true) {\n                var hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),\n                    minMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),\n                    secMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),\n                    millisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10),\n                    microsecMax = parseInt((this._defaults.microsecMax - ((this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec)), 10);\n\n                if (this.hour_slider) {\n                    this.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax, step: this._defaults.stepHour });\n                    this.control.value(this, this.hour_slider, 'hour', this.hour - (this.hour % this._defaults.stepHour));\n                }\n                if (this.minute_slider) {\n                    this.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax, step: this._defaults.stepMinute });\n                    this.control.value(this, this.minute_slider, 'minute', this.minute - (this.minute % this._defaults.stepMinute));\n                }\n                if (this.second_slider) {\n                    this.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax, step: this._defaults.stepSecond });\n                    this.control.value(this, this.second_slider, 'second', this.second - (this.second % this._defaults.stepSecond));\n                }\n                if (this.millisec_slider) {\n                    this.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax, step: this._defaults.stepMillisec });\n                    this.control.value(this, this.millisec_slider, 'millisec', this.millisec - (this.millisec % this._defaults.stepMillisec));\n                }\n                if (this.microsec_slider) {\n                    this.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax, step: this._defaults.stepMicrosec });\n                    this.control.value(this, this.microsec_slider, 'microsec', this.microsec - (this.microsec % this._defaults.stepMicrosec));\n                }\n            }\n\n        },\n\n        /*\n        * when a slider moves, set the internal time...\n        * on time change is also called when the time is updated in the text field\n        */\n        _onTimeChange: function () {\n            if (!this._defaults.showTimepicker) {\n                return;\n            }\n            var hour = (this.hour_slider) ? this.control.value(this, this.hour_slider, 'hour') : false,\n                minute = (this.minute_slider) ? this.control.value(this, this.minute_slider, 'minute') : false,\n                second = (this.second_slider) ? this.control.value(this, this.second_slider, 'second') : false,\n                millisec = (this.millisec_slider) ? this.control.value(this, this.millisec_slider, 'millisec') : false,\n                microsec = (this.microsec_slider) ? this.control.value(this, this.microsec_slider, 'microsec') : false,\n                timezone = (this.timezone_select) ? this.timezone_select.val() : false,\n                o = this._defaults,\n                pickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\n                pickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\n\n            if (typeof(hour) === 'object') {\n                hour = false;\n            }\n            if (typeof(minute) === 'object') {\n                minute = false;\n            }\n            if (typeof(second) === 'object') {\n                second = false;\n            }\n            if (typeof(millisec) === 'object') {\n                millisec = false;\n            }\n            if (typeof(microsec) === 'object') {\n                microsec = false;\n            }\n            if (typeof(timezone) === 'object') {\n                timezone = false;\n            }\n\n            if (hour !== false) {\n                hour = parseInt(hour, 10);\n            }\n            if (minute !== false) {\n                minute = parseInt(minute, 10);\n            }\n            if (second !== false) {\n                second = parseInt(second, 10);\n            }\n            if (millisec !== false) {\n                millisec = parseInt(millisec, 10);\n            }\n            if (microsec !== false) {\n                microsec = parseInt(microsec, 10);\n            }\n            if (timezone !== false) {\n                timezone = timezone.toString();\n            }\n\n            var ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\n\n            // If the update was done in the input field, the input field should not be updated.\n            // If the update was done using the sliders, update the input field.\n            var hasChanged = (\n                hour !== parseInt(this.hour,10) || // sliders should all be numeric\n                minute !== parseInt(this.minute,10) ||\n                second !== parseInt(this.second,10) ||\n                millisec !== parseInt(this.millisec,10) ||\n                microsec !== parseInt(this.microsec,10) ||\n                (this.ampm.length > 0 && (hour < 12) !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) ||\n                (this.timezone !== null && timezone !== this.timezone.toString()) // could be numeric or \"EST\" format, so use toString()\n            );\n\n            if (hasChanged) {\n\n                if (hour !== false) {\n                    this.hour = hour;\n                }\n                if (minute !== false) {\n                    this.minute = minute;\n                }\n                if (second !== false) {\n                    this.second = second;\n                }\n                if (millisec !== false) {\n                    this.millisec = millisec;\n                }\n                if (microsec !== false) {\n                    this.microsec = microsec;\n                }\n                if (timezone !== false) {\n                    this.timezone = timezone;\n                }\n\n                if (!this.inst) {\n                    this.inst = $.datepicker._getInst(this.$input[0]);\n                }\n\n                this._limitMinMaxDateTime(this.inst, true);\n            }\n            if (this.support.ampm) {\n                this.ampm = ampm;\n            }\n\n            // Updates the time within the timepicker\n            this.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\n            if (this.$timeObj) {\n                if (pickerTimeFormat === o.timeFormat) {\n                    this.$timeObj.val(this.formattedTime + pickerTimeSuffix);\n                }\n                else {\n                    this.$timeObj.val($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\n                }\n                if (this.$timeObj[0].setSelectionRange) {\n                    var sPos = this.$timeObj[0].selectionStart;\n                    var ePos = this.$timeObj[0].selectionEnd;\n                    this.$timeObj[0].setSelectionRange(sPos, ePos);\n                }\n            }\n\n            this.timeDefined = true;\n            if (hasChanged) {\n                this._updateDateTime();\n                //this.$input.focus(); // may automatically open the picker on setDate\n            }\n        },\n\n        /*\n        * call custom onSelect.\n        * bind to sliders slidestop, and grid click.\n        */\n        _onSelectHandler: function () {\n            var onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\n            var inputEl = this.$input ? this.$input[0] : null;\n            if (onSelect && inputEl) {\n                onSelect.apply(inputEl, [this.formattedDateTime, this]);\n            }\n        },\n\n        /*\n        * update our input with the new date time..\n        */\n        _updateDateTime: function (dp_inst) {\n            dp_inst = this.inst || dp_inst;\n            var dtTmp = (dp_inst.currentYear > 0?\n                new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) :\n                new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n                dt = $.datepicker._daylightSavingAdjust(dtTmp),\n                //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n                //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\n                dateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\n                formatCfg = $.datepicker._getFormatConfig(dp_inst),\n                timeAvailable = dt !== null && this.timeDefined;\n            this.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);\n            var formattedDateTime = this.formattedDate;\n\n            // if a slider was changed but datepicker doesn't have a value yet, set it\n            if (dp_inst.lastVal === \"\") {\n                dp_inst.currentYear = dp_inst.selectedYear;\n                dp_inst.currentMonth = dp_inst.selectedMonth;\n                dp_inst.currentDay = dp_inst.selectedDay;\n            }\n\n            /*\n            * remove following lines to force every changes in date picker to change the input value\n            * Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker.\n            * If the user manually empty the value in the input field, the date picker will never change selected value.\n            */\n            //if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\n            //\treturn;\n            //}\n\n            if (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === false) {\n                formattedDateTime = this.formattedTime;\n            } else if ((this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) || (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === true)) {\n                formattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\n            }\n\n            this.formattedDateTime = formattedDateTime;\n\n            if (!this._defaults.showTimepicker) {\n                this.$input.val(this.formattedDate);\n            } else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\n                this.$altInput.val(this.formattedTime);\n                this.$input.val(this.formattedDate);\n            } else if (this.$altInput) {\n                this.$input.val(formattedDateTime);\n                var altFormattedDateTime = '',\n                    altSeparator = this._defaults.altSeparator !== null ? this._defaults.altSeparator : this._defaults.separator,\n                    altTimeSuffix = this._defaults.altTimeSuffix !== null ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\n\n                if (!this._defaults.timeOnly) {\n                    if (this._defaults.altFormat) {\n                        altFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, (dt === null ? new Date() : dt), formatCfg);\n                    }\n                    else {\n                        altFormattedDateTime = this.formattedDate;\n                    }\n\n                    if (altFormattedDateTime) {\n                        altFormattedDateTime += altSeparator;\n                    }\n                }\n\n                if (this._defaults.altTimeFormat !== null) {\n                    altFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\n                }\n                else {\n                    altFormattedDateTime += this.formattedTime + altTimeSuffix;\n                }\n                this.$altInput.val(altFormattedDateTime);\n            } else {\n                this.$input.val(formattedDateTime);\n            }\n\n            this.$input.trigger(\"change\");\n        },\n\n        _onFocus: function () {\n            if (!this.$input.val() && this._defaults.defaultValue) {\n                this.$input.val(this._defaults.defaultValue);\n                var inst = $.datepicker._getInst(this.$input.get(0)),\n                    tp_inst = $.datepicker._get(inst, 'timepicker');\n                if (tp_inst) {\n                    if (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n                        try {\n                            $.datepicker._updateDatepicker(inst);\n                        } catch (err) {\n                            $.timepicker.log(err);\n                        }\n                    }\n                }\n            }\n        },\n\n        /*\n        * Small abstraction to control types\n        * We can add more, just be sure to follow the pattern: create, options, value\n        */\n        _controls: {\n            // slider methods\n            slider: {\n                create: function (tp_inst, obj, unit, val, min, max, step) {\n                    var rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\n                    return obj.prop('slide', null).slider({\n                        orientation: \"horizontal\",\n                        value: rtl ? val * -1 : val,\n                        min: rtl ? max * -1 : min,\n                        max: rtl ? min * -1 : max,\n                        step: step,\n                        slide: function (event, ui) {\n                            tp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\n                            tp_inst._onTimeChange();\n                        },\n                        stop: function (event, ui) {\n                            tp_inst._onSelectHandler();\n                        }\n                    });\n                },\n                options: function (tp_inst, obj, unit, opts, val) {\n                    if (tp_inst._defaults.isRTL) {\n                        if (typeof(opts) === 'string') {\n                            if (opts === 'min' || opts === 'max') {\n                                if (val !== undefined) {\n                                    return obj.slider(opts, val * -1);\n                                }\n                                return Math.abs(obj.slider(opts));\n                            }\n                            return obj.slider(opts);\n                        }\n                        var min = opts.min,\n                            max = opts.max;\n                        opts.min = opts.max = null;\n                        if (min !== undefined) {\n                            opts.max = min * -1;\n                        }\n                        if (max !== undefined) {\n                            opts.min = max * -1;\n                        }\n                        return obj.slider(opts);\n                    }\n                    if (typeof(opts) === 'string' && val !== undefined) {\n                        return obj.slider(opts, val);\n                    }\n                    return obj.slider(opts);\n                },\n                value: function (tp_inst, obj, unit, val) {\n                    if (tp_inst._defaults.isRTL) {\n                        if (val !== undefined) {\n                            return obj.slider('value', val * -1);\n                        }\n                        return Math.abs(obj.slider('value'));\n                    }\n                    if (val !== undefined) {\n                        return obj.slider('value', val);\n                    }\n                    return obj.slider('value');\n                }\n            },\n            // select methods\n            select: {\n                create: function (tp_inst, obj, unit, val, min, max, step) {\n                    var sel = '<select class=\"ui-timepicker-select ui-state-default ui-corner-all\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\n                        format = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\n\n                    for (var i = min; i <= max; i += step) {\n                        sel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\n                        if (unit === 'hour') {\n                            sel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), {hour: i}, tp_inst._defaults);\n                        }\n                        else if (unit === 'millisec' || unit === 'microsec' || i >= 10) { sel += i; }\n                        else {sel += '0' + i.toString(); }\n                        sel += '</option>';\n                    }\n                    sel += '</select>';\n\n                    obj.children('select').remove();\n\n                    $(sel).appendTo(obj).change(function (e) {\n                        tp_inst._onTimeChange();\n                        tp_inst._onSelectHandler();\n                        tp_inst._afterInject();\n                    });\n\n                    return obj;\n                },\n                options: function (tp_inst, obj, unit, opts, val) {\n                    var o = {},\n                        $t = obj.children('select');\n                    if (typeof(opts) === 'string') {\n                        if (val === undefined) {\n                            return $t.data(opts);\n                        }\n                        o[opts] = val;\n                    }\n                    else { o = opts; }\n                    return tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min>=0 ? o.min : $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\n                },\n                value: function (tp_inst, obj, unit, val) {\n                    var $t = obj.children('select');\n                    if (val !== undefined) {\n                        return $t.val(val);\n                    }\n                    return $t.val();\n                }\n            }\n        } // end _controls\n\n    });\n\n    $.fn.extend({\n        /*\n        * shorthand just to use timepicker.\n        */\n        timepicker: function (o) {\n            o = o || {};\n            var tmp_args = Array.prototype.slice.call(arguments);\n\n            if (typeof o === 'object') {\n                tmp_args[0] = $.extend(o, {\n                    timeOnly: true\n                });\n            }\n\n            return $(this).each(function () {\n                $.fn.datetimepicker.apply($(this), tmp_args);\n            });\n        },\n\n        /*\n        * extend timepicker to datepicker\n        */\n        datetimepicker: function (o) {\n            o = o || {};\n            var tmp_args = arguments;\n\n            if (typeof(o) === 'string') {\n                if (o === 'getDate'  || (o === 'option' && tmp_args.length === 2 && typeof (tmp_args[1]) === 'string')) {\n                    return $.fn.datepicker.apply($(this[0]), tmp_args);\n                } else {\n                    return this.each(function () {\n                        var $t = $(this);\n                        $t.datepicker.apply($t, tmp_args);\n                    });\n                }\n            } else {\n                return this.each(function () {\n                    var $t = $(this);\n                    $t.datepicker($.timepicker._newInst($t, o)._defaults);\n                });\n            }\n        }\n    });\n\n    /*\n    * Public Utility to parse date and time\n    */\n    $.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n        var parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\n        if (parseRes.timeObj) {\n            var t = parseRes.timeObj;\n            parseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\n            parseRes.date.setMicroseconds(t.microsec);\n        }\n\n        return parseRes.date;\n    };\n\n    /*\n    * Public utility to parse time\n    */\n    $.datepicker.parseTime = function (timeFormat, timeString, options) {\n        var o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\n            iso8601 = (timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1);\n\n        // Strict parse requires the timeString to match the timeFormat exactly\n        var strictParse = function (f, s, o) {\n\n            // pattern for standard and localized AM/PM markers\n            var getPatternAmpm = function (amNames, pmNames) {\n                var markers = [];\n                if (amNames) {\n                    $.merge(markers, amNames);\n                }\n                if (pmNames) {\n                    $.merge(markers, pmNames);\n                }\n                markers = $.map(markers, function (val) {\n                    return val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\n                });\n                return '(' + markers.join('|') + ')?';\n            };\n\n            // figure out position of time elements.. cause js cant do named captures\n            var getFormatPositions = function (timeFormat) {\n                var finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\n                    orders = {\n                        h: -1,\n                        m: -1,\n                        s: -1,\n                        l: -1,\n                        c: -1,\n                        t: -1,\n                        z: -1\n                    };\n\n                if (finds) {\n                    for (var i = 0; i < finds.length; i++) {\n                        if (orders[finds[i].toString().charAt(0)] === -1) {\n                            orders[finds[i].toString().charAt(0)] = i + 1;\n                        }\n                    }\n                }\n                return orders;\n            };\n\n            var regstr = '^' + f.toString()\n                    .replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n                        var ml = match.length;\n                        switch (match.charAt(0).toLowerCase()) {\n                            case 'h':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 'm':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 's':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 'l':\n                                return '(\\\\d?\\\\d?\\\\d)';\n                            case 'c':\n                                return '(\\\\d?\\\\d?\\\\d)';\n                            case 'z':\n                                return '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\n                            case 't':\n                                return getPatternAmpm(o.amNames, o.pmNames);\n                            default:    // literal escaped in quotes\n                                return '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) { return \"\\\\\" + m; }) + ')?';\n                        }\n                    })\n                    .replace(/\\s/g, '\\\\s?') +\n                o.timeSuffix + '$',\n                order = getFormatPositions(f),\n                ampm = '',\n                treg;\n\n            treg = s.match(new RegExp(regstr, 'i'));\n\n            var resTime = {\n                hour: 0,\n                minute: 0,\n                second: 0,\n                millisec: 0,\n                microsec: 0\n            };\n\n            if (treg) {\n                if (order.t !== -1) {\n                    if (treg[order.t] === undefined || treg[order.t].length === 0) {\n                        ampm = '';\n                        resTime.ampm = '';\n                    } else {\n                        ampm = $.inArray(treg[order.t].toUpperCase(), $.map(o.amNames, function (x,i) { return x.toUpperCase(); })) !== -1 ? 'AM' : 'PM';\n                        resTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\n                    }\n                }\n\n                if (order.h !== -1) {\n                    if (ampm === 'AM' && treg[order.h] === '12') {\n                        resTime.hour = 0; // 12am = 0 hour\n                    } else {\n                        if (ampm === 'PM' && treg[order.h] !== '12') {\n                            resTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\n                        } else {\n                            resTime.hour = Number(treg[order.h]);\n                        }\n                    }\n                }\n\n                if (order.m !== -1) {\n                    resTime.minute = Number(treg[order.m]);\n                }\n                if (order.s !== -1) {\n                    resTime.second = Number(treg[order.s]);\n                }\n                if (order.l !== -1) {\n                    resTime.millisec = Number(treg[order.l]);\n                }\n                if (order.c !== -1) {\n                    resTime.microsec = Number(treg[order.c]);\n                }\n                if (order.z !== -1 && treg[order.z] !== undefined) {\n                    resTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\n                }\n\n\n                return resTime;\n            }\n            return false;\n        };// end strictParse\n\n        // First try JS Date, if that fails, use strictParse\n        var looseParse = function (f, s, o) {\n            try {\n                var d = new Date('2012-01-01 ' + s);\n                if (isNaN(d.getTime())) {\n                    d = new Date('2012-01-01T' + s);\n                    if (isNaN(d.getTime())) {\n                        d = new Date('01/01/2012 ' + s);\n                        if (isNaN(d.getTime())) {\n                            throw \"Unable to parse time with native Date: \" + s;\n                        }\n                    }\n                }\n\n                return {\n                    hour: d.getHours(),\n                    minute: d.getMinutes(),\n                    second: d.getSeconds(),\n                    millisec: d.getMilliseconds(),\n                    microsec: d.getMicroseconds(),\n                    timezone: d.getTimezoneOffset() * -1\n                };\n            }\n            catch (err) {\n                try {\n                    return strictParse(f, s, o);\n                }\n                catch (err2) {\n                    $.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\n                }\n            }\n            return false;\n        }; // end looseParse\n\n        if (typeof o.parse === \"function\") {\n            return o.parse(timeFormat, timeString, o);\n        }\n        if (o.parse === 'loose') {\n            return looseParse(timeFormat, timeString, o);\n        }\n        return strictParse(timeFormat, timeString, o);\n    };\n\n    /**\n     * Public utility to format the time\n     * @param {string} format format of the time\n     * @param {Object} time Object not a Date for timezones\n     * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\n     * @returns {string} the formatted time\n     */\n    $.datepicker.formatTime = function (format, time, options) {\n        options = options || {};\n        options = $.extend({}, $.timepicker._defaults, options);\n        time = $.extend({\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisec: 0,\n            microsec: 0,\n            timezone: null\n        }, time);\n\n        var tmptime = format,\n            ampmName = options.amNames[0],\n            hour = parseInt(time.hour, 10);\n\n        if (hour > 11) {\n            ampmName = options.pmNames[0];\n        }\n\n        tmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n            switch (match) {\n                case 'HH':\n                    return ('0' + hour).slice(-2);\n                case 'H':\n                    return hour;\n                case 'hh':\n                    return ('0' + convert24to12(hour)).slice(-2);\n                case 'h':\n                    return convert24to12(hour);\n                case 'mm':\n                    return ('0' + time.minute).slice(-2);\n                case 'm':\n                    return time.minute;\n                case 'ss':\n                    return ('0' + time.second).slice(-2);\n                case 's':\n                    return time.second;\n                case 'l':\n                    return ('00' + time.millisec).slice(-3);\n                case 'c':\n                    return ('00' + time.microsec).slice(-3);\n                case 'z':\n                    return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\n                case 'Z':\n                    return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\n                case 'T':\n                    return ampmName.charAt(0).toUpperCase();\n                case 'TT':\n                    return ampmName.toUpperCase();\n                case 't':\n                    return ampmName.charAt(0).toLowerCase();\n                case 'tt':\n                    return ampmName.toLowerCase();\n                default:\n                    return match.replace(/'/g, \"\");\n            }\n        });\n\n        return tmptime;\n    };\n\n    /*\n    * the bad hack :/ override datepicker so it doesn't close on select\n    // inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\n    */\n    $.datepicker._base_selectDate = $.datepicker._selectDate;\n    $.datepicker._selectDate = function (id, dateStr) {\n        var inst = this._getInst($(id)[0]),\n            tp_inst = this._get(inst, 'timepicker'),\n            was_inline;\n\n        if (tp_inst && inst.settings.showTimepicker) {\n            tp_inst._limitMinMaxDateTime(inst, true);\n            was_inline = inst.inline;\n            inst.inline = inst.stay_open = true;\n            //This way the onSelect handler called from calendarpicker get the full dateTime\n            this._base_selectDate(id, dateStr);\n            inst.inline = was_inline;\n            inst.stay_open = false;\n            this._notifyChange(inst);\n            this._updateDatepicker(inst);\n        } else {\n            this._base_selectDate(id, dateStr);\n        }\n    };\n\n    /*\n    * second bad hack :/ override datepicker so it triggers an event when changing the input field\n    * and does not redraw the datepicker on every selectDate event\n    */\n    $.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\n    $.datepicker._updateDatepicker = function (inst) {\n\n        // don't popup the datepicker if there is another instance already opened\n        var input = inst.input[0];\n        if ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\n            return;\n        }\n\n        if (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {\n\n            this._base_updateDatepicker(inst);\n\n            // Reload the time control when changing something in the input text field.\n            var tp_inst = this._get(inst, 'timepicker');\n            if (tp_inst) {\n                tp_inst._addTimePicker(inst);\n            }\n        }\n    };\n\n    /*\n    * third bad hack :/ override datepicker so it allows spaces and colon in the input field\n    */\n    $.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\n    $.datepicker._doKeyPress = function (event) {\n        var inst = $.datepicker._getInst(event.target),\n            tp_inst = $.datepicker._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            if ($.datepicker._get(inst, 'constrainInput')) {\n                var ampm = tp_inst.support.ampm,\n                    tz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\n                    dateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\n                    datetimeChars = tp_inst._defaults.timeFormat.toString()\n                            .replace(/[hms]/g, '')\n                            .replace(/TT/g, ampm ? 'APM' : '')\n                            .replace(/Tt/g, ampm ? 'AaPpMm' : '')\n                            .replace(/tT/g, ampm ? 'AaPpMm' : '')\n                            .replace(/T/g, ampm ? 'AP' : '')\n                            .replace(/tt/g, ampm ? 'apm' : '')\n                            .replace(/t/g, ampm ? 'ap' : '') +\n                        \" \" + tp_inst._defaults.separator +\n                        tp_inst._defaults.timeSuffix +\n                        (tz ? tp_inst._defaults.timezoneList.join('') : '') +\n                        (tp_inst._defaults.amNames.join('')) + (tp_inst._defaults.pmNames.join('')) +\n                        dateChars,\n                    chr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\n                return event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);\n            }\n        }\n\n        return $.datepicker._base_doKeyPress(event);\n    };\n\n    /*\n    * Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\n    * Update any alternate field to synchronise with the main field.\n    */\n    $.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\n    $.datepicker._updateAlternate = function (inst) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var altField = tp_inst._defaults.altField;\n            if (altField) { // update alternate field too\n                var altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\n                    date = this._getDate(inst),\n                    formatCfg = $.datepicker._getFormatConfig(inst),\n                    altFormattedDateTime = '',\n                    altSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator,\n                    altTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\n                    altTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\n\n                altFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\n                if (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\n                    if (tp_inst._defaults.altFormat) {\n                        altFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\n                    }\n                    else {\n                        altFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\n                    }\n                }\n                $(altField).val( inst.input.val() ? altFormattedDateTime : \"\");\n            }\n        }\n        else {\n            $.datepicker._base_updateAlternate(inst);\n        }\n    };\n\n    /*\n    * Override key up event to sync manual input changes.\n    */\n    $.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\n    $.datepicker._doKeyUp = function (event) {\n        var inst = $.datepicker._getInst(event.target),\n            tp_inst = $.datepicker._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            if (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n                try {\n                    $.datepicker._updateDatepicker(inst);\n                } catch (err) {\n                    $.timepicker.log(err);\n                }\n            }\n        }\n\n        return $.datepicker._base_doKeyUp(event);\n    };\n\n    /*\n    * override \"Today\" button to also grab the time and set it to input field.\n    */\n    $.datepicker._base_gotoToday = $.datepicker._gotoToday;\n    $.datepicker._gotoToday = function (id) {\n        var inst = this._getInst($(id)[0]);\n        this._base_gotoToday(id);\n        var tp_inst = this._get(inst, 'timepicker');\n        if (!tp_inst) {\n            return;\n        }\n\n        var tzoffset = $.timepicker.timezoneOffsetNumber(tp_inst.timezone);\n        var now = new Date();\n        now.setMinutes(now.getMinutes() + now.getTimezoneOffset() + parseInt(tzoffset, 10));\n        this._setTime(inst, now);\n        this._setDate(inst, now);\n        tp_inst._onSelectHandler();\n    };\n\n    /*\n    * Disable & enable the Time in the datetimepicker\n    */\n    $.datepicker._disableTimepickerDatepicker = function (target) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n        if (tp_inst) {\n            inst.settings.showTimepicker = false;\n            tp_inst._defaults.showTimepicker = false;\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    $.datepicker._enableTimepickerDatepicker = function (target) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n        if (tp_inst) {\n            inst.settings.showTimepicker = true;\n            tp_inst._defaults.showTimepicker = true;\n            tp_inst._addTimePicker(inst); // Could be disabled on page load\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    /*\n    * Create our own set time function\n    */\n    $.datepicker._setTime = function (inst, date) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var defaults = tp_inst._defaults;\n\n            // calling _setTime with no date sets time to defaults\n            tp_inst.hour = date ? date.getHours() : defaults.hour;\n            tp_inst.minute = date ? date.getMinutes() : defaults.minute;\n            tp_inst.second = date ? date.getSeconds() : defaults.second;\n            tp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\n            tp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\n\n            //check if within min/max times..\n            tp_inst._limitMinMaxDateTime(inst, true);\n\n            tp_inst._onTimeChange();\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    /*\n    * Create new public method to set only time, callable as $().datepicker('setTime', date)\n    */\n    $.datepicker._setTimeDatepicker = function (target, date, withDate) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            this._setDateFromField(inst);\n            var tp_date;\n            if (date) {\n                if (typeof date === \"string\") {\n                    tp_inst._parseTime(date, withDate);\n                    tp_date = new Date();\n                    tp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n                    tp_date.setMicroseconds(tp_inst.microsec);\n                } else {\n                    tp_date = new Date(date.getTime());\n                    tp_date.setMicroseconds(date.getMicroseconds());\n                }\n                if (tp_date.toString() === 'Invalid Date') {\n                    tp_date = undefined;\n                }\n                this._setTime(inst, tp_date);\n            }\n        }\n\n    };\n\n    /*\n    * override setDate() to allow setting time too within Date object\n    */\n    $.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\n    $.datepicker._setDateDatepicker = function (target, _date) {\n        var inst = this._getInst(target);\n        var date = _date;\n        if (!inst) {\n            return;\n        }\n\n        if (typeof(_date) === 'string') {\n            date = new Date(_date);\n            if (!date.getTime()) {\n                this._base_setDateDatepicker.apply(this, arguments);\n                date = $(target).datepicker('getDate');\n            }\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        var tp_date;\n        if (date instanceof Date) {\n            tp_date = new Date(date.getTime());\n            tp_date.setMicroseconds(date.getMicroseconds());\n        } else {\n            tp_date = date;\n        }\n\n        // This is important if you are using the timezone option, javascript's Date\n        // object will only return the timezone offset for the current locale, so we\n        // adjust it accordingly.  If not using timezone option this won't matter..\n        // If a timezone is different in tp, keep the timezone as is\n        if (tp_inst && tp_date) {\n            // look out for DST if tz wasn't specified\n            if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n                tp_inst.timezone = tp_date.getTimezoneOffset() * -1;\n            }\n            date = $.timepicker.timezoneAdjust(date, $.timepicker.timezoneOffsetString(-date.getTimezoneOffset()), tp_inst.timezone);\n            tp_date = $.timepicker.timezoneAdjust(tp_date, $.timepicker.timezoneOffsetString(-tp_date.getTimezoneOffset()), tp_inst.timezone);\n        }\n\n        this._updateDatepicker(inst);\n        this._base_setDateDatepicker.apply(this, arguments);\n        this._setTimeDatepicker(target, tp_date, true);\n    };\n\n    /*\n    * override getDate() to allow getting time too within Date object\n    */\n    $.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\n    $.datepicker._getDateDatepicker = function (target, noDefault) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            // if it hasn't yet been defined, grab from field\n            if (inst.lastVal === undefined) {\n                this._setDateFromField(inst, noDefault);\n            }\n\n            var date = this._getDate(inst);\n\n            var currDT = null;\n\n            if (tp_inst.$altInput && tp_inst._defaults.altFieldTimeOnly) {\n                currDT = tp_inst.$input.val() + ' ' + tp_inst.$altInput.val();\n            }\n            else if (tp_inst.$input.get(0).tagName !== 'INPUT' && tp_inst.$altInput) {\n                /**\n                 * in case the datetimepicker has been applied to a non-input tag for inline UI,\n                 * and the user has not configured the plugin to display only time in altInput,\n                 * pick current date time from the altInput (and hope for the best, for now, until \"ER1\" is applied)\n                 *\n                 * @todo ER1. Since altInput can have a totally difference format, convert it to standard format by reading input format from \"altFormat\" and \"altTimeFormat\" option values\n                 */\n                currDT = tp_inst.$altInput.val();\n            }\n            else {\n                currDT = tp_inst.$input.val();\n            }\n\n            if (date && tp_inst._parseTime(currDT, !inst.settings.timeOnly)) {\n                date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n                date.setMicroseconds(tp_inst.microsec);\n\n                // This is important if you are using the timezone option, javascript's Date\n                // object will only return the timezone offset for the current locale, so we\n                // adjust it accordingly.  If not using timezone option this won't matter..\n                if (tp_inst.timezone != null) {\n                    // look out for DST if tz wasn't specified\n                    if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n                        tp_inst.timezone = date.getTimezoneOffset() * -1;\n                    }\n                    date = $.timepicker.timezoneAdjust(date, tp_inst.timezone, $.timepicker.timezoneOffsetString(-date.getTimezoneOffset()));\n                }\n            }\n            return date;\n        }\n        return this._base_getDateDatepicker(target, noDefault);\n    };\n\n    /*\n    * override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\n    * An option in datapicker to ignore extra format characters would be nicer.\n    */\n    $.datepicker._base_parseDate = $.datepicker.parseDate;\n    $.datepicker.parseDate = function (format, value, settings) {\n        var date;\n        try {\n            date = this._base_parseDate(format, value, settings);\n        } catch (err) {\n            // Hack!  The error message ends with a colon, a space, and\n            // the \"extra\" characters.  We rely on that instead of\n            // attempting to perfectly reproduce the parsing algorithm.\n            if (err.indexOf(\":\") >= 0) {\n                date = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\n                $.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\n            } else {\n                throw err;\n            }\n        }\n        return date;\n    };\n\n    /*\n    * override formatDate to set date with time to the input\n    */\n    $.datepicker._base_formatDate = $.datepicker._formatDate;\n    $.datepicker._formatDate = function (inst, day, month, year) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            tp_inst._updateDateTime(inst);\n            return tp_inst.$input.val();\n        }\n        return this._base_formatDate(inst);\n    };\n\n    /*\n    * override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\n    */\n    $.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\n    $.datepicker._optionDatepicker = function (target, name, value) {\n        var inst = this._getInst(target),\n            name_clone;\n        if (!inst) {\n            return null;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var min = null,\n                max = null,\n                onselect = null,\n                overrides = tp_inst._defaults.evnts,\n                fns = {},\n                prop,\n                ret,\n                oldVal,\n                $target;\n            if (typeof name === 'string') { // if min/max was set with the string\n                if (name === 'minDate' || name === 'minDateTime') {\n                    min = value;\n                } else if (name === 'maxDate' || name === 'maxDateTime') {\n                    max = value;\n                } else if (name === 'onSelect') {\n                    onselect = value;\n                } else if (overrides.hasOwnProperty(name)) {\n                    if (typeof (value) === 'undefined') {\n                        return overrides[name];\n                    }\n                    fns[name] = value;\n                    name_clone = {}; //empty results in exiting function after overrides updated\n                }\n            } else if (typeof name === 'object') { //if min/max was set with the JSON\n                if (name.minDate) {\n                    min = name.minDate;\n                } else if (name.minDateTime) {\n                    min = name.minDateTime;\n                } else if (name.maxDate) {\n                    max = name.maxDate;\n                } else if (name.maxDateTime) {\n                    max = name.maxDateTime;\n                }\n                for (prop in overrides) {\n                    if (overrides.hasOwnProperty(prop) && name[prop]) {\n                        fns[prop] = name[prop];\n                    }\n                }\n            }\n            for (prop in fns) {\n                if (fns.hasOwnProperty(prop)) {\n                    overrides[prop] = fns[prop];\n                    if (!name_clone) { name_clone = $.extend({}, name); }\n                    delete name_clone[prop];\n                }\n            }\n            if (name_clone && isEmptyObject(name_clone)) { return; }\n            if (min) { //if min was set\n                if (min === 0) {\n                    min = new Date();\n                } else {\n                    min = new Date(min);\n                }\n                tp_inst._defaults.minDate = min;\n                tp_inst._defaults.minDateTime = min;\n            } else if (max) { //if max was set\n                if (max === 0) {\n                    max = new Date();\n                } else {\n                    max = new Date(max);\n                }\n                tp_inst._defaults.maxDate = max;\n                tp_inst._defaults.maxDateTime = max;\n            } else if (onselect) {\n                tp_inst._defaults.onSelect = onselect;\n            }\n\n            // Datepicker will override our date when we call _base_optionDatepicker when\n            // calling minDate/maxDate, so we will first grab the value, call\n            // _base_optionDatepicker, then set our value back.\n            if(min || max){\n                $target = $(target);\n                oldVal = $target.datetimepicker('getDate');\n                ret = this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n                $target.datetimepicker('setDate', oldVal);\n                return ret;\n            }\n        }\n        if (value === undefined) {\n            return this._base_optionDatepicker.call($.datepicker, target, name);\n        }\n        return this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n    };\n\n    /*\n    * jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\n    * it will return false for all objects\n    */\n    var isEmptyObject = function (obj) {\n        var prop;\n        for (prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    /*\n    * jQuery extend now ignores nulls!\n    */\n    var extendRemove = function (target, props) {\n        $.extend(target, props);\n        for (var name in props) {\n            if (props[name] === null || props[name] === undefined) {\n                target[name] = props[name];\n            }\n        }\n        return target;\n    };\n\n    /*\n    * Determine by the time format which units are supported\n    * Returns an object of booleans for each unit\n    */\n    var detectSupport = function (timeFormat) {\n        var tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\n            isIn = function (f, t) { // does the format contain the token?\n                return f.indexOf(t) !== -1 ? true : false;\n            };\n        return {\n            hour: isIn(tf, 'h'),\n            minute: isIn(tf, 'm'),\n            second: isIn(tf, 's'),\n            millisec: isIn(tf, 'l'),\n            microsec: isIn(tf, 'c'),\n            timezone: isIn(tf, 'z'),\n            ampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\n            iso8601: isIn(timeFormat, 'Z')\n        };\n    };\n\n    /*\n    * Converts 24 hour format into 12 hour\n    * Returns 12 hour without leading 0\n    */\n    var convert24to12 = function (hour) {\n        hour %= 12;\n\n        if (hour === 0) {\n            hour = 12;\n        }\n\n        return String(hour);\n    };\n\n    var computeEffectiveSetting = function (settings, property) {\n        return settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\n    };\n\n    /*\n    * Splits datetime string into date and time substrings.\n    * Throws exception when date can't be parsed\n    * Returns {dateString: dateString, timeString: timeString}\n    */\n    var splitDateTime = function (dateTimeString, timeSettings) {\n        // The idea is to get the number separator occurrences in datetime and the time format requested (since time has\n        // fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\n        var separator = computeEffectiveSetting(timeSettings, 'separator'),\n            format = computeEffectiveSetting(timeSettings, 'timeFormat'),\n            timeParts = format.split(separator), // how many occurrences of separator may be in our format?\n            timePartsLen = timeParts.length,\n            allParts = dateTimeString.split(separator),\n            allPartsLen = allParts.length;\n\n        if (allPartsLen > 1) {\n            return {\n                dateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\n                timeString: allParts.splice(0, timePartsLen).join(separator)\n            };\n        }\n\n        return {\n            dateString: dateTimeString,\n            timeString: ''\n        };\n    };\n\n    /*\n    * Internal function to parse datetime interval\n    * Returns: {date: Date, timeObj: Object}, where\n    *   date - parsed date without time (type Date)\n    *   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\n    */\n    var parseDateTimeInternal = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n        var date,\n            parts,\n            parsedTime;\n\n        parts = splitDateTime(dateTimeString, timeSettings);\n        date = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\n\n        if (parts.timeString === '') {\n            return {\n                date: date\n            };\n        }\n\n        parsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\n\n        if (!parsedTime) {\n            throw 'Wrong time format';\n        }\n\n        return {\n            date: date,\n            timeObj: parsedTime\n        };\n    };\n\n    /*\n    * Internal function to set timezone_select to the local timezone\n    */\n    var selectLocalTimezone = function (tp_inst, date) {\n        if (tp_inst && tp_inst.timezone_select) {\n            var now = date || new Date();\n            tp_inst.timezone_select.val(-now.getTimezoneOffset());\n        }\n    };\n\n    /*\n    * Create a Singleton Instance\n    */\n    $.timepicker = new Timepicker();\n\n    /**\n     * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\n     * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\n     * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\n     * @return {string}\n     */\n    $.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\n        if (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\n            return tzMinutes;\n        }\n\n        var off = tzMinutes,\n            minutes = off % 60,\n            hours = (off - minutes) / 60,\n            iso = iso8601 ? ':' : '',\n            tz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\n\n        if (tz === '+00:00') {\n            return 'Z';\n        }\n        return tz;\n    };\n\n    /**\n     * Get the number in minutes that represents a timezone string\n     * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\n     * @return {number} the offset minutes or the original string if it doesn't match expectations\n     */\n    $.timepicker.timezoneOffsetNumber = function (tzString) {\n        var normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\n\n        if (normalized.toUpperCase() === 'Z') { // if iso8601 with Z, its 0 minute offset\n            return 0;\n        }\n\n        if (!/^(\\-|\\+)\\d{4}$/.test(normalized)) { // possibly a user defined tz, so just give it back\n            return parseInt(tzString, 10);\n        }\n\n        return ((normalized.substr(0, 1) === '-' ? -1 : 1) * // plus or minus\n            ((parseInt(normalized.substr(1, 2), 10) * 60) + // hours (converted to minutes)\n                parseInt(normalized.substr(3, 2), 10))); // minutes\n    };\n\n    /**\n     * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\n     * @param  {Date} date\n     * @param  {string} fromTimezone formatted like \"+0500\", \"-1245\"\n     * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\n     * @return {Date}\n     */\n    $.timepicker.timezoneAdjust = function (date, fromTimezone, toTimezone) {\n        var fromTz = $.timepicker.timezoneOffsetNumber(fromTimezone);\n        var toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\n        if (!isNaN(toTz)) {\n            date.setMinutes(date.getMinutes() + (-fromTz) - (-toTz));\n        }\n        return date;\n    };\n\n    /**\n     * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * n.b. The input value must be correctly formatted (reformatting is not supported)\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the timepicker() call\n     * @return {jQuery}\n     */\n    $.timepicker.timeRange = function (startTime, endTime, options) {\n        return $.timepicker.handleRange('timepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @param  {string} method Can be used to specify the type of picker to be added\n     * @return {jQuery}\n     */\n    $.timepicker.datetimeRange = function (startTime, endTime, options) {\n        $.timepicker.handleRange('datetimepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @return {jQuery}\n     */\n    $.timepicker.dateRange = function (startTime, endTime, options) {\n        $.timepicker.handleRange('datepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `method` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {string} method Can be used to specify the type of picker to be added\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @return {jQuery}\n     */\n    $.timepicker.handleRange = function (method, startTime, endTime, options) {\n        options = $.extend({}, {\n            minInterval: 0, // min allowed interval in milliseconds\n            maxInterval: 0, // max allowed interval in milliseconds\n            start: {},      // options for start picker\n            end: {}         // options for end picker\n        }, options);\n\n        // for the mean time this fixes an issue with calling getDate with timepicker()\n        var timeOnly = false;\n        if(method === 'timepicker'){\n            timeOnly = true;\n            method = 'datetimepicker';\n        }\n\n        function checkDates(changed, other) {\n            var startdt = startTime[method]('getDate'),\n                enddt = endTime[method]('getDate'),\n                changeddt = changed[method]('getDate');\n\n            if (startdt !== null) {\n                var minDate = new Date(startdt.getTime()),\n                    maxDate = new Date(startdt.getTime());\n\n                minDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\n                maxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\n\n                if (options.minInterval > 0 && minDate > enddt) { // minInterval check\n                    endTime[method]('setDate', minDate);\n                }\n                else if (options.maxInterval > 0 && maxDate < enddt) { // max interval check\n                    endTime[method]('setDate', maxDate);\n                }\n                else if (startdt > enddt) {\n                    other[method]('setDate', changeddt);\n                }\n            }\n        }\n\n        function selected(changed, other, option) {\n            if (!changed.val()) {\n                return;\n            }\n            var date = changed[method].call(changed, 'getDate');\n            if (date !== null && options.minInterval > 0) {\n                if (option === 'minDate') {\n                    date.setMilliseconds(date.getMilliseconds() + options.minInterval);\n                }\n                if (option === 'maxDate') {\n                    date.setMilliseconds(date.getMilliseconds() - options.minInterval);\n                }\n            }\n\n            if (date.getTime) {\n                other[method].call(other, 'option', option, date);\n            }\n        }\n\n        $.fn[method].call(startTime, $.extend({\n            timeOnly: timeOnly,\n            onClose: function (dateText, inst) {\n                checkDates($(this), endTime);\n            },\n            onSelect: function (selectedDateTime) {\n                selected($(this), endTime, 'minDate');\n            }\n        }, options, options.start));\n        $.fn[method].call(endTime, $.extend({\n            timeOnly: timeOnly,\n            onClose: function (dateText, inst) {\n                checkDates($(this), startTime);\n            },\n            onSelect: function (selectedDateTime) {\n                selected($(this), startTime, 'maxDate');\n            }\n        }, options, options.end));\n\n        checkDates(startTime, endTime);\n\n        selected(startTime, endTime, 'minDate');\n        selected(endTime, startTime, 'maxDate');\n\n        return $([startTime.get(0), endTime.get(0)]);\n    };\n\n    /**\n     * Log error or data to the console during error or debugging\n     * @param  {Object} err pass any type object to log to the console during error or debugging\n     * @return {void}\n     */\n    $.timepicker.log = function () {\n        // Older IE (9, maybe 10) throw error on accessing `window.console.log.apply`, so check first.\n        if (window.console && window.console.log && window.console.log.apply) {\n            window.console.log.apply(window.console, Array.prototype.slice.call(arguments));\n        }\n    };\n\n    /*\n     * Add util object to allow access to private methods for testability.\n     */\n    $.timepicker._util = {\n        _extendRemove: extendRemove,\n        _isEmptyObject: isEmptyObject,\n        _convert24to12: convert24to12,\n        _detectSupport: detectSupport,\n        _selectLocalTimezone: selectLocalTimezone,\n        _computeEffectiveSetting: computeEffectiveSetting,\n        _splitDateTime: splitDateTime,\n        _parseDateTimeInternal: parseDateTimeInternal\n    };\n\n    /*\n    * Microsecond support\n    */\n    if (!Date.prototype.getMicroseconds) {\n        Date.prototype.microseconds = 0;\n        Date.prototype.getMicroseconds = function () { return this.microseconds; };\n        Date.prototype.setMicroseconds = function (m) {\n            this.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\n            this.microseconds = m % 1000;\n            return this;\n        };\n    }\n\n    /*\n    * Keep up with the version\n    */\n    $.timepicker.version = \"1.6.3\";\n\n}));\n","jquery/jquery.parsequery.js":"/**\n * Copyright (c) 2010 Conrad Irwin <conrad@rapportive.com> MIT license.\n * Based loosely on original: Copyright (c) 2008 mkmanning MIT license.\n *\n * Parses CGI query strings into javascript objects.\n *\n * See the README for details.\n **/\ndefine([\n    \"jquery\"\n], function($){\n    $.parseQuery = function (options) {\n\n        var config = {query: window.location.search || \"\"},\n            params = {};\n\n        if (typeof options === 'string') {\n            options = {query: options};\n        }\n        $.extend(config, $.parseQuery, options);\n        config.query = config.query.replace(/^\\?/, '');\n\n        if (config.query.length > 0) {\n            $.each(config.query.split(config.separator), function (i, param) {\n                var pair = param.split('='),\n                    key = config.decode(pair.shift(), null).toString(),\n                    value = config.decode(pair.length ? pair.join('=') : null, key);\n\n                if (config.array_keys.test ? config.array_keys.test(key) : config.array_keys(key)) {\n                    params[key] = params[key] || [];\n                    params[key].push(value);\n                } else {\n                    params[key] = value;\n                }\n            });\n        }\n        return params;\n    };\n    $.parseQuery.decode = $.parseQuery.default_decode = function (string) {\n        return decodeURIComponent((string || \"\").replace(/\\+/g, ' '));\n    };\n    $.parseQuery.array_keys = function () {\n        return false;\n    };\n    $.parseQuery.separator = \"&\";\n});\n","jquery/z-index.js":"/*!\n * zIndex plugin from jQuery UI Core - v1.10.4\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\ndefine([\n    'jquery'\n], function ($, undefined) {\n\n// plugins\n    $.fn.extend({\n        zIndex: function (zIndex) {\n            if (zIndex !== undefined) {\n                return this.css(\"zIndex\", zIndex);\n            }\n\n            if (this.length) {\n                var elem = $(this[0]), position, value;\n                while (elem.length && elem[0] !== document) {\n                    // Ignore z-index if position is set to a value where z-index is ignored by the browser\n                    // This makes behavior of this function consistent across browsers\n                    // WebKit always returns auto if the element is positioned\n                    position = elem.css(\"position\");\n                    if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\n                        // IE returns 0 when zIndex is not specified\n                        // other browsers return a string\n                        // we ignore the case of nested elements with an explicit value of 0\n                        // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n                        value = parseInt(elem.css(\"zIndex\"), 10);\n                        if (!isNaN(value) && value !== 0) {\n                            return value;\n                        }\n                    }\n                    elem = elem.parent();\n                }\n            }\n\n            return 0;\n        }\n    });\n});\n","jquery/timepicker.js":"/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20\n* http://trentrichardson.com/examples/timepicker\n* Copyright (c) 2016 Trent Richardson; Licensed MIT */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery', 'jquery-ui-modules/datepicker', 'jquery-ui-modules/slider'], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n\n    /*\n    * Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\n    */\n    $.ui.timepicker = $.ui.timepicker || {};\n    if ($.ui.timepicker.version) {\n        return;\n    }\n\n    /*\n    * Extend jQueryUI, get it started with our version number\n    */\n    $.extend($.ui, {\n        timepicker: {\n            version: \"1.6.3\"\n        }\n    });\n\n    /*\n    * Timepicker manager.\n    * Use the singleton instance of this class, $.timepicker, to interact with the time picker.\n    * Settings for (groups of) time pickers are maintained in an instance object,\n    * allowing multiple different settings on the same page.\n    */\n    var Timepicker = function () {\n        this.regional = []; // Available regional settings, indexed by language code\n        this.regional[''] = { // Default regional settings\n            currentText: 'Now',\n            closeText: 'Done',\n            amNames: ['AM', 'A'],\n            pmNames: ['PM', 'P'],\n            timeFormat: 'HH:mm',\n            timeSuffix: '',\n            timeOnlyTitle: 'Choose Time',\n            timeText: 'Time',\n            hourText: 'Hour',\n            minuteText: 'Minute',\n            secondText: 'Second',\n            millisecText: 'Millisecond',\n            microsecText: 'Microsecond',\n            timezoneText: 'Time Zone',\n            isRTL: false\n        };\n        this._defaults = { // Global defaults for all the datetime picker instances\n            showButtonPanel: true,\n            timeOnly: false,\n            timeOnlyShowDate: false,\n            showHour: null,\n            showMinute: null,\n            showSecond: null,\n            showMillisec: null,\n            showMicrosec: null,\n            showTimezone: null,\n            showTime: true,\n            stepHour: 1,\n            stepMinute: 1,\n            stepSecond: 1,\n            stepMillisec: 1,\n            stepMicrosec: 1,\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisec: 0,\n            microsec: 0,\n            timezone: null,\n            hourMin: 0,\n            minuteMin: 0,\n            secondMin: 0,\n            millisecMin: 0,\n            microsecMin: 0,\n            hourMax: 23,\n            minuteMax: 59,\n            secondMax: 59,\n            millisecMax: 999,\n            microsecMax: 999,\n            minDateTime: null,\n            maxDateTime: null,\n            maxTime: null,\n            minTime: null,\n            onSelect: null,\n            hourGrid: 0,\n            minuteGrid: 0,\n            secondGrid: 0,\n            millisecGrid: 0,\n            microsecGrid: 0,\n            alwaysSetTime: true,\n            separator: ' ',\n            altFieldTimeOnly: true,\n            altTimeFormat: null,\n            altSeparator: null,\n            altTimeSuffix: null,\n            altRedirectFocus: true,\n            pickerTimeFormat: null,\n            pickerTimeSuffix: null,\n            showTimepicker: true,\n            timezoneList: null,\n            addSliderAccess: false,\n            sliderAccessArgs: null,\n            controlType: 'slider',\n            oneLine: false,\n            defaultValue: null,\n            parse: 'strict',\n            afterInject: null\n        };\n        $.extend(this._defaults, this.regional['']);\n    };\n\n    $.extend(Timepicker.prototype, {\n        $input: null,\n        $altInput: null,\n        $timeObj: null,\n        inst: null,\n        hour_slider: null,\n        minute_slider: null,\n        second_slider: null,\n        millisec_slider: null,\n        microsec_slider: null,\n        timezone_select: null,\n        maxTime: null,\n        minTime: null,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisec: 0,\n        microsec: 0,\n        timezone: null,\n        hourMinOriginal: null,\n        minuteMinOriginal: null,\n        secondMinOriginal: null,\n        millisecMinOriginal: null,\n        microsecMinOriginal: null,\n        hourMaxOriginal: null,\n        minuteMaxOriginal: null,\n        secondMaxOriginal: null,\n        millisecMaxOriginal: null,\n        microsecMaxOriginal: null,\n        ampm: '',\n        formattedDate: '',\n        formattedTime: '',\n        formattedDateTime: '',\n        timezoneList: null,\n        units: ['hour', 'minute', 'second', 'millisec', 'microsec'],\n        support: {},\n        control: null,\n\n        /*\n        * Override the default settings for all instances of the time picker.\n        * @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\n        * @return {Object} the manager object\n        */\n        setDefaults: function (settings) {\n            extendRemove(this._defaults, settings || {});\n            return this;\n        },\n\n        /*\n        * Create a new Timepicker instance\n        */\n        _newInst: function ($input, opts) {\n            var tp_inst = new Timepicker(),\n                inlineSettings = {},\n                fns = {},\n                overrides, i;\n\n            for (var attrName in this._defaults) {\n                if (this._defaults.hasOwnProperty(attrName)) {\n                    var attrValue = $input.attr('time:' + attrName);\n                    if (attrValue) {\n                        try {\n                            inlineSettings[attrName] = eval(attrValue);\n                        } catch (err) {\n                            inlineSettings[attrName] = attrValue;\n                        }\n                    }\n                }\n            }\n\n            overrides = {\n                beforeShow: function (input, dp_inst) {\n                    if ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\n                        return tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\n                    }\n                },\n                onChangeMonthYear: function (year, month, dp_inst) {\n                    // Update the time as well : this prevents the time from disappearing from the $input field.\n                    // tp_inst._updateDateTime(dp_inst);\n                    if ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\n                        tp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\n                    }\n                },\n                onClose: function (dateText, dp_inst) {\n                    if (tp_inst.timeDefined === true && $input.val() !== '') {\n                        tp_inst._updateDateTime(dp_inst);\n                    }\n                    if ($.isFunction(tp_inst._defaults.evnts.onClose)) {\n                        tp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\n                    }\n                }\n            };\n            for (i in overrides) {\n                if (overrides.hasOwnProperty(i)) {\n                    fns[i] = opts[i] || this._defaults[i] || null;\n                }\n            }\n\n            tp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\n                evnts: fns,\n                timepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\n            });\n            tp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\n                return val.toUpperCase();\n            });\n            tp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\n                return val.toUpperCase();\n            });\n\n            // detect which units are supported\n            tp_inst.support = detectSupport(\n                tp_inst._defaults.timeFormat +\n                (tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') +\n                (tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\n\n            // controlType is string - key to our this._controls\n            if (typeof(tp_inst._defaults.controlType) === 'string') {\n                if (tp_inst._defaults.controlType === 'slider' && typeof($.ui.slider) === 'undefined') {\n                    tp_inst._defaults.controlType = 'select';\n                }\n                tp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\n            }\n            // controlType is an object and must implement create, options, value methods\n            else {\n                tp_inst.control = tp_inst._defaults.controlType;\n            }\n\n            // prep the timezone options\n            var timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\n                0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\n            if (tp_inst._defaults.timezoneList !== null) {\n                timezoneList = tp_inst._defaults.timezoneList;\n            }\n            var tzl = timezoneList.length, tzi = 0, tzv = null;\n            if (tzl > 0 && typeof timezoneList[0] !== 'object') {\n                for (; tzi < tzl; tzi++) {\n                    tzv = timezoneList[tzi];\n                    timezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\n                }\n            }\n            tp_inst._defaults.timezoneList = timezoneList;\n\n            // set the default units\n            tp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\n                ((new Date()).getTimezoneOffset() * -1);\n            tp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\n                tp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\n            tp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\n                tp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\n            tp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\n                tp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\n            tp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\n                tp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\n            tp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\n                tp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\n            tp_inst.ampm = '';\n            tp_inst.$input = $input;\n\n            if (tp_inst._defaults.altField) {\n                tp_inst.$altInput = $(tp_inst._defaults.altField);\n                if (tp_inst._defaults.altRedirectFocus === true) {\n                    tp_inst.$altInput.css({\n                        cursor: 'pointer'\n                    }).focus(function () {\n                        $input.trigger(\"focus\");\n                    });\n                }\n            }\n\n            if (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\n                tp_inst._defaults.minDate = new Date();\n            }\n            if (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\n                tp_inst._defaults.maxDate = new Date();\n            }\n\n            // datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\n            if (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\n                tp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\n            }\n            if (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\n                tp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\n            }\n            if (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\n                tp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\n            }\n            if (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\n                tp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\n            }\n            tp_inst.$input.bind('focus', function () {\n                tp_inst._onFocus();\n            });\n\n            return tp_inst;\n        },\n\n        /*\n        * add our sliders to the calendar\n        */\n        _addTimePicker: function (dp_inst) {\n            var currDT = $.trim((this.$altInput && this._defaults.altFieldTimeOnly) ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val());\n\n            this.timeDefined = this._parseTime(currDT);\n            this._limitMinMaxDateTime(dp_inst, false);\n            this._injectTimePicker();\n            this._afterInject();\n        },\n\n        /*\n        * parse the time string from input value or _setTime\n        */\n        _parseTime: function (timeString, withDate) {\n            if (!this.inst) {\n                this.inst = $.datepicker._getInst(this.$input[0]);\n            }\n\n            if (withDate || !this._defaults.timeOnly) {\n                var dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\n                try {\n                    var parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\n                    if (!parseRes.timeObj) {\n                        return false;\n                    }\n                    $.extend(this, parseRes.timeObj);\n                } catch (err) {\n                    $.timepicker.log(\"Error parsing the date/time string: \" + err +\n                        \"\\ndate/time string = \" + timeString +\n                        \"\\ntimeFormat = \" + this._defaults.timeFormat +\n                        \"\\ndateFormat = \" + dp_dateFormat);\n                    return false;\n                }\n                return true;\n            } else {\n                var timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\n                if (!timeObj) {\n                    return false;\n                }\n                $.extend(this, timeObj);\n                return true;\n            }\n        },\n\n        /*\n        * Handle callback option after injecting timepicker\n        */\n        _afterInject: function() {\n            var o = this.inst.settings;\n            if ($.isFunction(o.afterInject)) {\n                o.afterInject.call(this);\n            }\n        },\n\n        /*\n        * generate and inject html for timepicker into ui datepicker\n        */\n        _injectTimePicker: function () {\n            var $dp = this.inst.dpDiv,\n                o = this.inst.settings,\n                tp_inst = this,\n                litem = '',\n                uitem = '',\n                show = null,\n                max = {},\n                gridSize = {},\n                size = null,\n                i = 0,\n                l = 0;\n\n            // Prevent displaying twice\n            if ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\n                var noDisplay = ' ui_tpicker_unit_hide',\n                    html = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + (o.oneLine && o.controlType === 'select' ? ' ui-timepicker-oneLine' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label' + ((o.showTime) ? '' : noDisplay) + '\">' + o.timeText + '</dt>' +\n                        '<dd class=\"ui_tpicker_time '+ ((o.showTime) ? '' : noDisplay) + '\"><input class=\"ui_tpicker_time_input\" ' + (o.timeInput ? '' : 'disabled') + '/></dd>';\n\n                // Create the markup\n                for (i = 0, l = this.units.length; i < l; i++) {\n                    litem = this.units[i];\n                    uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n                    show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n                    // Added by Peter Medeiros:\n                    // - Figure out what the hour/minute/second max should be based on the step values.\n                    // - Example: if stepMinute is 15, then minMax is 45.\n                    max[litem] = parseInt((o[litem + 'Max'] - ((o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem])), 10);\n                    gridSize[litem] = 0;\n\n                    html += '<dt class=\"ui_tpicker_' + litem + '_label' + (show ? '' : noDisplay) + '\">' + o[litem + 'Text'] + '</dt>' +\n                        '<dd class=\"ui_tpicker_' + litem + (show ? '' : noDisplay) + '\"><div class=\"ui_tpicker_' + litem + '_slider' + (show ? '' : noDisplay) + '\"></div>';\n\n                    if (show && o[litem + 'Grid'] > 0) {\n                        html += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\n\n                        if (litem === 'hour') {\n                            for (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\n                                gridSize[litem]++;\n                                var tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', {hour: h}, o);\n                                html += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\n                            }\n                        }\n                        else {\n                            for (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\n                                gridSize[litem]++;\n                                html += '<td data-for=\"' + litem + '\">' + ((m < 10) ? '0' : '') + m + '</td>';\n                            }\n                        }\n\n                        html += '</tr></table></div>';\n                    }\n                    html += '</dd>';\n                }\n\n                // Timezone\n                var showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\n                html += '<dt class=\"ui_tpicker_timezone_label' + (showTz ? '' : noDisplay) + '\">' + o.timezoneText + '</dt>';\n                html += '<dd class=\"ui_tpicker_timezone' + (showTz ? '' : noDisplay) + '\"></dd>';\n\n                // Create the elements from string\n                html += '</dl></div>';\n                var $tp = $(html);\n\n                // if we only want time picker...\n                if (o.timeOnly === true) {\n                    $tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\n                    $dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\n                }\n\n                // add sliders, adjust grids, add events\n                for (i = 0, l = tp_inst.units.length; i < l; i++) {\n                    litem = tp_inst.units[i];\n                    uitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\n                    show = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\n\n                    // add the slider\n                    tp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\n\n                    // adjust the grid and add click event\n                    if (show && o[litem + 'Grid'] > 0) {\n                        size = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\n                        $tp.find('.ui_tpicker_' + litem + ' table').css({\n                            width: size + \"%\",\n                            marginLeft: o.isRTL ? '0' : ((size / (-2 * gridSize[litem])) + \"%\"),\n                            marginRight: o.isRTL ? ((size / (-2 * gridSize[litem])) + \"%\") : '0',\n                            borderCollapse: 'collapse'\n                        }).find(\"td\").click(function (e) {\n                            var $t = $(this),\n                                h = $t.html(),\n                                n = parseInt(h.replace(/[^0-9]/g), 10),\n                                ap = h.replace(/[^apm]/ig),\n                                f = $t.data('for'); // loses scope, so we use data-for\n\n                            if (f === 'hour') {\n                                if (ap.indexOf('p') !== -1 && n < 12) {\n                                    n += 12;\n                                }\n                                else {\n                                    if (ap.indexOf('a') !== -1 && n === 12) {\n                                        n = 0;\n                                    }\n                                }\n                            }\n\n                            tp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\n\n                            tp_inst._onTimeChange();\n                            tp_inst._onSelectHandler();\n                        }).css({\n                            cursor: 'pointer',\n                            width: (100 / gridSize[litem]) + '%',\n                            textAlign: 'center',\n                            overflow: 'hidden'\n                        });\n                    } // end if grid > 0\n                } // end for loop\n\n                // Add timezone options\n                this.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\n                $.fn.append.apply(this.timezone_select,\n                    $.map(o.timezoneList, function (val, idx) {\n                        return $(\"<option />\").val(typeof val === \"object\" ? val.value : val).text(typeof val === \"object\" ? val.label : val);\n                    }));\n                if (typeof(this.timezone) !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\n                    var local_timezone = (new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12)).getTimezoneOffset() * -1;\n                    if (local_timezone === this.timezone) {\n                        selectLocalTimezone(tp_inst);\n                    } else {\n                        this.timezone_select.val(this.timezone);\n                    }\n                } else {\n                    if (typeof(this.hour) !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\n                        this.timezone_select.val(o.timezone);\n                    } else {\n                        selectLocalTimezone(tp_inst);\n                    }\n                }\n                this.timezone_select.change(function () {\n                    tp_inst._onTimeChange();\n                    tp_inst._onSelectHandler();\n                    tp_inst._afterInject();\n                });\n                // End timezone options\n\n                // inject timepicker into datepicker\n                var $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\n                if ($buttonPanel.length) {\n                    $buttonPanel.before($tp);\n                } else {\n                    $dp.append($tp);\n                }\n\n                this.$timeObj = $tp.find('.ui_tpicker_time_input');\n                this.$timeObj.change(function () {\n                    var timeFormat = tp_inst.inst.settings.timeFormat;\n                    var parsedTime = $.datepicker.parseTime(timeFormat, this.value);\n                    var update = new Date();\n                    if (parsedTime) {\n                        update.setHours(parsedTime.hour);\n                        update.setMinutes(parsedTime.minute);\n                        update.setSeconds(parsedTime.second);\n                        $.datepicker._setTime(tp_inst.inst, update);\n                    } else {\n                        this.value = tp_inst.formattedTime;\n                        this.blur();\n                    }\n                });\n\n                if (this.inst !== null) {\n                    var timeDefined = this.timeDefined;\n                    this._onTimeChange();\n                    this.timeDefined = timeDefined;\n                }\n\n                // slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\n                if (this._defaults.addSliderAccess) {\n                    var sliderAccessArgs = this._defaults.sliderAccessArgs,\n                        rtl = this._defaults.isRTL;\n                    sliderAccessArgs.isRTL = rtl;\n\n                    setTimeout(function () { // fix for inline mode\n                        if ($tp.find('.ui-slider-access').length === 0) {\n                            $tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\n\n                            // fix any grids since sliders are shorter\n                            var sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\n                            if (sliderAccessWidth) {\n                                $tp.find('table:visible').each(function () {\n                                    var $g = $(this),\n                                        oldWidth = $g.outerWidth(),\n                                        oldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\n                                        newWidth = oldWidth - sliderAccessWidth,\n                                        newMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%',\n                                        css = { width: newWidth, marginRight: 0, marginLeft: 0 };\n                                    css[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\n                                    $g.css(css);\n                                });\n                            }\n                        }\n                    }, 10);\n                }\n                // end slideAccess integration\n\n                tp_inst._limitMinMaxDateTime(this.inst, true);\n            }\n        },\n\n        /*\n        * This function tries to limit the ability to go outside the\n        * min/max date range\n        */\n        _limitMinMaxDateTime: function (dp_inst, adjustSliders) {\n            var o = this._defaults,\n                dp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\n\n            if (!this._defaults.showTimepicker) {\n                return;\n            } // No time so nothing to check here\n\n            if ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\n                var minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\n                    minDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\n\n                if (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\n                    this.hourMinOriginal = o.hourMin;\n                    this.minuteMinOriginal = o.minuteMin;\n                    this.secondMinOriginal = o.secondMin;\n                    this.millisecMinOriginal = o.millisecMin;\n                    this.microsecMinOriginal = o.microsecMin;\n                }\n\n                if (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\n                    this._defaults.hourMin = minDateTime.getHours();\n                    if (this.hour <= this._defaults.hourMin) {\n                        this.hour = this._defaults.hourMin;\n                        this._defaults.minuteMin = minDateTime.getMinutes();\n                        if (this.minute <= this._defaults.minuteMin) {\n                            this.minute = this._defaults.minuteMin;\n                            this._defaults.secondMin = minDateTime.getSeconds();\n                            if (this.second <= this._defaults.secondMin) {\n                                this.second = this._defaults.secondMin;\n                                this._defaults.millisecMin = minDateTime.getMilliseconds();\n                                if (this.millisec <= this._defaults.millisecMin) {\n                                    this.millisec = this._defaults.millisecMin;\n                                    this._defaults.microsecMin = minDateTime.getMicroseconds();\n                                } else {\n                                    if (this.microsec < this._defaults.microsecMin) {\n                                        this.microsec = this._defaults.microsecMin;\n                                    }\n                                    this._defaults.microsecMin = this.microsecMinOriginal;\n                                }\n                            } else {\n                                this._defaults.millisecMin = this.millisecMinOriginal;\n                                this._defaults.microsecMin = this.microsecMinOriginal;\n                            }\n                        } else {\n                            this._defaults.secondMin = this.secondMinOriginal;\n                            this._defaults.millisecMin = this.millisecMinOriginal;\n                            this._defaults.microsecMin = this.microsecMinOriginal;\n                        }\n                    } else {\n                        this._defaults.minuteMin = this.minuteMinOriginal;\n                        this._defaults.secondMin = this.secondMinOriginal;\n                        this._defaults.millisecMin = this.millisecMinOriginal;\n                        this._defaults.microsecMin = this.microsecMinOriginal;\n                    }\n                } else {\n                    this._defaults.hourMin = this.hourMinOriginal;\n                    this._defaults.minuteMin = this.minuteMinOriginal;\n                    this._defaults.secondMin = this.secondMinOriginal;\n                    this._defaults.millisecMin = this.millisecMinOriginal;\n                    this._defaults.microsecMin = this.microsecMinOriginal;\n                }\n            }\n\n            if ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\n                var maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\n                    maxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\n\n                if (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\n                    this.hourMaxOriginal = o.hourMax;\n                    this.minuteMaxOriginal = o.minuteMax;\n                    this.secondMaxOriginal = o.secondMax;\n                    this.millisecMaxOriginal = o.millisecMax;\n                    this.microsecMaxOriginal = o.microsecMax;\n                }\n\n                if (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\n                    this._defaults.hourMax = maxDateTime.getHours();\n                    if (this.hour >= this._defaults.hourMax) {\n                        this.hour = this._defaults.hourMax;\n                        this._defaults.minuteMax = maxDateTime.getMinutes();\n                        if (this.minute >= this._defaults.minuteMax) {\n                            this.minute = this._defaults.minuteMax;\n                            this._defaults.secondMax = maxDateTime.getSeconds();\n                            if (this.second >= this._defaults.secondMax) {\n                                this.second = this._defaults.secondMax;\n                                this._defaults.millisecMax = maxDateTime.getMilliseconds();\n                                if (this.millisec >= this._defaults.millisecMax) {\n                                    this.millisec = this._defaults.millisecMax;\n                                    this._defaults.microsecMax = maxDateTime.getMicroseconds();\n                                } else {\n                                    if (this.microsec > this._defaults.microsecMax) {\n                                        this.microsec = this._defaults.microsecMax;\n                                    }\n                                    this._defaults.microsecMax = this.microsecMaxOriginal;\n                                }\n                            } else {\n                                this._defaults.millisecMax = this.millisecMaxOriginal;\n                                this._defaults.microsecMax = this.microsecMaxOriginal;\n                            }\n                        } else {\n                            this._defaults.secondMax = this.secondMaxOriginal;\n                            this._defaults.millisecMax = this.millisecMaxOriginal;\n                            this._defaults.microsecMax = this.microsecMaxOriginal;\n                        }\n                    } else {\n                        this._defaults.minuteMax = this.minuteMaxOriginal;\n                        this._defaults.secondMax = this.secondMaxOriginal;\n                        this._defaults.millisecMax = this.millisecMaxOriginal;\n                        this._defaults.microsecMax = this.microsecMaxOriginal;\n                    }\n                } else {\n                    this._defaults.hourMax = this.hourMaxOriginal;\n                    this._defaults.minuteMax = this.minuteMaxOriginal;\n                    this._defaults.secondMax = this.secondMaxOriginal;\n                    this._defaults.millisecMax = this.millisecMaxOriginal;\n                    this._defaults.microsecMax = this.microsecMaxOriginal;\n                }\n            }\n\n            if (dp_inst.settings.minTime!==null) {\n                var tempMinTime=new Date(\"01/01/1970 \" + dp_inst.settings.minTime);\n                if (this.hour<tempMinTime.getHours()) {\n                    this.hour=this._defaults.hourMin=tempMinTime.getHours();\n                    this.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n                } else if (this.hour===tempMinTime.getHours() && this.minute<tempMinTime.getMinutes()) {\n                    this.minute=this._defaults.minuteMin=tempMinTime.getMinutes();\n                } else {\n                    if (this._defaults.hourMin<tempMinTime.getHours()) {\n                        this._defaults.hourMin=tempMinTime.getHours();\n                        this._defaults.minuteMin=tempMinTime.getMinutes();\n                    } else if (this._defaults.hourMin===tempMinTime.getHours()===this.hour && this._defaults.minuteMin<tempMinTime.getMinutes()) {\n                        this._defaults.minuteMin=tempMinTime.getMinutes();\n                    } else {\n                        this._defaults.minuteMin=0;\n                    }\n                }\n            }\n\n            if (dp_inst.settings.maxTime!==null) {\n                var tempMaxTime=new Date(\"01/01/1970 \" + dp_inst.settings.maxTime);\n                if (this.hour>tempMaxTime.getHours()) {\n                    this.hour=this._defaults.hourMax=tempMaxTime.getHours();\n                    this.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n                } else if (this.hour===tempMaxTime.getHours() && this.minute>tempMaxTime.getMinutes()) {\n                    this.minute=this._defaults.minuteMax=tempMaxTime.getMinutes();\n                } else {\n                    if (this._defaults.hourMax>tempMaxTime.getHours()) {\n                        this._defaults.hourMax=tempMaxTime.getHours();\n                        this._defaults.minuteMax=tempMaxTime.getMinutes();\n                    } else if (this._defaults.hourMax===tempMaxTime.getHours()===this.hour && this._defaults.minuteMax>tempMaxTime.getMinutes()) {\n                        this._defaults.minuteMax=tempMaxTime.getMinutes();\n                    } else {\n                        this._defaults.minuteMax=59;\n                    }\n                }\n            }\n\n            if (adjustSliders !== undefined && adjustSliders === true) {\n                var hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),\n                    minMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),\n                    secMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),\n                    millisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10),\n                    microsecMax = parseInt((this._defaults.microsecMax - ((this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec)), 10);\n\n                if (this.hour_slider) {\n                    this.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax, step: this._defaults.stepHour });\n                    this.control.value(this, this.hour_slider, 'hour', this.hour - (this.hour % this._defaults.stepHour));\n                }\n                if (this.minute_slider) {\n                    this.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax, step: this._defaults.stepMinute });\n                    this.control.value(this, this.minute_slider, 'minute', this.minute - (this.minute % this._defaults.stepMinute));\n                }\n                if (this.second_slider) {\n                    this.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax, step: this._defaults.stepSecond });\n                    this.control.value(this, this.second_slider, 'second', this.second - (this.second % this._defaults.stepSecond));\n                }\n                if (this.millisec_slider) {\n                    this.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax, step: this._defaults.stepMillisec });\n                    this.control.value(this, this.millisec_slider, 'millisec', this.millisec - (this.millisec % this._defaults.stepMillisec));\n                }\n                if (this.microsec_slider) {\n                    this.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax, step: this._defaults.stepMicrosec });\n                    this.control.value(this, this.microsec_slider, 'microsec', this.microsec - (this.microsec % this._defaults.stepMicrosec));\n                }\n            }\n\n        },\n\n        /*\n        * when a slider moves, set the internal time...\n        * on time change is also called when the time is updated in the text field\n        */\n        _onTimeChange: function () {\n            if (!this._defaults.showTimepicker) {\n                return;\n            }\n            var hour = (this.hour_slider) ? this.control.value(this, this.hour_slider, 'hour') : false,\n                minute = (this.minute_slider) ? this.control.value(this, this.minute_slider, 'minute') : false,\n                second = (this.second_slider) ? this.control.value(this, this.second_slider, 'second') : false,\n                millisec = (this.millisec_slider) ? this.control.value(this, this.millisec_slider, 'millisec') : false,\n                microsec = (this.microsec_slider) ? this.control.value(this, this.microsec_slider, 'microsec') : false,\n                timezone = (this.timezone_select) ? this.timezone_select.val() : false,\n                o = this._defaults,\n                pickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\n                pickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\n\n            if (typeof(hour) === 'object') {\n                hour = false;\n            }\n            if (typeof(minute) === 'object') {\n                minute = false;\n            }\n            if (typeof(second) === 'object') {\n                second = false;\n            }\n            if (typeof(millisec) === 'object') {\n                millisec = false;\n            }\n            if (typeof(microsec) === 'object') {\n                microsec = false;\n            }\n            if (typeof(timezone) === 'object') {\n                timezone = false;\n            }\n\n            if (hour !== false) {\n                hour = parseInt(hour, 10);\n            }\n            if (minute !== false) {\n                minute = parseInt(minute, 10);\n            }\n            if (second !== false) {\n                second = parseInt(second, 10);\n            }\n            if (millisec !== false) {\n                millisec = parseInt(millisec, 10);\n            }\n            if (microsec !== false) {\n                microsec = parseInt(microsec, 10);\n            }\n            if (timezone !== false) {\n                timezone = timezone.toString();\n            }\n\n            var ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\n\n            // If the update was done in the input field, the input field should not be updated.\n            // If the update was done using the sliders, update the input field.\n            var hasChanged = (\n                hour !== parseInt(this.hour,10) || // sliders should all be numeric\n                minute !== parseInt(this.minute,10) ||\n                second !== parseInt(this.second,10) ||\n                millisec !== parseInt(this.millisec,10) ||\n                microsec !== parseInt(this.microsec,10) ||\n                (this.ampm.length > 0 && (hour < 12) !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) ||\n                (this.timezone !== null && timezone !== this.timezone.toString()) // could be numeric or \"EST\" format, so use toString()\n            );\n\n            if (hasChanged) {\n\n                if (hour !== false) {\n                    this.hour = hour;\n                }\n                if (minute !== false) {\n                    this.minute = minute;\n                }\n                if (second !== false) {\n                    this.second = second;\n                }\n                if (millisec !== false) {\n                    this.millisec = millisec;\n                }\n                if (microsec !== false) {\n                    this.microsec = microsec;\n                }\n                if (timezone !== false) {\n                    this.timezone = timezone;\n                }\n\n                if (!this.inst) {\n                    this.inst = $.datepicker._getInst(this.$input[0]);\n                }\n\n                this._limitMinMaxDateTime(this.inst, true);\n            }\n            if (this.support.ampm) {\n                this.ampm = ampm;\n            }\n\n            // Updates the time within the timepicker\n            this.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\n            if (this.$timeObj) {\n                if (pickerTimeFormat === o.timeFormat) {\n                    this.$timeObj.val(this.formattedTime + pickerTimeSuffix);\n                }\n                else {\n                    this.$timeObj.val($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\n                }\n                if (this.$timeObj[0].setSelectionRange) {\n                    var sPos = this.$timeObj[0].selectionStart;\n                    var ePos = this.$timeObj[0].selectionEnd;\n                    this.$timeObj[0].setSelectionRange(sPos, ePos);\n                }\n            }\n\n            this.timeDefined = true;\n            if (hasChanged) {\n                this._updateDateTime();\n                //this.$input.focus(); // may automatically open the picker on setDate\n            }\n        },\n\n        /*\n        * call custom onSelect.\n        * bind to sliders slidestop, and grid click.\n        */\n        _onSelectHandler: function () {\n            var onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\n            var inputEl = this.$input ? this.$input[0] : null;\n            if (onSelect && inputEl) {\n                onSelect.apply(inputEl, [this.formattedDateTime, this]);\n            }\n        },\n\n        /*\n        * update our input with the new date time..\n        */\n        _updateDateTime: function (dp_inst) {\n            dp_inst = this.inst || dp_inst;\n            var dtTmp = (dp_inst.currentYear > 0?\n                new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) :\n                new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n                dt = $.datepicker._daylightSavingAdjust(dtTmp),\n                //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\n                //dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\n                dateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\n                formatCfg = $.datepicker._getFormatConfig(dp_inst),\n                timeAvailable = dt !== null && this.timeDefined;\n            this.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);\n            var formattedDateTime = this.formattedDate;\n\n            // if a slider was changed but datepicker doesn't have a value yet, set it\n            if (dp_inst.lastVal === \"\") {\n                dp_inst.currentYear = dp_inst.selectedYear;\n                dp_inst.currentMonth = dp_inst.selectedMonth;\n                dp_inst.currentDay = dp_inst.selectedDay;\n            }\n\n            /*\n            * remove following lines to force every changes in date picker to change the input value\n            * Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker.\n            * If the user manually empty the value in the input field, the date picker will never change selected value.\n            */\n            //if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\n            //\treturn;\n            //}\n\n            if (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === false) {\n                formattedDateTime = this.formattedTime;\n            } else if ((this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) || (this._defaults.timeOnly === true && this._defaults.timeOnlyShowDate === true)) {\n                formattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\n            }\n\n            this.formattedDateTime = formattedDateTime;\n\n            if (!this._defaults.showTimepicker) {\n                this.$input.val(this.formattedDate);\n            } else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\n                this.$altInput.val(this.formattedTime);\n                this.$input.val(this.formattedDate);\n            } else if (this.$altInput) {\n                this.$input.val(formattedDateTime);\n                var altFormattedDateTime = '',\n                    altSeparator = this._defaults.altSeparator !== null ? this._defaults.altSeparator : this._defaults.separator,\n                    altTimeSuffix = this._defaults.altTimeSuffix !== null ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\n\n                if (!this._defaults.timeOnly) {\n                    if (this._defaults.altFormat) {\n                        altFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, (dt === null ? new Date() : dt), formatCfg);\n                    }\n                    else {\n                        altFormattedDateTime = this.formattedDate;\n                    }\n\n                    if (altFormattedDateTime) {\n                        altFormattedDateTime += altSeparator;\n                    }\n                }\n\n                if (this._defaults.altTimeFormat !== null) {\n                    altFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\n                }\n                else {\n                    altFormattedDateTime += this.formattedTime + altTimeSuffix;\n                }\n                this.$altInput.val(altFormattedDateTime);\n            } else {\n                this.$input.val(formattedDateTime);\n            }\n\n            this.$input.trigger(\"change\");\n        },\n\n        _onFocus: function () {\n            if (!this.$input.val() && this._defaults.defaultValue) {\n                this.$input.val(this._defaults.defaultValue);\n                var inst = $.datepicker._getInst(this.$input.get(0)),\n                    tp_inst = $.datepicker._get(inst, 'timepicker');\n                if (tp_inst) {\n                    if (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n                        try {\n                            $.datepicker._updateDatepicker(inst);\n                        } catch (err) {\n                            $.timepicker.log(err);\n                        }\n                    }\n                }\n            }\n        },\n\n        /*\n        * Small abstraction to control types\n        * We can add more, just be sure to follow the pattern: create, options, value\n        */\n        _controls: {\n            // slider methods\n            slider: {\n                create: function (tp_inst, obj, unit, val, min, max, step) {\n                    var rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\n                    return obj.prop('slide', null).slider({\n                        orientation: \"horizontal\",\n                        value: rtl ? val * -1 : val,\n                        min: rtl ? max * -1 : min,\n                        max: rtl ? min * -1 : max,\n                        step: step,\n                        slide: function (event, ui) {\n                            tp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\n                            tp_inst._onTimeChange();\n                        },\n                        stop: function (event, ui) {\n                            tp_inst._onSelectHandler();\n                        }\n                    });\n                },\n                options: function (tp_inst, obj, unit, opts, val) {\n                    if (tp_inst._defaults.isRTL) {\n                        if (typeof(opts) === 'string') {\n                            if (opts === 'min' || opts === 'max') {\n                                if (val !== undefined) {\n                                    return obj.slider(opts, val * -1);\n                                }\n                                return Math.abs(obj.slider(opts));\n                            }\n                            return obj.slider(opts);\n                        }\n                        var min = opts.min,\n                            max = opts.max;\n                        opts.min = opts.max = null;\n                        if (min !== undefined) {\n                            opts.max = min * -1;\n                        }\n                        if (max !== undefined) {\n                            opts.min = max * -1;\n                        }\n                        return obj.slider(opts);\n                    }\n                    if (typeof(opts) === 'string' && val !== undefined) {\n                        return obj.slider(opts, val);\n                    }\n                    return obj.slider(opts);\n                },\n                value: function (tp_inst, obj, unit, val) {\n                    if (tp_inst._defaults.isRTL) {\n                        if (val !== undefined) {\n                            return obj.slider('value', val * -1);\n                        }\n                        return Math.abs(obj.slider('value'));\n                    }\n                    if (val !== undefined) {\n                        return obj.slider('value', val);\n                    }\n                    return obj.slider('value');\n                }\n            },\n            // select methods\n            select: {\n                create: function (tp_inst, obj, unit, val, min, max, step) {\n                    var sel = '<select class=\"ui-timepicker-select ui-state-default ui-corner-all\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\n                        format = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\n\n                    for (var i = min; i <= max; i += step) {\n                        sel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\n                        if (unit === 'hour') {\n                            sel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), {hour: i}, tp_inst._defaults);\n                        }\n                        else if (unit === 'millisec' || unit === 'microsec' || i >= 10) { sel += i; }\n                        else {sel += '0' + i.toString(); }\n                        sel += '</option>';\n                    }\n                    sel += '</select>';\n\n                    obj.children('select').remove();\n\n                    $(sel).appendTo(obj).change(function (e) {\n                        tp_inst._onTimeChange();\n                        tp_inst._onSelectHandler();\n                        tp_inst._afterInject();\n                    });\n\n                    return obj;\n                },\n                options: function (tp_inst, obj, unit, opts, val) {\n                    var o = {},\n                        $t = obj.children('select');\n                    if (typeof(opts) === 'string') {\n                        if (val === undefined) {\n                            return $t.data(opts);\n                        }\n                        o[opts] = val;\n                    }\n                    else { o = opts; }\n                    return tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min>=0 ? o.min : $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\n                },\n                value: function (tp_inst, obj, unit, val) {\n                    var $t = obj.children('select');\n                    if (val !== undefined) {\n                        return $t.val(val);\n                    }\n                    return $t.val();\n                }\n            }\n        } // end _controls\n\n    });\n\n    $.fn.extend({\n        /*\n        * shorthand just to use timepicker.\n        */\n        timepicker: function (o) {\n            o = o || {};\n            var tmp_args = Array.prototype.slice.call(arguments);\n\n            if (typeof o === 'object') {\n                tmp_args[0] = $.extend(o, {\n                    timeOnly: true\n                });\n            }\n\n            return $(this).each(function () {\n                $.fn.datetimepicker.apply($(this), tmp_args);\n            });\n        },\n\n        /*\n        * extend timepicker to datepicker\n        */\n        datetimepicker: function (o) {\n            o = o || {};\n            var tmp_args = arguments;\n\n            if (typeof(o) === 'string') {\n                if (o === 'getDate'  || (o === 'option' && tmp_args.length === 2 && typeof (tmp_args[1]) === 'string')) {\n                    return $.fn.datepicker.apply($(this[0]), tmp_args);\n                } else {\n                    return this.each(function () {\n                        var $t = $(this);\n                        $t.datepicker.apply($t, tmp_args);\n                    });\n                }\n            } else {\n                return this.each(function () {\n                    var $t = $(this);\n                    $t.datepicker($.timepicker._newInst($t, o)._defaults);\n                });\n            }\n        }\n    });\n\n    /*\n    * Public Utility to parse date and time\n    */\n    $.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n        var parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\n        if (parseRes.timeObj) {\n            var t = parseRes.timeObj;\n            parseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\n            parseRes.date.setMicroseconds(t.microsec);\n        }\n\n        return parseRes.date;\n    };\n\n    /*\n    * Public utility to parse time\n    */\n    $.datepicker.parseTime = function (timeFormat, timeString, options) {\n        var o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\n            iso8601 = (timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1);\n\n        // Strict parse requires the timeString to match the timeFormat exactly\n        var strictParse = function (f, s, o) {\n\n            // pattern for standard and localized AM/PM markers\n            var getPatternAmpm = function (amNames, pmNames) {\n                var markers = [];\n                if (amNames) {\n                    $.merge(markers, amNames);\n                }\n                if (pmNames) {\n                    $.merge(markers, pmNames);\n                }\n                markers = $.map(markers, function (val) {\n                    return val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\n                });\n                return '(' + markers.join('|') + ')?';\n            };\n\n            // figure out position of time elements.. cause js cant do named captures\n            var getFormatPositions = function (timeFormat) {\n                var finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\n                    orders = {\n                        h: -1,\n                        m: -1,\n                        s: -1,\n                        l: -1,\n                        c: -1,\n                        t: -1,\n                        z: -1\n                    };\n\n                if (finds) {\n                    for (var i = 0; i < finds.length; i++) {\n                        if (orders[finds[i].toString().charAt(0)] === -1) {\n                            orders[finds[i].toString().charAt(0)] = i + 1;\n                        }\n                    }\n                }\n                return orders;\n            };\n\n            var regstr = '^' + f.toString()\n                    .replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n                        var ml = match.length;\n                        switch (match.charAt(0).toLowerCase()) {\n                            case 'h':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 'm':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 's':\n                                return ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\n                            case 'l':\n                                return '(\\\\d?\\\\d?\\\\d)';\n                            case 'c':\n                                return '(\\\\d?\\\\d?\\\\d)';\n                            case 'z':\n                                return '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\n                            case 't':\n                                return getPatternAmpm(o.amNames, o.pmNames);\n                            default:    // literal escaped in quotes\n                                return '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) { return \"\\\\\" + m; }) + ')?';\n                        }\n                    })\n                    .replace(/\\s/g, '\\\\s?') +\n                o.timeSuffix + '$',\n                order = getFormatPositions(f),\n                ampm = '',\n                treg;\n\n            treg = s.match(new RegExp(regstr, 'i'));\n\n            var resTime = {\n                hour: 0,\n                minute: 0,\n                second: 0,\n                millisec: 0,\n                microsec: 0\n            };\n\n            if (treg) {\n                if (order.t !== -1) {\n                    if (treg[order.t] === undefined || treg[order.t].length === 0) {\n                        ampm = '';\n                        resTime.ampm = '';\n                    } else {\n                        ampm = $.inArray(treg[order.t].toUpperCase(), $.map(o.amNames, function (x,i) { return x.toUpperCase(); })) !== -1 ? 'AM' : 'PM';\n                        resTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\n                    }\n                }\n\n                if (order.h !== -1) {\n                    if (ampm === 'AM' && treg[order.h] === '12') {\n                        resTime.hour = 0; // 12am = 0 hour\n                    } else {\n                        if (ampm === 'PM' && treg[order.h] !== '12') {\n                            resTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\n                        } else {\n                            resTime.hour = Number(treg[order.h]);\n                        }\n                    }\n                }\n\n                if (order.m !== -1) {\n                    resTime.minute = Number(treg[order.m]);\n                }\n                if (order.s !== -1) {\n                    resTime.second = Number(treg[order.s]);\n                }\n                if (order.l !== -1) {\n                    resTime.millisec = Number(treg[order.l]);\n                }\n                if (order.c !== -1) {\n                    resTime.microsec = Number(treg[order.c]);\n                }\n                if (order.z !== -1 && treg[order.z] !== undefined) {\n                    resTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\n                }\n\n\n                return resTime;\n            }\n            return false;\n        };// end strictParse\n\n        // First try JS Date, if that fails, use strictParse\n        var looseParse = function (f, s, o) {\n            try {\n                var d = new Date('2012-01-01 ' + s);\n                if (isNaN(d.getTime())) {\n                    d = new Date('2012-01-01T' + s);\n                    if (isNaN(d.getTime())) {\n                        d = new Date('01/01/2012 ' + s);\n                        if (isNaN(d.getTime())) {\n                            throw \"Unable to parse time with native Date: \" + s;\n                        }\n                    }\n                }\n\n                return {\n                    hour: d.getHours(),\n                    minute: d.getMinutes(),\n                    second: d.getSeconds(),\n                    millisec: d.getMilliseconds(),\n                    microsec: d.getMicroseconds(),\n                    timezone: d.getTimezoneOffset() * -1\n                };\n            }\n            catch (err) {\n                try {\n                    return strictParse(f, s, o);\n                }\n                catch (err2) {\n                    $.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\n                }\n            }\n            return false;\n        }; // end looseParse\n\n        if (typeof o.parse === \"function\") {\n            return o.parse(timeFormat, timeString, o);\n        }\n        if (o.parse === 'loose') {\n            return looseParse(timeFormat, timeString, o);\n        }\n        return strictParse(timeFormat, timeString, o);\n    };\n\n    /**\n     * Public utility to format the time\n     * @param {string} format format of the time\n     * @param {Object} time Object not a Date for timezones\n     * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\n     * @returns {string} the formatted time\n     */\n    $.datepicker.formatTime = function (format, time, options) {\n        options = options || {};\n        options = $.extend({}, $.timepicker._defaults, options);\n        time = $.extend({\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisec: 0,\n            microsec: 0,\n            timezone: null\n        }, time);\n\n        var tmptime = format,\n            ampmName = options.amNames[0],\n            hour = parseInt(time.hour, 10);\n\n        if (hour > 11) {\n            ampmName = options.pmNames[0];\n        }\n\n        tmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\n            switch (match) {\n                case 'HH':\n                    return ('0' + hour).slice(-2);\n                case 'H':\n                    return hour;\n                case 'hh':\n                    return ('0' + convert24to12(hour)).slice(-2);\n                case 'h':\n                    return convert24to12(hour);\n                case 'mm':\n                    return ('0' + time.minute).slice(-2);\n                case 'm':\n                    return time.minute;\n                case 'ss':\n                    return ('0' + time.second).slice(-2);\n                case 's':\n                    return time.second;\n                case 'l':\n                    return ('00' + time.millisec).slice(-3);\n                case 'c':\n                    return ('00' + time.microsec).slice(-3);\n                case 'z':\n                    return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\n                case 'Z':\n                    return $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\n                case 'T':\n                    return ampmName.charAt(0).toUpperCase();\n                case 'TT':\n                    return ampmName.toUpperCase();\n                case 't':\n                    return ampmName.charAt(0).toLowerCase();\n                case 'tt':\n                    return ampmName.toLowerCase();\n                default:\n                    return match.replace(/'/g, \"\");\n            }\n        });\n\n        return tmptime;\n    };\n\n    /*\n    * the bad hack :/ override datepicker so it doesn't close on select\n    // inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\n    */\n    $.datepicker._base_selectDate = $.datepicker._selectDate;\n    $.datepicker._selectDate = function (id, dateStr) {\n        var inst = this._getInst($(id)[0]),\n            tp_inst = this._get(inst, 'timepicker'),\n            was_inline;\n\n        if (tp_inst && inst.settings.showTimepicker) {\n            tp_inst._limitMinMaxDateTime(inst, true);\n            was_inline = inst.inline;\n            inst.inline = inst.stay_open = true;\n            //This way the onSelect handler called from calendarpicker get the full dateTime\n            this._base_selectDate(id, dateStr);\n            inst.inline = was_inline;\n            inst.stay_open = false;\n            this._notifyChange(inst);\n            this._updateDatepicker(inst);\n        } else {\n            this._base_selectDate(id, dateStr);\n        }\n    };\n\n    /*\n    * second bad hack :/ override datepicker so it triggers an event when changing the input field\n    * and does not redraw the datepicker on every selectDate event\n    */\n    $.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\n    $.datepicker._updateDatepicker = function (inst) {\n\n        // don't popup the datepicker if there is another instance already opened\n        var input = inst.input[0];\n        if ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\n            return;\n        }\n\n        if (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {\n\n            this._base_updateDatepicker(inst);\n\n            // Reload the time control when changing something in the input text field.\n            var tp_inst = this._get(inst, 'timepicker');\n            if (tp_inst) {\n                tp_inst._addTimePicker(inst);\n            }\n        }\n    };\n\n    /*\n    * third bad hack :/ override datepicker so it allows spaces and colon in the input field\n    */\n    $.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\n    $.datepicker._doKeyPress = function (event) {\n        var inst = $.datepicker._getInst(event.target),\n            tp_inst = $.datepicker._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            if ($.datepicker._get(inst, 'constrainInput')) {\n                var ampm = tp_inst.support.ampm,\n                    tz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\n                    dateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\n                    datetimeChars = tp_inst._defaults.timeFormat.toString()\n                            .replace(/[hms]/g, '')\n                            .replace(/TT/g, ampm ? 'APM' : '')\n                            .replace(/Tt/g, ampm ? 'AaPpMm' : '')\n                            .replace(/tT/g, ampm ? 'AaPpMm' : '')\n                            .replace(/T/g, ampm ? 'AP' : '')\n                            .replace(/tt/g, ampm ? 'apm' : '')\n                            .replace(/t/g, ampm ? 'ap' : '') +\n                        \" \" + tp_inst._defaults.separator +\n                        tp_inst._defaults.timeSuffix +\n                        (tz ? tp_inst._defaults.timezoneList.join('') : '') +\n                        (tp_inst._defaults.amNames.join('')) + (tp_inst._defaults.pmNames.join('')) +\n                        dateChars,\n                    chr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\n                return event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);\n            }\n        }\n\n        return $.datepicker._base_doKeyPress(event);\n    };\n\n    /*\n    * Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\n    * Update any alternate field to synchronise with the main field.\n    */\n    $.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\n    $.datepicker._updateAlternate = function (inst) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var altField = tp_inst._defaults.altField;\n            if (altField) { // update alternate field too\n                var altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\n                    date = this._getDate(inst),\n                    formatCfg = $.datepicker._getFormatConfig(inst),\n                    altFormattedDateTime = '',\n                    altSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator,\n                    altTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\n                    altTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\n\n                altFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\n                if (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\n                    if (tp_inst._defaults.altFormat) {\n                        altFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\n                    }\n                    else {\n                        altFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\n                    }\n                }\n                $(altField).val( inst.input.val() ? altFormattedDateTime : \"\");\n            }\n        }\n        else {\n            $.datepicker._base_updateAlternate(inst);\n        }\n    };\n\n    /*\n    * Override key up event to sync manual input changes.\n    */\n    $.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\n    $.datepicker._doKeyUp = function (event) {\n        var inst = $.datepicker._getInst(event.target),\n            tp_inst = $.datepicker._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            if (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\n                try {\n                    $.datepicker._updateDatepicker(inst);\n                } catch (err) {\n                    $.timepicker.log(err);\n                }\n            }\n        }\n\n        return $.datepicker._base_doKeyUp(event);\n    };\n\n    /*\n    * override \"Today\" button to also grab the time and set it to input field.\n    */\n    $.datepicker._base_gotoToday = $.datepicker._gotoToday;\n    $.datepicker._gotoToday = function (id) {\n        var inst = this._getInst($(id)[0]);\n        this._base_gotoToday(id);\n        var tp_inst = this._get(inst, 'timepicker');\n        if (!tp_inst) {\n            return;\n        }\n\n        var tzoffset = $.timepicker.timezoneOffsetNumber(tp_inst.timezone);\n        var now = new Date();\n        now.setMinutes(now.getMinutes() + now.getTimezoneOffset() + parseInt(tzoffset, 10));\n        this._setTime(inst, now);\n        this._setDate(inst, now);\n        tp_inst._onSelectHandler();\n    };\n\n    /*\n    * Disable & enable the Time in the datetimepicker\n    */\n    $.datepicker._disableTimepickerDatepicker = function (target) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n        if (tp_inst) {\n            inst.settings.showTimepicker = false;\n            tp_inst._defaults.showTimepicker = false;\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    $.datepicker._enableTimepickerDatepicker = function (target) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        $(target).datepicker('getDate'); // Init selected[Year|Month|Day]\n        if (tp_inst) {\n            inst.settings.showTimepicker = true;\n            tp_inst._defaults.showTimepicker = true;\n            tp_inst._addTimePicker(inst); // Could be disabled on page load\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    /*\n    * Create our own set time function\n    */\n    $.datepicker._setTime = function (inst, date) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var defaults = tp_inst._defaults;\n\n            // calling _setTime with no date sets time to defaults\n            tp_inst.hour = date ? date.getHours() : defaults.hour;\n            tp_inst.minute = date ? date.getMinutes() : defaults.minute;\n            tp_inst.second = date ? date.getSeconds() : defaults.second;\n            tp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\n            tp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\n\n            //check if within min/max times..\n            tp_inst._limitMinMaxDateTime(inst, true);\n\n            tp_inst._onTimeChange();\n            tp_inst._updateDateTime(inst);\n        }\n    };\n\n    /*\n    * Create new public method to set only time, callable as $().datepicker('setTime', date)\n    */\n    $.datepicker._setTimeDatepicker = function (target, date, withDate) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            this._setDateFromField(inst);\n            var tp_date;\n            if (date) {\n                if (typeof date === \"string\") {\n                    tp_inst._parseTime(date, withDate);\n                    tp_date = new Date();\n                    tp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n                    tp_date.setMicroseconds(tp_inst.microsec);\n                } else {\n                    tp_date = new Date(date.getTime());\n                    tp_date.setMicroseconds(date.getMicroseconds());\n                }\n                if (tp_date.toString() === 'Invalid Date') {\n                    tp_date = undefined;\n                }\n                this._setTime(inst, tp_date);\n            }\n        }\n\n    };\n\n    /*\n    * override setDate() to allow setting time too within Date object\n    */\n    $.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\n    $.datepicker._setDateDatepicker = function (target, _date) {\n        var inst = this._getInst(target);\n        var date = _date;\n        if (!inst) {\n            return;\n        }\n\n        if (typeof(_date) === 'string') {\n            date = new Date(_date);\n            if (!date.getTime()) {\n                this._base_setDateDatepicker.apply(this, arguments);\n                date = $(target).datepicker('getDate');\n            }\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        var tp_date;\n        if (date instanceof Date) {\n            tp_date = new Date(date.getTime());\n            tp_date.setMicroseconds(date.getMicroseconds());\n        } else {\n            tp_date = date;\n        }\n\n        // This is important if you are using the timezone option, javascript's Date\n        // object will only return the timezone offset for the current locale, so we\n        // adjust it accordingly.  If not using timezone option this won't matter..\n        // If a timezone is different in tp, keep the timezone as is\n        if (tp_inst && tp_date) {\n            // look out for DST if tz wasn't specified\n            if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n                tp_inst.timezone = tp_date.getTimezoneOffset() * -1;\n            }\n            date = $.timepicker.timezoneAdjust(date, $.timepicker.timezoneOffsetString(-date.getTimezoneOffset()), tp_inst.timezone);\n            tp_date = $.timepicker.timezoneAdjust(tp_date, $.timepicker.timezoneOffsetString(-tp_date.getTimezoneOffset()), tp_inst.timezone);\n        }\n\n        this._updateDatepicker(inst);\n        this._base_setDateDatepicker.apply(this, arguments);\n        this._setTimeDatepicker(target, tp_date, true);\n    };\n\n    /*\n    * override getDate() to allow getting time too within Date object\n    */\n    $.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\n    $.datepicker._getDateDatepicker = function (target, noDefault) {\n        var inst = this._getInst(target);\n        if (!inst) {\n            return;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n\n        if (tp_inst) {\n            // if it hasn't yet been defined, grab from field\n            if (inst.lastVal === undefined) {\n                this._setDateFromField(inst, noDefault);\n            }\n\n            var date = this._getDate(inst);\n\n            var currDT = null;\n\n            if (tp_inst.$altInput && tp_inst._defaults.altFieldTimeOnly) {\n                currDT = tp_inst.$input.val() + ' ' + tp_inst.$altInput.val();\n            }\n            else if (tp_inst.$input.get(0).tagName !== 'INPUT' && tp_inst.$altInput) {\n                /**\n                 * in case the datetimepicker has been applied to a non-input tag for inline UI,\n                 * and the user has not configured the plugin to display only time in altInput,\n                 * pick current date time from the altInput (and hope for the best, for now, until \"ER1\" is applied)\n                 *\n                 * @todo ER1. Since altInput can have a totally difference format, convert it to standard format by reading input format from \"altFormat\" and \"altTimeFormat\" option values\n                 */\n                currDT = tp_inst.$altInput.val();\n            }\n            else {\n                currDT = tp_inst.$input.val();\n            }\n\n            if (date && tp_inst._parseTime(currDT, !inst.settings.timeOnly)) {\n                date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\n                date.setMicroseconds(tp_inst.microsec);\n\n                // This is important if you are using the timezone option, javascript's Date\n                // object will only return the timezone offset for the current locale, so we\n                // adjust it accordingly.  If not using timezone option this won't matter..\n                if (tp_inst.timezone != null) {\n                    // look out for DST if tz wasn't specified\n                    if (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\n                        tp_inst.timezone = date.getTimezoneOffset() * -1;\n                    }\n                    date = $.timepicker.timezoneAdjust(date, tp_inst.timezone, $.timepicker.timezoneOffsetString(-date.getTimezoneOffset()));\n                }\n            }\n            return date;\n        }\n        return this._base_getDateDatepicker(target, noDefault);\n    };\n\n    /*\n    * override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\n    * An option in datapicker to ignore extra format characters would be nicer.\n    */\n    $.datepicker._base_parseDate = $.datepicker.parseDate;\n    $.datepicker.parseDate = function (format, value, settings) {\n        var date;\n        try {\n            date = this._base_parseDate(format, value, settings);\n        } catch (err) {\n            // Hack!  The error message ends with a colon, a space, and\n            // the \"extra\" characters.  We rely on that instead of\n            // attempting to perfectly reproduce the parsing algorithm.\n            if (err.indexOf(\":\") >= 0) {\n                date = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\n                $.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\n            } else {\n                throw err;\n            }\n        }\n        return date;\n    };\n\n    /*\n    * override formatDate to set date with time to the input\n    */\n    $.datepicker._base_formatDate = $.datepicker._formatDate;\n    $.datepicker._formatDate = function (inst, day, month, year) {\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            tp_inst._updateDateTime(inst);\n            return tp_inst.$input.val();\n        }\n        return this._base_formatDate(inst);\n    };\n\n    /*\n    * override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\n    */\n    $.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\n    $.datepicker._optionDatepicker = function (target, name, value) {\n        var inst = this._getInst(target),\n            name_clone;\n        if (!inst) {\n            return null;\n        }\n\n        var tp_inst = this._get(inst, 'timepicker');\n        if (tp_inst) {\n            var min = null,\n                max = null,\n                onselect = null,\n                overrides = tp_inst._defaults.evnts,\n                fns = {},\n                prop,\n                ret,\n                oldVal,\n                $target;\n            if (typeof name === 'string') { // if min/max was set with the string\n                if (name === 'minDate' || name === 'minDateTime') {\n                    min = value;\n                } else if (name === 'maxDate' || name === 'maxDateTime') {\n                    max = value;\n                } else if (name === 'onSelect') {\n                    onselect = value;\n                } else if (overrides.hasOwnProperty(name)) {\n                    if (typeof (value) === 'undefined') {\n                        return overrides[name];\n                    }\n                    fns[name] = value;\n                    name_clone = {}; //empty results in exiting function after overrides updated\n                }\n            } else if (typeof name === 'object') { //if min/max was set with the JSON\n                if (name.minDate) {\n                    min = name.minDate;\n                } else if (name.minDateTime) {\n                    min = name.minDateTime;\n                } else if (name.maxDate) {\n                    max = name.maxDate;\n                } else if (name.maxDateTime) {\n                    max = name.maxDateTime;\n                }\n                for (prop in overrides) {\n                    if (overrides.hasOwnProperty(prop) && name[prop]) {\n                        fns[prop] = name[prop];\n                    }\n                }\n            }\n            for (prop in fns) {\n                if (fns.hasOwnProperty(prop)) {\n                    overrides[prop] = fns[prop];\n                    if (!name_clone) { name_clone = $.extend({}, name); }\n                    delete name_clone[prop];\n                }\n            }\n            if (name_clone && isEmptyObject(name_clone)) { return; }\n            if (min) { //if min was set\n                if (min === 0) {\n                    min = new Date();\n                } else {\n                    min = new Date(min);\n                }\n                tp_inst._defaults.minDate = min;\n                tp_inst._defaults.minDateTime = min;\n            } else if (max) { //if max was set\n                if (max === 0) {\n                    max = new Date();\n                } else {\n                    max = new Date(max);\n                }\n                tp_inst._defaults.maxDate = max;\n                tp_inst._defaults.maxDateTime = max;\n            } else if (onselect) {\n                tp_inst._defaults.onSelect = onselect;\n            }\n\n            // Datepicker will override our date when we call _base_optionDatepicker when\n            // calling minDate/maxDate, so we will first grab the value, call\n            // _base_optionDatepicker, then set our value back.\n            if(min || max){\n                $target = $(target);\n                oldVal = $target.datetimepicker('getDate');\n                ret = this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n                $target.datetimepicker('setDate', oldVal);\n                return ret;\n            }\n        }\n        if (value === undefined) {\n            return this._base_optionDatepicker.call($.datepicker, target, name);\n        }\n        return this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\n    };\n\n    /*\n    * jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\n    * it will return false for all objects\n    */\n    var isEmptyObject = function (obj) {\n        var prop;\n        for (prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    /*\n    * jQuery extend now ignores nulls!\n    */\n    var extendRemove = function (target, props) {\n        $.extend(target, props);\n        for (var name in props) {\n            if (props[name] === null || props[name] === undefined) {\n                target[name] = props[name];\n            }\n        }\n        return target;\n    };\n\n    /*\n    * Determine by the time format which units are supported\n    * Returns an object of booleans for each unit\n    */\n    var detectSupport = function (timeFormat) {\n        var tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\n            isIn = function (f, t) { // does the format contain the token?\n                return f.indexOf(t) !== -1 ? true : false;\n            };\n        return {\n            hour: isIn(tf, 'h'),\n            minute: isIn(tf, 'm'),\n            second: isIn(tf, 's'),\n            millisec: isIn(tf, 'l'),\n            microsec: isIn(tf, 'c'),\n            timezone: isIn(tf, 'z'),\n            ampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\n            iso8601: isIn(timeFormat, 'Z')\n        };\n    };\n\n    /*\n    * Converts 24 hour format into 12 hour\n    * Returns 12 hour without leading 0\n    */\n    var convert24to12 = function (hour) {\n        hour %= 12;\n\n        if (hour === 0) {\n            hour = 12;\n        }\n\n        return String(hour);\n    };\n\n    var computeEffectiveSetting = function (settings, property) {\n        return settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\n    };\n\n    /*\n    * Splits datetime string into date and time substrings.\n    * Throws exception when date can't be parsed\n    * Returns {dateString: dateString, timeString: timeString}\n    */\n    var splitDateTime = function (dateTimeString, timeSettings) {\n        // The idea is to get the number separator occurrences in datetime and the time format requested (since time has\n        // fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\n        var separator = computeEffectiveSetting(timeSettings, 'separator'),\n            format = computeEffectiveSetting(timeSettings, 'timeFormat'),\n            timeParts = format.split(separator), // how many occurrences of separator may be in our format?\n            timePartsLen = timeParts.length,\n            allParts = dateTimeString.split(separator),\n            allPartsLen = allParts.length;\n\n        if (allPartsLen > 1) {\n            return {\n                dateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\n                timeString: allParts.splice(0, timePartsLen).join(separator)\n            };\n        }\n\n        return {\n            dateString: dateTimeString,\n            timeString: ''\n        };\n    };\n\n    /*\n    * Internal function to parse datetime interval\n    * Returns: {date: Date, timeObj: Object}, where\n    *   date - parsed date without time (type Date)\n    *   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\n    */\n    var parseDateTimeInternal = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\n        var date,\n            parts,\n            parsedTime;\n\n        parts = splitDateTime(dateTimeString, timeSettings);\n        date = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\n\n        if (parts.timeString === '') {\n            return {\n                date: date\n            };\n        }\n\n        parsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\n\n        if (!parsedTime) {\n            throw 'Wrong time format';\n        }\n\n        return {\n            date: date,\n            timeObj: parsedTime\n        };\n    };\n\n    /*\n    * Internal function to set timezone_select to the local timezone\n    */\n    var selectLocalTimezone = function (tp_inst, date) {\n        if (tp_inst && tp_inst.timezone_select) {\n            var now = date || new Date();\n            tp_inst.timezone_select.val(-now.getTimezoneOffset());\n        }\n    };\n\n    /*\n    * Create a Singleton Instance\n    */\n    $.timepicker = new Timepicker();\n\n    /**\n     * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\n     * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\n     * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\n     * @return {string}\n     */\n    $.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\n        if (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\n            return tzMinutes;\n        }\n\n        var off = tzMinutes,\n            minutes = off % 60,\n            hours = (off - minutes) / 60,\n            iso = iso8601 ? ':' : '',\n            tz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\n\n        if (tz === '+00:00') {\n            return 'Z';\n        }\n        return tz;\n    };\n\n    /**\n     * Get the number in minutes that represents a timezone string\n     * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\n     * @return {number} the offset minutes or the original string if it doesn't match expectations\n     */\n    $.timepicker.timezoneOffsetNumber = function (tzString) {\n        var normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\n\n        if (normalized.toUpperCase() === 'Z') { // if iso8601 with Z, its 0 minute offset\n            return 0;\n        }\n\n        if (!/^(\\-|\\+)\\d{4}$/.test(normalized)) { // possibly a user defined tz, so just give it back\n            return parseInt(tzString, 10);\n        }\n\n        return ((normalized.substr(0, 1) === '-' ? -1 : 1) * // plus or minus\n            ((parseInt(normalized.substr(1, 2), 10) * 60) + // hours (converted to minutes)\n                parseInt(normalized.substr(3, 2), 10))); // minutes\n    };\n\n    /**\n     * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\n     * @param  {Date} date\n     * @param  {string} fromTimezone formatted like \"+0500\", \"-1245\"\n     * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\n     * @return {Date}\n     */\n    $.timepicker.timezoneAdjust = function (date, fromTimezone, toTimezone) {\n        var fromTz = $.timepicker.timezoneOffsetNumber(fromTimezone);\n        var toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\n        if (!isNaN(toTz)) {\n            date.setMinutes(date.getMinutes() + (-fromTz) - (-toTz));\n        }\n        return date;\n    };\n\n    /**\n     * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * n.b. The input value must be correctly formatted (reformatting is not supported)\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the timepicker() call\n     * @return {jQuery}\n     */\n    $.timepicker.timeRange = function (startTime, endTime, options) {\n        return $.timepicker.handleRange('timepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @param  {string} method Can be used to specify the type of picker to be added\n     * @return {jQuery}\n     */\n    $.timepicker.datetimeRange = function (startTime, endTime, options) {\n        $.timepicker.handleRange('datetimepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @return {jQuery}\n     */\n    $.timepicker.dateRange = function (startTime, endTime, options) {\n        $.timepicker.handleRange('datepicker', startTime, endTime, options);\n    };\n\n    /**\n     * Calls `method` on the `startTime` and `endTime` elements, and configures them to\n     * enforce date range limits.\n     * @param  {string} method Can be used to specify the type of picker to be added\n     * @param  {Element} startTime\n     * @param  {Element} endTime\n     * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\n     *   a boolean value that can be used to reformat the input values to the `dateFormat`.\n     * @return {jQuery}\n     */\n    $.timepicker.handleRange = function (method, startTime, endTime, options) {\n        options = $.extend({}, {\n            minInterval: 0, // min allowed interval in milliseconds\n            maxInterval: 0, // max allowed interval in milliseconds\n            start: {},      // options for start picker\n            end: {}         // options for end picker\n        }, options);\n\n        // for the mean time this fixes an issue with calling getDate with timepicker()\n        var timeOnly = false;\n        if(method === 'timepicker'){\n            timeOnly = true;\n            method = 'datetimepicker';\n        }\n\n        function checkDates(changed, other) {\n            var startdt = startTime[method]('getDate'),\n                enddt = endTime[method]('getDate'),\n                changeddt = changed[method]('getDate');\n\n            if (startdt !== null) {\n                var minDate = new Date(startdt.getTime()),\n                    maxDate = new Date(startdt.getTime());\n\n                minDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\n                maxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\n\n                if (options.minInterval > 0 && minDate > enddt) { // minInterval check\n                    endTime[method]('setDate', minDate);\n                }\n                else if (options.maxInterval > 0 && maxDate < enddt) { // max interval check\n                    endTime[method]('setDate', maxDate);\n                }\n                else if (startdt > enddt) {\n                    other[method]('setDate', changeddt);\n                }\n            }\n        }\n\n        function selected(changed, other, option) {\n            if (!changed.val()) {\n                return;\n            }\n            var date = changed[method].call(changed, 'getDate');\n            if (date !== null && options.minInterval > 0) {\n                if (option === 'minDate') {\n                    date.setMilliseconds(date.getMilliseconds() + options.minInterval);\n                }\n                if (option === 'maxDate') {\n                    date.setMilliseconds(date.getMilliseconds() - options.minInterval);\n                }\n            }\n\n            if (date.getTime) {\n                other[method].call(other, 'option', option, date);\n            }\n        }\n\n        $.fn[method].call(startTime, $.extend({\n            timeOnly: timeOnly,\n            onClose: function (dateText, inst) {\n                checkDates($(this), endTime);\n            },\n            onSelect: function (selectedDateTime) {\n                selected($(this), endTime, 'minDate');\n            }\n        }, options, options.start));\n        $.fn[method].call(endTime, $.extend({\n            timeOnly: timeOnly,\n            onClose: function (dateText, inst) {\n                checkDates($(this), startTime);\n            },\n            onSelect: function (selectedDateTime) {\n                selected($(this), startTime, 'maxDate');\n            }\n        }, options, options.end));\n\n        checkDates(startTime, endTime);\n\n        selected(startTime, endTime, 'minDate');\n        selected(endTime, startTime, 'maxDate');\n\n        return $([startTime.get(0), endTime.get(0)]);\n    };\n\n    /**\n     * Log error or data to the console during error or debugging\n     * @param  {Object} err pass any type object to log to the console during error or debugging\n     * @return {void}\n     */\n    $.timepicker.log = function () {\n        // Older IE (9, maybe 10) throw error on accessing `window.console.log.apply`, so check first.\n        if (window.console && window.console.log && window.console.log.apply) {\n            window.console.log.apply(window.console, Array.prototype.slice.call(arguments));\n        }\n    };\n\n    /*\n     * Add util object to allow access to private methods for testability.\n     */\n    $.timepicker._util = {\n        _extendRemove: extendRemove,\n        _isEmptyObject: isEmptyObject,\n        _convert24to12: convert24to12,\n        _detectSupport: detectSupport,\n        _selectLocalTimezone: selectLocalTimezone,\n        _computeEffectiveSetting: computeEffectiveSetting,\n        _splitDateTime: splitDateTime,\n        _parseDateTimeInternal: parseDateTimeInternal\n    };\n\n    /*\n    * Microsecond support\n    */\n    if (!Date.prototype.getMicroseconds) {\n        Date.prototype.microseconds = 0;\n        Date.prototype.getMicroseconds = function () { return this.microseconds; };\n        Date.prototype.setMicroseconds = function (m) {\n            this.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\n            this.microseconds = m % 1000;\n            return this;\n        };\n    }\n\n    /*\n    * Keep up with the version\n    */\n    $.timepicker.version = \"1.6.3\";\n\n}));\n","jquery/jquery.tabs.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    \"jquery\",\n    \"jquery/bootstrap/tab\",\n    \"jquery/bootstrap/collapse\",\n], function () {\n\n});\n","jquery/jquery.validate.js":"/*!\n * jQuery Validation Plugin v1.20.0\n *\n * https://jqueryvalidation.org/\n *\n * Copyright (c) 2023 J\u00f6rn Zaefferer\n * Released under the MIT license\n */\n(function( factory ) {\n    if ( typeof define === \"function\" && define.amd ) {\n        define( [\"jquery\", \"jquery/jquery.metadata\"], factory );\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory( require( \"jquery\" ) );\n    } else {\n        factory( jQuery );\n    }\n}(function( $ ) {\n\n    $.extend( $.fn, {\n\n        // https://jqueryvalidation.org/validate/\n        validate: function( options ) {\n\n            // If nothing is selected, return nothing; can't chain anyway\n            if ( !this.length ) {\n                if ( options && options.debug && window.console ) {\n                    console.warn( \"Nothing selected, can't validate, returning nothing.\" );\n                }\n                return;\n            }\n\n            // Check if a validator for this form was already created\n            var validator = $.data( this[ 0 ], \"validator\" );\n            if ( validator ) {\n                return validator;\n            }\n\n            // Add novalidate tag if HTML5.\n            this.attr( \"novalidate\", \"novalidate\" );\n\n            validator = new $.validator( options, this[ 0 ] );\n            $.data( this[ 0 ], \"validator\", validator );\n\n            if ( validator.settings.onsubmit ) {\n\n                this.on( \"click.validate\", \":submit\", function( event ) {\n\n                    // Track the used submit button to properly handle scripted\n                    // submits later.\n                    validator.submitButton = event.currentTarget;\n\n                    // Allow suppressing validation by adding a cancel class to the submit button\n                    if ( $( this ).hasClass( \"cancel\" ) ) {\n                        validator.cancelSubmit = true;\n                    }\n\n                    // Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n                    if ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n                        validator.cancelSubmit = true;\n                    }\n                } );\n\n                // Validate the form on submit\n                this.on( \"submit.validate\", function( event ) {\n                    if ( validator.settings.debug ) {\n\n                        // Prevent form submit to be able to see console output\n                        event.preventDefault();\n                    }\n\n                    function handle() {\n                        var hidden, result;\n\n                        // Insert a hidden input as a replacement for the missing submit button\n                        // The hidden input is inserted in two cases:\n                        //   - A user defined a `submitHandler`\n                        //   - There was a pending request due to `remote` method and `stopRequest()`\n                        //     was called to submit the form in case it's valid\n                        if ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {\n                            hidden = $( \"<input type='hidden'/>\" )\n                                .attr( \"name\", validator.submitButton.name )\n                                .val( $( validator.submitButton ).val() )\n                                .appendTo( validator.currentForm );\n                        }\n\n                        if ( validator.settings.submitHandler && !validator.settings.debug ) {\n                            result = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n                            if ( hidden ) {\n\n                                // And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n                                hidden.remove();\n                            }\n                            if ( result !== undefined ) {\n                                return result;\n                            }\n                            return false;\n                        }\n                        return true;\n                    }\n\n                    // Prevent submit for invalid forms or custom submit handlers\n                    if ( validator.cancelSubmit ) {\n                        validator.cancelSubmit = false;\n                        return handle();\n                    }\n                    if ( validator.form() ) {\n                        if ( validator.pendingRequest ) {\n                            validator.formSubmitted = true;\n                            return false;\n                        }\n                        return handle();\n                    } else {\n                        validator.focusInvalid();\n                        return false;\n                    }\n                } );\n            }\n\n            return validator;\n        },\n\n        // https://jqueryvalidation.org/valid/\n        valid: function() {\n            var valid, validator, errorList;\n\n            if ( $( this[ 0 ] ).is( \"form\" ) ) {\n                valid = this.validate().form();\n            } else {\n                errorList = [];\n                valid = true;\n                validator = $( this[ 0 ].form ).validate();\n                this.each( function() {\n                    valid = validator.element( this ) && valid;\n                    if ( !valid ) {\n                        errorList = errorList.concat( validator.errorList );\n                    }\n                } );\n                validator.errorList = errorList;\n            }\n            return valid;\n        },\n\n        // https://jqueryvalidation.org/rules/\n        rules: function( command, argument ) {\n            var element = this[ 0 ],\n                isContentEditable = typeof this.attr( \"contenteditable\" ) !== \"undefined\" && this.attr( \"contenteditable\" ) !== \"false\",\n                settings, staticRules, existingRules, data, param, filtered;\n\n            // If nothing is selected, return empty object; can't chain anyway\n            if ( element == null ) {\n                return;\n            }\n\n            if ( !element.form && isContentEditable ) {\n                element.form = this.closest( \"form\" )[ 0 ];\n                element.name = this.attr( \"name\" );\n            }\n\n            if ( element.form == null ) {\n                return;\n            }\n\n            if ( command ) {\n                settings = $.data( element.form, \"validator\" ).settings;\n                staticRules = settings.rules;\n                existingRules = $.validator.staticRules( element );\n                switch ( command ) {\n                    case \"add\":\n                        $.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n                        // Remove messages from rules, but allow them to be set separately\n                        delete existingRules.messages;\n                        staticRules[ element.name ] = existingRules;\n                        if ( argument.messages ) {\n                            settings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n                        }\n                        break;\n                    case \"remove\":\n                        if ( !argument ) {\n                            delete staticRules[ element.name ];\n                            return existingRules;\n                        }\n                        filtered = {};\n                        $.each( argument.split( /\\s/ ), function( index, method ) {\n                            filtered[ method ] = existingRules[ method ];\n                            delete existingRules[ method ];\n                        } );\n                        return filtered;\n                }\n            }\n\n            data = $.validator.normalizeRules(\n                $.extend(\n                    {},\n                    $.validator.metadataRules(element),\n                    $.validator.classRules( element ),\n                    $.validator.attributeRules( element ),\n                    $.validator.dataRules( element ),\n                    $.validator.staticRules( element )\n                ), element );\n\n            // Make sure required is at front\n            if ( data.required ) {\n                param = data.required;\n                delete data.required;\n                data = $.extend( { required: param }, data );\n            }\n\n            // Make sure remote is at back\n            if ( data.remote ) {\n                param = data.remote;\n                delete data.remote;\n                data = $.extend( data, { remote: param } );\n            }\n\n            return data;\n        }\n    } );\n\n// JQuery trim is deprecated, provide a trim method based on String.prototype.trim\n    var trim = function( str ) {\n\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim#Polyfill\n        return str.replace( /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\" );\n    };\n\n// Custom selectors\n    $.extend( $.expr.pseudos || $.expr[ \":\" ], {\t\t// '|| $.expr[ \":\" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support\n\n        // https://jqueryvalidation.org/blank-selector/\n        blank: function( a ) {\n            return !trim( \"\" + $( a ).val() );\n        },\n\n        // https://jqueryvalidation.org/filled-selector/\n        filled: function( a ) {\n            var val = $( a ).val();\n            return val !== null && !!trim( \"\" + val );\n        },\n\n        // https://jqueryvalidation.org/unchecked-selector/\n        unchecked: function( a ) {\n            return !$( a ).prop( \"checked\" );\n        }\n    } );\n\n// Constructor for validator\n    $.validator = function( options, form ) {\n        this.settings = $.extend( true, {}, $.validator.defaults, options );\n        this.currentForm = form;\n        this.init();\n    };\n\n// https://jqueryvalidation.org/jQuery.validator.format/\n    $.validator.format = function( source, params ) {\n        if ( arguments.length === 1 ) {\n            return function() {\n                var args = $.makeArray( arguments );\n                args.unshift( source );\n                return $.validator.format.apply( this, args );\n            };\n        }\n        if ( params === undefined ) {\n            return source;\n        }\n        if ( arguments.length > 2 && params.constructor !== Array  ) {\n            params = $.makeArray( arguments ).slice( 1 );\n        }\n        if ( params.constructor !== Array ) {\n            params = [ params ];\n        }\n        $.each( params, function( i, n ) {\n            source = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n                return n;\n            } );\n        } );\n        return source;\n    };\n\n    $.extend( $.validator, {\n\n        defaults: {\n            messages: {},\n            groups: {},\n            rules: {},\n            errorClass: \"error\",\n            pendingClass: \"pending\",\n            validClass: \"valid\",\n            errorElement: \"label\",\n            focusCleanup: false,\n            focusInvalid: true,\n            errorContainer: $( [] ),\n            errorLabelContainer: $( [] ),\n            onsubmit: true,\n            ignore: \":hidden\",\n            ignoreTitle: false,\n            onfocusin: function( element ) {\n                this.lastActive = element;\n\n                // Hide error label and remove error class on focus if enabled\n                if ( this.settings.focusCleanup ) {\n                    if ( this.settings.unhighlight ) {\n                        this.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n                    }\n                    this.hideThese( this.errorsFor( element ) );\n                }\n            },\n            onfocusout: function( element ) {\n                if ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n                    this.element( element );\n                }\n            },\n            onkeyup: function( element, event ) {\n\n                // Avoid revalidate the field when pressing one of the following keys\n                // Shift       => 16\n                // Ctrl        => 17\n                // Alt         => 18\n                // Caps lock   => 20\n                // End         => 35\n                // Home        => 36\n                // Left arrow  => 37\n                // Up arrow    => 38\n                // Right arrow => 39\n                // Down arrow  => 40\n                // Insert      => 45\n                // Num lock    => 144\n                // AltGr key   => 225\n                var excludedKeys = [\n                    16, 17, 18, 20, 35, 36, 37,\n                    38, 39, 40, 45, 144, 225\n                ];\n\n                if ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n                    return;\n                } else if ( element.name in this.submitted || element.name in this.invalid ) {\n                    this.element( element );\n                }\n            },\n            onclick: function( element ) {\n\n                // Click on selects, radiobuttons and checkboxes\n                if ( element.name in this.submitted ) {\n                    this.element( element );\n\n                    // Or option elements, check parent select in that case\n                } else if ( element.parentNode.name in this.submitted ) {\n                    this.element( element.parentNode );\n                }\n            },\n            highlight: function( element, errorClass, validClass ) {\n                if ( element.type === \"radio\" ) {\n                    this.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n                } else {\n                    $( element ).addClass( errorClass ).removeClass( validClass );\n                }\n            },\n            unhighlight: function( element, errorClass, validClass ) {\n                if ( element.type === \"radio\" ) {\n                    this.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n                } else {\n                    $( element ).removeClass( errorClass ).addClass( validClass );\n                }\n            }\n        },\n\n        // https://jqueryvalidation.org/jQuery.validator.setDefaults/\n        setDefaults: function( settings ) {\n            $.extend( $.validator.defaults, settings );\n        },\n\n        messages: {\n            required: \"This field is required.\",\n            remote: \"Please fix this field.\",\n            email: \"Please enter a valid email address.\",\n            url: \"Please enter a valid URL.\",\n            date: \"Please enter a valid date.\",\n            dateISO: \"Please enter a valid date (ISO).\",\n            number: \"Please enter a valid number.\",\n            digits: \"Please enter only digits.\",\n            equalTo: \"Please enter the same value again.\",\n            maxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n            minlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n            rangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n            range: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n            max: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n            min: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n            step: $.validator.format( \"Please enter a multiple of {0}.\" )\n        },\n\n        autoCreateRanges: false,\n\n        prototype: {\n\n            init: function() {\n                this.labelContainer = $( this.settings.errorLabelContainer );\n                this.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n                this.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n                this.submitted = {};\n                this.valueCache = {};\n                this.pendingRequest = 0;\n                this.pending = {};\n                this.invalid = {};\n                this.reset();\n\n                var currentForm = this.currentForm,\n                    groups = ( this.groups = {} ),\n                    rules;\n                $.each( this.settings.groups, function( key, value ) {\n                    if ( typeof value === \"string\" ) {\n                        value = value.split( /\\s/ );\n                    }\n                    $.each( value, function( index, name ) {\n                        groups[ name ] = key;\n                    } );\n                } );\n                rules = this.settings.rules;\n                $.each( rules, function( key, value ) {\n                    rules[ key ] = $.validator.normalizeRule( value );\n                } );\n\n                function delegate( event ) {\n                    var isContentEditable = typeof $( this ).attr( \"contenteditable\" ) !== \"undefined\" && $( this ).attr( \"contenteditable\" ) !== \"false\";\n\n                    // Set form expando on contenteditable\n                    if ( !this.form && isContentEditable ) {\n                        this.form = $( this ).closest( \"form\" )[ 0 ];\n                        this.name = $( this ).attr( \"name\" );\n                    }\n\n                    // Ignore the element if it belongs to another form. This will happen mainly\n                    // when setting the `form` attribute of an input to the id of another form.\n                    if ( currentForm !== this.form ) {\n                        return;\n                    }\n\n                    var validator = $.data( this.form, \"validator\" ),\n                        eventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n                        settings = validator.settings;\n                    if ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n                        settings[ eventType ].call( validator, this, event );\n                    }\n                }\n\n                $( this.currentForm )\n                    .on( \"focusin.validate focusout.validate keyup.validate\",\n                        \":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n                        \"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n                        \"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n                        \"[type='radio'], [type='checkbox'], [contenteditable], [type='button']\", delegate )\n\n                    // Support: Chrome, oldIE\n                    // \"select\" is provided as event.target when clicking a option\n                    .on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n                if ( this.settings.invalidHandler ) {\n                    $( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n                }\n            },\n\n            // https://jqueryvalidation.org/Validator.form/\n            form: function() {\n                this.checkForm();\n                $.extend( this.submitted, this.errorMap );\n                this.invalid = $.extend( {}, this.errorMap );\n                if ( !this.valid() ) {\n                    $( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n                }\n                this.showErrors();\n                return this.valid();\n            },\n\n            checkForm: function() {\n                this.prepareForm();\n                for ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n                    this.check( elements[ i ] );\n                }\n                return this.valid();\n            },\n\n            // https://jqueryvalidation.org/Validator.element/\n            element: function( element ) {\n                var cleanElement = this.clean( element ),\n                    checkElement = this.validationTargetFor( cleanElement ),\n                    v = this,\n                    result = true,\n                    rs, group;\n\n                if ( checkElement === undefined ) {\n                    delete this.invalid[ cleanElement.name ];\n                } else {\n                    this.prepareElement( checkElement );\n                    this.currentElements = $( checkElement );\n\n                    // If this element is grouped, then validate all group elements already\n                    // containing a value\n                    group = this.groups[ checkElement.name ];\n                    if ( group ) {\n                        $.each( this.groups, function( name, testgroup ) {\n                            if ( testgroup === group && name !== checkElement.name ) {\n                                cleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n                                if ( cleanElement && cleanElement.name in v.invalid ) {\n                                    v.currentElements.push( cleanElement );\n                                    result = v.check( cleanElement ) && result;\n                                }\n                            }\n                        } );\n                    }\n\n                    rs = this.check( checkElement ) !== false;\n                    result = result && rs;\n                    if ( rs ) {\n                        this.invalid[ checkElement.name ] = false;\n                    } else {\n                        this.invalid[ checkElement.name ] = true;\n                    }\n\n                    if ( !this.numberOfInvalids() ) {\n\n                        // Hide error containers on last error\n                        this.toHide = this.toHide.add( this.containers );\n                    }\n                    this.showErrors();\n\n                    // Add aria-invalid status for screen readers\n                    $( element ).attr( \"aria-invalid\", !rs );\n                }\n\n                return result;\n            },\n\n            // https://jqueryvalidation.org/Validator.showErrors/\n            showErrors: function( errors ) {\n                if ( errors ) {\n                    var validator = this;\n\n                    // Add items to error list and map\n                    $.extend( this.errorMap, errors );\n                    this.errorList = $.map( this.errorMap, function( message, name ) {\n                        return {\n                            message: message,\n                            element: validator.findByName( name )[ 0 ]\n                        };\n                    } );\n\n                    // Remove items from success list\n                    this.successList = $.grep( this.successList, function( element ) {\n                        return !( element.name in errors );\n                    } );\n                }\n                if ( this.settings.showErrors ) {\n                    this.settings.showErrors.call( this, this.errorMap, this.errorList );\n                } else {\n                    this.defaultShowErrors();\n                }\n            },\n\n            // https://jqueryvalidation.org/Validator.resetForm/\n            resetForm: function() {\n                if ( $.fn.resetForm ) {\n                    $( this.currentForm ).resetForm();\n                }\n                this.invalid = {};\n                this.submitted = {};\n                this.prepareForm();\n                this.hideErrors();\n                var elements = this.elements()\n                    .removeData( \"previousValue\" )\n                    .removeAttr( \"aria-invalid\" );\n\n                this.resetElements( elements );\n            },\n\n            resetElements: function( elements ) {\n                var i;\n\n                if ( this.settings.unhighlight ) {\n                    for ( i = 0; elements[ i ]; i++ ) {\n                        this.settings.unhighlight.call( this, elements[ i ],\n                            this.settings.errorClass, \"\" );\n                        this.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n                    }\n                } else {\n                    elements\n                        .removeClass( this.settings.errorClass )\n                        .removeClass( this.settings.validClass );\n                }\n            },\n\n            numberOfInvalids: function() {\n                return this.objectLength( this.invalid );\n            },\n\n            objectLength: function( obj ) {\n                /* jshint unused: false */\n                var count = 0,\n                    i;\n                for ( i in obj ) {\n\n                    // This check allows counting elements with empty error\n                    // message as invalid elements\n                    if ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {\n                        count++;\n                    }\n                }\n                return count;\n            },\n\n            hideErrors: function() {\n                this.hideThese( this.toHide );\n            },\n\n            hideThese: function( errors ) {\n                errors.not( this.containers ).text( \"\" );\n                this.addWrapper( errors ).hide();\n            },\n\n            valid: function() {\n                return this.size() === 0;\n            },\n\n            size: function() {\n                return this.errorList.length;\n            },\n\n            focusInvalid: function() {\n                if ( this.settings.focusInvalid ) {\n                    try {\n                        $( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n                            .filter( \":visible\" )\n                            .trigger( \"focus\" )\n\n                            // Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n                            .trigger( \"focusin\" );\n                    } catch ( e ) {\n\n                        // Ignore IE throwing errors when focusing hidden elements\n                    }\n                }\n            },\n\n            findLastActive: function() {\n                var lastActive = this.lastActive;\n                return lastActive && $.grep( this.errorList, function( n ) {\n                    return n.element.name === lastActive.name;\n                } ).length === 1 && lastActive;\n            },\n\n            elements: function() {\n                var validator = this,\n                    rulesCache = {};\n\n                // Select all valid inputs inside the form (no submit or reset buttons)\n                return $( this.currentForm )\n                    .find( \"input, select, textarea, [contenteditable]\" )\n                    .not( \":submit, :reset, :image, :disabled\" )\n                    .not( this.settings.ignore )\n                    .filter( function() {\n                        var name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n                        var isContentEditable = typeof $( this ).attr( \"contenteditable\" ) !== \"undefined\" && $( this ).attr( \"contenteditable\" ) !== \"false\";\n\n                        if ( !name && validator.settings.debug && window.console ) {\n                            console.error( \"%o has no name assigned\", this );\n                        }\n\n                        // Set form expando on contenteditable\n                        if ( isContentEditable ) {\n                            this.form = $( this ).closest( \"form\" )[ 0 ];\n                            this.name = name;\n                        }\n\n                        // Ignore elements that belong to other/nested forms\n                        if ( this.form !== validator.currentForm ) {\n                            return false;\n                        }\n\n                        // Select only the first element for each name, and only those with rules specified\n                        if ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n                            return false;\n                        }\n\n                        rulesCache[ name ] = true;\n                        return true;\n                    } );\n            },\n\n            clean: function( selector ) {\n                return $( selector )[ 0 ];\n            },\n\n            errors: function() {\n                var errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n                return $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n            },\n\n            resetInternals: function() {\n                this.successList = [];\n                this.errorList = [];\n                this.errorMap = {};\n                this.toShow = $( [] );\n                this.toHide = $( [] );\n            },\n\n            reset: function() {\n                this.resetInternals();\n                this.currentElements = $( [] );\n            },\n\n            prepareForm: function() {\n                this.reset();\n                this.toHide = this.errors().add( this.containers );\n            },\n\n            prepareElement: function( element ) {\n                this.reset();\n                this.toHide = this.errorsFor( element );\n            },\n\n            elementValue: function( element ) {\n                var $element = $( element ),\n                    type = element.type,\n                    isContentEditable = typeof $element.attr( \"contenteditable\" ) !== \"undefined\" && $element.attr( \"contenteditable\" ) !== \"false\",\n                    val, idx;\n\n                if ( type === \"radio\" || type === \"checkbox\" ) {\n                    return this.findByName( element.name ).filter( \":checked\" ).val();\n                } else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n                    return element.validity.badInput ? \"NaN\" : $element.val();\n                }\n\n                if ( isContentEditable ) {\n                    val = $element.text();\n                } else {\n                    val = $element.val();\n                }\n\n                if ( type === \"file\" ) {\n\n                    // Modern browser (chrome & safari)\n                    if ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n                        return val.substr( 12 );\n                    }\n\n                    // Legacy browsers\n                    // Unix-based path\n                    idx = val.lastIndexOf( \"/\" );\n                    if ( idx >= 0 ) {\n                        return val.substr( idx + 1 );\n                    }\n\n                    // Windows-based path\n                    idx = val.lastIndexOf( \"\\\\\" );\n                    if ( idx >= 0 ) {\n                        return val.substr( idx + 1 );\n                    }\n\n                    // Just the file name\n                    return val;\n                }\n\n                if ( typeof val === \"string\" ) {\n                    return val.replace( /\\r/g, \"\" );\n                }\n                return val;\n            },\n\n            check: function( element ) {\n                element = this.validationTargetFor( this.clean( element ) );\n\n                var rules = $( element ).rules(),\n                    rulesCount = $.map( rules, function( n, i ) {\n                        return i;\n                    } ).length,\n                    dependencyMismatch = false,\n                    val = this.elementValue( element ),\n                    result, method, rule, normalizer;\n\n                // Abort any pending Ajax request from a previous call to this method.\n                this.abortRequest( element );\n\n                // Prioritize the local normalizer defined for this element over the global one\n                // if the former exists, otherwise user the global one in case it exists.\n                if ( typeof rules.normalizer === \"function\" ) {\n                    normalizer = rules.normalizer;\n                } else if (\ttypeof this.settings.normalizer === \"function\" ) {\n                    normalizer = this.settings.normalizer;\n                }\n\n                // If normalizer is defined, then call it to the changed value instead\n                // of using the real one.\n                // Note that `this` in the normalizer is `element`.\n                if ( normalizer ) {\n                    val = normalizer.call( element, val );\n\n                    // Delete the normalizer from rules to avoid treating it as a pre-defined method.\n                    delete rules.normalizer;\n                }\n\n                for ( method in rules ) {\n                    rule = { method: method, parameters: rules[ method ] };\n                    try {\n                        result = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n                        // If a method indicates that the field is optional and therefore valid,\n                        // don't mark it as valid when there are no other rules\n                        if ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n                            dependencyMismatch = true;\n                            continue;\n                        }\n                        dependencyMismatch = false;\n\n                        if ( result === \"pending\" ) {\n                            this.toHide = this.toHide.not( this.errorsFor( element ) );\n                            return;\n                        }\n\n                        if ( !result ) {\n                            this.formatAndAdd( element, rule );\n                            return false;\n                        }\n                    } catch ( e ) {\n                        if ( this.settings.debug && window.console ) {\n                            console.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n                        }\n                        if ( e instanceof TypeError ) {\n                            e.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n                        }\n\n                        throw e;\n                    }\n                }\n                if ( dependencyMismatch ) {\n                    return;\n                }\n                if ( this.objectLength( rules ) ) {\n                    this.successList.push( element );\n                }\n                return true;\n            },\n\n            // Return the custom message for the given element and validation method\n            // specified in the element's HTML5 data attribute\n            // return the generic message if present and no method specific message is present\n            customDataMessage: function( element, method ) {\n                return $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n                    method.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n            },\n\n            // Return the custom message for the given element name and validation method\n            customMessage: function( name, method ) {\n                var m = this.settings.messages[ name ];\n                return m && ( m.constructor === String ? m : m[ method ] );\n            },\n\n            // Return the first defined argument, allowing empty strings\n            findDefined: function() {\n                for ( var i = 0; i < arguments.length; i++ ) {\n                    if ( arguments[ i ] !== undefined ) {\n                        return arguments[ i ];\n                    }\n                }\n                return undefined;\n            },\n\n            // The second parameter 'rule' used to be a string, and extended to an object literal\n            // of the following form:\n            // rule = {\n            //     method: \"method name\",\n            //     parameters: \"the given method parameters\"\n            // }\n            //\n            // The old behavior still supported, kept to maintain backward compatibility with\n            // old code, and will be removed in the next major release.\n            defaultMessage: function( element, rule ) {\n                if ( typeof rule === \"string\" ) {\n                    rule = { method: rule };\n                }\n\n                var message = this.findDefined(\n                        this.customMessage( element.name, rule.method ),\n                        this.customDataMessage( element, rule.method ),\n\n                        // 'title' is never undefined, so handle empty string as undefined\n                        !this.settings.ignoreTitle && element.title || undefined,\n                        $.validator.messages[ rule.method ],\n                        \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n                    ),\n                    theregex = /\\$?\\{(\\d+)\\}/g;\n                if ( typeof message === \"function\" ) {\n                    message = message.call( this, rule.parameters, element );\n                } else if ( theregex.test( message ) ) {\n                    message = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n                }\n\n                return message;\n            },\n\n            formatAndAdd: function( element, rule ) {\n                var message = this.defaultMessage( element, rule );\n\n                this.errorList.push( {\n                    message: message,\n                    element: element,\n                    method: rule.method\n                } );\n\n                this.errorMap[ element.name ] = message;\n                this.submitted[ element.name ] = message;\n            },\n\n            addWrapper: function( toToggle ) {\n                if ( this.settings.wrapper ) {\n                    toToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n                }\n                return toToggle;\n            },\n\n            defaultShowErrors: function() {\n                var i, elements, error;\n                for ( i = 0; this.errorList[ i ]; i++ ) {\n                    error = this.errorList[ i ];\n                    if ( this.settings.highlight ) {\n                        this.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n                    }\n                    this.showLabel( error.element, error.message );\n                }\n                if ( this.errorList.length ) {\n                    this.toShow = this.toShow.add( this.containers );\n                }\n                if ( this.settings.success ) {\n                    for ( i = 0; this.successList[ i ]; i++ ) {\n                        this.showLabel( this.successList[ i ] );\n                    }\n                }\n                if ( this.settings.unhighlight ) {\n                    for ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n                        this.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n                    }\n                }\n                this.toHide = this.toHide.not( this.toShow );\n                this.hideErrors();\n                this.addWrapper( this.toShow ).show();\n            },\n\n            validElements: function() {\n                return this.currentElements.not( this.invalidElements() );\n            },\n\n            invalidElements: function() {\n                return $( this.errorList ).map( function() {\n                    return this.element;\n                } );\n            },\n\n            showLabel: function( element, message ) {\n                var place, group, errorID, v,\n                    error = this.errorsFor( element ),\n                    elementID = this.idOrName( element ),\n                    describedBy = $( element ).attr( \"aria-describedby\" );\n\n                if ( error.length ) {\n\n                    // Refresh error/success class\n                    error.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n                    // Replace message on existing label\n                    if ( this.settings && this.settings.escapeHtml ) {\n                        error.text( message || \"\" );\n                    } else {\n                        error.html( message || \"\" );\n                    }\n                } else {\n\n                    // Create error element\n                    error = $( \"<\" + this.settings.errorElement + \">\" )\n                        .attr( \"id\", elementID + \"-error\" )\n                        .addClass( this.settings.errorClass );\n\n                    if ( this.settings && this.settings.escapeHtml ) {\n                        error.text( message || \"\" );\n                    } else {\n                        error.html( message || \"\" );\n                    }\n\n                    // Maintain reference to the element to be placed into the DOM\n                    place = error;\n                    if ( this.settings.wrapper ) {\n\n                        // Make sure the element is visible, even in IE\n                        // actually showing the wrapped element is handled elsewhere\n                        place = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n                    }\n                    if ( this.labelContainer.length ) {\n                        this.labelContainer.append( place );\n                    } else if ( this.settings.errorPlacement ) {\n                        this.settings.errorPlacement.call( this, place, $( element ) );\n                    } else {\n                        place.insertAfter( element );\n                    }\n\n                    // Link error back to the element\n                    if ( error.is( \"label\" ) ) {\n\n                        // If the error is a label, then associate using 'for'\n                        error.attr( \"for\", elementID );\n\n                        // If the element is not a child of an associated label, then it's necessary\n                        // to explicitly apply aria-describedby\n                    } else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n                        errorID = error.attr( \"id\" );\n\n                        // Respect existing non-error aria-describedby\n                        if ( !describedBy ) {\n                            describedBy = errorID;\n                        } else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n                            // Add to end of list if not already present\n                            describedBy += \" \" + errorID;\n                        }\n                        $( element ).attr( \"aria-describedby\", describedBy );\n\n                        // If this element is grouped, then assign to all elements in the same group\n                        group = this.groups[ element.name ];\n                        if ( group ) {\n                            v = this;\n                            $.each( v.groups, function( name, testgroup ) {\n                                if ( testgroup === group ) {\n                                    $( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n                                        .attr( \"aria-describedby\", error.attr( \"id\" ) );\n                                }\n                            } );\n                        }\n                    }\n                }\n                if ( !message && this.settings.success ) {\n                    error.text( \"\" );\n                    if ( typeof this.settings.success === \"string\" ) {\n                        error.addClass( this.settings.success );\n                    } else {\n                        this.settings.success( error, element );\n                    }\n                }\n                this.toShow = this.toShow.add( error );\n            },\n\n            errorsFor: function( element ) {\n                var name = this.escapeCssMeta( this.idOrName( element ) ),\n                    describer = $( element ).attr( \"aria-describedby\" ),\n                    selector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n                // 'aria-describedby' should directly reference the error element\n                if ( describer ) {\n                    selector = selector + \", #\" + this.escapeCssMeta( describer )\n                        .replace( /\\s+/g, \", #\" );\n                }\n\n                return this\n                    .errors()\n                    .filter( selector );\n            },\n\n            // See https://api.jquery.com/category/selectors/, for CSS\n            // meta-characters that should be escaped in order to be used with JQuery\n            // as a literal part of a name/id or any selector.\n            escapeCssMeta: function( string ) {\n                if ( string === undefined ) {\n                    return \"\";\n                }\n\n                return string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n            },\n\n            idOrName: function( element ) {\n                return this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n            },\n\n            validationTargetFor: function( element ) {\n\n                // If radio/checkbox, validate first element in group instead\n                if ( this.checkable( element ) ) {\n                    element = this.findByName( element.name );\n                }\n\n                // Always apply ignore filter\n                return $( element ).not( this.settings.ignore )[ 0 ];\n            },\n\n            checkable: function( element ) {\n                return ( /radio|checkbox/i ).test( element.type );\n            },\n\n            findByName: function( name ) {\n                return $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n            },\n\n            getLength: function( value, element ) {\n                switch ( element.nodeName.toLowerCase() ) {\n                    case \"select\":\n                        return $( \"option:selected\", element ).length;\n                    case \"input\":\n                        if ( this.checkable( element ) ) {\n                            return this.findByName( element.name ).filter( \":checked\" ).length;\n                        }\n                }\n                return value.length;\n            },\n\n            depend: function( param, element ) {\n                return this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n            },\n\n            dependTypes: {\n                \"boolean\": function( param ) {\n                    return param;\n                },\n                \"string\": function( param, element ) {\n                    return !!$( param, element.form ).length;\n                },\n                \"function\": function( param, element ) {\n                    return param( element );\n                }\n            },\n\n            optional: function( element ) {\n                var val = this.elementValue( element );\n                return !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n            },\n\n            elementAjaxPort: function( element ) {\n                return \"validate\" + element.name;\n            },\n\n            startRequest: function( element ) {\n                if ( !this.pending[ element.name ] ) {\n                    this.pendingRequest++;\n                    $( element ).addClass( this.settings.pendingClass );\n                    this.pending[ element.name ] = true;\n                }\n            },\n\n            stopRequest: function( element, valid ) {\n                this.pendingRequest--;\n\n                // Sometimes synchronization fails, make sure pendingRequest is never < 0\n                if ( this.pendingRequest < 0 ) {\n                    this.pendingRequest = 0;\n                }\n                delete this.pending[ element.name ];\n                $( element ).removeClass( this.settings.pendingClass );\n                if ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() && this.pendingRequest === 0 ) {\n                    $( this.currentForm ).trigger( \"submit\" );\n\n                    // Remove the hidden input that was used as a replacement for the\n                    // missing submit button. The hidden input is added by `handle()`\n                    // to ensure that the value of the used submit button is passed on\n                    // for scripted submits triggered by this method\n                    if ( this.submitButton ) {\n                        $( \"input:hidden[name='\" + this.submitButton.name + \"']\", this.currentForm ).remove();\n                    }\n\n                    this.formSubmitted = false;\n                } else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n                    $( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n                    this.formSubmitted = false;\n                }\n            },\n\n            abortRequest: function( element ) {\n                var port;\n\n                if ( this.pending[ element.name ] ) {\n                    port = this.elementAjaxPort( element );\n                    $.ajaxAbort( port );\n\n                    this.pendingRequest--;\n\n                    // Sometimes synchronization fails, make sure pendingRequest is never < 0\n                    if ( this.pendingRequest < 0 ) {\n                        this.pendingRequest = 0;\n                    }\n\n                    delete this.pending[ element.name ];\n                    $( element ).removeClass( this.settings.pendingClass );\n                }\n            },\n\n            previousValue: function( element, method ) {\n                method = typeof method === \"string\" && method || \"remote\";\n\n                return $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n                    old: null,\n                    valid: true,\n                    message: this.defaultMessage( element, { method: method } )\n                } );\n            },\n\n            // Cleans up all forms and elements, removes validator-specific events\n            destroy: function() {\n                this.resetForm();\n\n                $( this.currentForm )\n                    .off( \".validate\" )\n                    .removeData( \"validator\" )\n                    .find( \".validate-equalTo-blur\" )\n                    .off( \".validate-equalTo\" )\n                    .removeClass( \"validate-equalTo-blur\" )\n                    .find( \".validate-lessThan-blur\" )\n                    .off( \".validate-lessThan\" )\n                    .removeClass( \"validate-lessThan-blur\" )\n                    .find( \".validate-lessThanEqual-blur\" )\n                    .off( \".validate-lessThanEqual\" )\n                    .removeClass( \"validate-lessThanEqual-blur\" )\n                    .find( \".validate-greaterThanEqual-blur\" )\n                    .off( \".validate-greaterThanEqual\" )\n                    .removeClass( \"validate-greaterThanEqual-blur\" )\n                    .find( \".validate-greaterThan-blur\" )\n                    .off( \".validate-greaterThan\" )\n                    .removeClass( \"validate-greaterThan-blur\" );\n            }\n\n        },\n\n        classRuleSettings: {\n            required: { required: true },\n            email: { email: true },\n            url: { url: true },\n            date: { date: true },\n            dateISO: { dateISO: true },\n            number: { number: true },\n            digits: { digits: true },\n            creditcard: { creditcard: true }\n        },\n\n        addClassRules: function( className, rules ) {\n            if ( className.constructor === String ) {\n                this.classRuleSettings[ className ] = rules;\n            } else {\n                $.extend( this.classRuleSettings, className );\n            }\n        },\n\n        classRules: function( element ) {\n            var rules = {},\n                classes = $( element ).attr( \"class\" );\n\n            if ( classes ) {\n                $.each( classes.split( \" \" ), function() {\n                    if ( this in $.validator.classRuleSettings ) {\n                        $.extend( rules, $.validator.classRuleSettings[ this ] );\n                    }\n                } );\n            }\n            return rules;\n        },\n\n        normalizeAttributeRule: function( rules, type, method, value ) {\n\n            // Convert the value to a number for number inputs, and for text for backwards compability\n            // allows type=\"date\" and others to be compared as strings\n            if ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n                value = Number( value );\n\n                // Support Opera Mini, which returns NaN for undefined minlength\n                if ( isNaN( value ) ) {\n                    value = undefined;\n                }\n            }\n\n            if ( value || value === 0 ) {\n                rules[ method ] = value;\n            } else if ( type === method && type !== \"range\" ) {\n\n                // Exception: the jquery validate 'range' method\n                // does not test for the html5 'range' type\n                rules[ type === \"date\" ? \"dateISO\" : method ] = true;\n            }\n        },\n\n        attributeRules: function( element ) {\n            var rules = {},\n                $element = $( element ),\n                type = element.getAttribute( \"type\" ),\n                method, value;\n\n            for ( method in $.validator.methods ) {\n\n                // Support for <input required> in both html5 and older browsers\n                if ( method === \"required\" ) {\n                    value = element.getAttribute( method );\n\n                    // Some browsers return an empty string for the required attribute\n                    // and non-HTML5 browsers might have required=\"\" markup\n                    if ( value === \"\" ) {\n                        value = true;\n                    }\n\n                    // Force non-HTML5 browsers to return bool\n                    value = !!value;\n                } else {\n                    value = $element.attr( method );\n                }\n\n                this.normalizeAttributeRule( rules, type, method, value );\n            }\n\n            // 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n            if ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n                delete rules.maxlength;\n            }\n\n            return rules;\n        },\n\n        metadataRules: function (element) {\n            if (!$.metadata) {\n                return {};\n            }\n\n            var meta = $.data(element.form, 'validator').settings.meta;\n            return meta ?\n                $(element).metadata()[meta] :\n                $(element).metadata();\n        },\n        \n        dataRules: function( element ) {\n            var rules = {},\n                $element = $( element ),\n                type = element.getAttribute( \"type\" ),\n                method, value;\n\n            for ( method in $.validator.methods ) {\n                value = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\n                // Cast empty attributes like `data-rule-required` to `true`\n                if ( value === \"\" ) {\n                    value = true;\n                }\n\n                this.normalizeAttributeRule( rules, type, method, value );\n            }\n            return rules;\n        },\n\n        staticRules: function( element ) {\n            var rules = {},\n                validator = $.data( element.form, \"validator\" );\n\n            if ( validator.settings.rules ) {\n                rules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n            }\n            return rules;\n        },\n\n        normalizeRules: function( rules, element ) {\n\n            // Handle dependency check\n            $.each( rules, function( prop, val ) {\n\n                // Ignore rule when param is explicitly false, eg. required:false\n                if ( val === false ) {\n                    delete rules[ prop ];\n                    return;\n                }\n                if ( val.param || val.depends ) {\n                    var keepRule = true;\n                    switch ( typeof val.depends ) {\n                        case \"string\":\n                            keepRule = !!$( val.depends, element.form ).length;\n                            break;\n                        case \"function\":\n                            keepRule = val.depends.call( element, element );\n                            break;\n                    }\n                    if ( keepRule ) {\n                        rules[ prop ] = val.param !== undefined ? val.param : true;\n                    } else {\n                        $.data( element.form, \"validator\" ).resetElements( $( element ) );\n                        delete rules[ prop ];\n                    }\n                }\n            } );\n\n            // Evaluate parameters\n            $.each( rules, function( rule, parameter ) {\n                rules[ rule ] = typeof parameter === \"function\" && rule !== \"normalizer\" ? parameter( element ) : parameter;\n            } );\n\n            // Clean number parameters\n            $.each( [ \"minlength\", \"maxlength\" ], function() {\n                if ( rules[ this ] ) {\n                    rules[ this ] = Number( rules[ this ] );\n                }\n            } );\n            $.each( [ \"rangelength\", \"range\" ], function() {\n                var parts;\n                if ( rules[ this ] ) {\n                    if ( Array.isArray( rules[ this ] ) ) {\n                        rules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n                    } else if ( typeof rules[ this ] === \"string\" ) {\n                        parts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n                        rules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n                    }\n                }\n            } );\n\n            if ( $.validator.autoCreateRanges ) {\n\n                // Auto-create ranges\n                if ( rules.min != null && rules.max != null ) {\n                    rules.range = [ rules.min, rules.max ];\n                    delete rules.min;\n                    delete rules.max;\n                }\n                if ( rules.minlength != null && rules.maxlength != null ) {\n                    rules.rangelength = [ rules.minlength, rules.maxlength ];\n                    delete rules.minlength;\n                    delete rules.maxlength;\n                }\n            }\n\n            return rules;\n        },\n\n        // Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n        normalizeRule: function( data ) {\n            if ( typeof data === \"string\" ) {\n                var transformed = {};\n                $.each( data.split( /\\s/ ), function() {\n                    transformed[ this ] = true;\n                } );\n                data = transformed;\n            }\n            return data;\n        },\n\n        // https://jqueryvalidation.org/jQuery.validator.addMethod/\n        addMethod: function( name, method, message ) {\n            $.validator.methods[ name ] = method;\n            $.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n            if ( method.length < 3 ) {\n                $.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n            }\n        },\n\n        // https://jqueryvalidation.org/jQuery.validator.methods/\n        methods: {\n\n            // https://jqueryvalidation.org/required-method/\n            required: function( value, element, param ) {\n\n                // Check if dependency is met\n                if ( !this.depend( param, element ) ) {\n                    return \"dependency-mismatch\";\n                }\n                if ( element.nodeName.toLowerCase() === \"select\" ) {\n\n                    // Could be an array for select-multiple or a string, both are fine this way\n                    var val = $( element ).val();\n                    return val && val.length > 0;\n                }\n                if ( this.checkable( element ) ) {\n                    return this.getLength( value, element ) > 0;\n                }\n                return value !== undefined && value !== null && value.length > 0;\n            },\n\n            // https://jqueryvalidation.org/email-method/\n            email: function( value, element ) {\n\n                // From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n                // Retrieved 2014-01-14\n                // If you have a problem with this implementation, report a bug against the above spec\n                // Or use custom methods to implement your own email validation\n                return this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n            },\n\n            // https://jqueryvalidation.org/url-method/\n            url: function( value, element ) {\n\n                // Copyright (c) 2010-2013 Diego Perini, MIT licensed\n                // https://gist.github.com/dperini/729294\n                // see also https://mathiasbynens.be/demo/url-regex\n                // modified to allow protocol-relative URLs\n                return this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\\]\\[?\\/<~#`!@$^&*()+=}|:\";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n            },\n\n            // https://jqueryvalidation.org/date-method/\n            date: ( function() {\n                var called = false;\n\n                return function( value, element ) {\n                    if ( !called ) {\n                        called = true;\n                        if ( this.settings.debug && window.console ) {\n                            console.warn(\n                                \"The `date` method is deprecated and will be removed in version '2.0.0'.\\n\" +\n                                \"Please don't use it, since it relies on the Date constructor, which\\n\" +\n                                \"behaves very differently across browsers and locales. Use `dateISO`\\n\" +\n                                \"instead or one of the locale specific methods in `localizations/`\\n\" +\n                                \"and `additional-methods.js`.\"\n                            );\n                        }\n                    }\n\n                    return this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n                };\n            }() ),\n\n            // https://jqueryvalidation.org/dateISO-method/\n            dateISO: function( value, element ) {\n                return this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n            },\n\n            // https://jqueryvalidation.org/number-method/\n            number: function( value, element ) {\n                return this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n            },\n\n            // https://jqueryvalidation.org/digits-method/\n            digits: function( value, element ) {\n                return this.optional( element ) || /^\\d+$/.test( value );\n            },\n\n            // https://jqueryvalidation.org/minlength-method/\n            minlength: function( value, element, param ) {\n                var length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n                return this.optional( element ) || length >= param;\n            },\n\n            // https://jqueryvalidation.org/maxlength-method/\n            maxlength: function( value, element, param ) {\n                var length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n                return this.optional( element ) || length <= param;\n            },\n\n            // https://jqueryvalidation.org/rangelength-method/\n            rangelength: function( value, element, param ) {\n                var length = Array.isArray( value ) ? value.length : this.getLength( value, element );\n                return this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n            },\n\n            // https://jqueryvalidation.org/min-method/\n            min: function( value, element, param ) {\n                return this.optional( element ) || value >= param;\n            },\n\n            // https://jqueryvalidation.org/max-method/\n            max: function( value, element, param ) {\n                return this.optional( element ) || value <= param;\n            },\n\n            // https://jqueryvalidation.org/range-method/\n            range: function( value, element, param ) {\n                return this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n            },\n\n            // https://jqueryvalidation.org/step-method/\n            step: function( value, element, param ) {\n                var type = $( element ).attr( \"type\" ),\n                    errorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n                    supportedTypes = [ \"text\", \"number\", \"range\" ],\n                    re = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n                    notSupported = type && !re.test( supportedTypes.join() ),\n                    decimalPlaces = function( num ) {\n                        var match = ( \"\" + num ).match( /(?:\\.(\\d+))?$/ );\n                        if ( !match ) {\n                            return 0;\n                        }\n\n                        // Number of digits right of decimal point.\n                        return match[ 1 ] ? match[ 1 ].length : 0;\n                    },\n                    toInt = function( num ) {\n                        return Math.round( num * Math.pow( 10, decimals ) );\n                    },\n                    valid = true,\n                    decimals;\n\n                // Works only for text, number and range input types\n                // TODO find a way to support input types date, datetime, datetime-local, month, time and week\n                if ( notSupported ) {\n                    throw new Error( errorMessage );\n                }\n\n                decimals = decimalPlaces( param );\n\n                // Value can't have too many decimals\n                if ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {\n                    valid = false;\n                }\n\n                return this.optional( element ) || valid;\n            },\n\n            // https://jqueryvalidation.org/equalTo-method/\n            equalTo: function( value, element, param ) {\n\n                // Bind to the blur event of the target in order to revalidate whenever the target field is updated\n                var target = $( param );\n                if ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n                    target.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n                        $( element ).valid();\n                    } );\n                }\n                return value === target.val();\n            },\n\n            // https://jqueryvalidation.org/remote-method/\n            remote: function( value, element, param, method ) {\n                if ( this.optional( element ) ) {\n                    return \"dependency-mismatch\";\n                }\n\n                method = typeof method === \"string\" && method || \"remote\";\n\n                var previous = this.previousValue( element, method ),\n                    validator, data, optionDataString;\n\n                if ( !this.settings.messages[ element.name ] ) {\n                    this.settings.messages[ element.name ] = {};\n                }\n                previous.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n                this.settings.messages[ element.name ][ method ] = previous.message;\n\n                param = typeof param === \"string\" && { url: param } || param;\n                optionDataString = $.param( $.extend( { data: value }, param.data ) );\n                if ( previous.old === optionDataString ) {\n                    return previous.valid;\n                }\n\n                previous.old = optionDataString;\n                validator = this;\n                this.startRequest( element );\n                data = {};\n                data[ element.name ] = value;\n                $.ajax( $.extend( true, {\n                    mode: \"abort\",\n                    port: this.elementAjaxPort( element ),\n                    dataType: \"json\",\n                    data: data,\n                    context: validator.currentForm,\n                    success: function( response ) {\n                        var valid = response === true || response === \"true\",\n                            errors, message, submitted;\n\n                        validator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n                        if ( valid ) {\n                            submitted = validator.formSubmitted;\n                            validator.toHide = validator.errorsFor( element );\n                            validator.formSubmitted = submitted;\n                            validator.successList.push( element );\n                            validator.invalid[ element.name ] = false;\n                            validator.showErrors();\n                        } else {\n                            errors = {};\n                            message = response || validator.defaultMessage( element, { method: method, parameters: value } );\n                            errors[ element.name ] = previous.message = message;\n                            validator.invalid[ element.name ] = true;\n                            validator.showErrors( errors );\n                        }\n                        previous.valid = valid;\n                        validator.stopRequest( element, valid );\n                    }\n                }, param ) );\n                return \"pending\";\n            }\n        }\n\n    } );\n\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n//        $.ajaxAbort( port );\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\n    var pendingRequests = {},\n        ajax;\n\n// Use a prefilter if available (1.5+)\n    if ( $.ajaxPrefilter ) {\n        $.ajaxPrefilter( function( settings, _, xhr ) {\n            var port = settings.port;\n            if ( settings.mode === \"abort\" ) {\n                $.ajaxAbort( port );\n                pendingRequests[ port ] = xhr;\n            }\n        } );\n    } else {\n\n        // Proxy ajax\n        ajax = $.ajax;\n        $.ajax = function( settings ) {\n            var mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n                port = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n            if ( mode === \"abort\" ) {\n                $.ajaxAbort( port );\n                pendingRequests[ port ] = ajax.apply( this, arguments );\n                return pendingRequests[ port ];\n            }\n            return ajax.apply( this, arguments );\n        };\n    }\n\n// Abort the previous request without sending a new one\n    $.ajaxAbort = function( port ) {\n        if ( pendingRequests[ port ] ) {\n            pendingRequests[ port ].abort();\n            delete pendingRequests[ port ];\n        }\n    };\n    return $;\n}));\n","jquery/jquery.cookie.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'js-cookie/cookie-wrapper'\n], function () {\n\n});\n","jquery/compat.js":"// Import every plugin under the sun. Bad for performance,\n// but prevents the store from breaking in situations\n// where a dependency was missed during the migration from\n// a monolith build of jQueryUI to a modular one\n\ndefine([\n    'jquery-ui-modules/core',\n    'jquery-ui-modules/accordion',\n    'jquery-ui-modules/autocomplete',\n    'jquery-ui-modules/button',\n    'jquery-ui-modules/datepicker',\n    'jquery-ui-modules/dialog',\n    'jquery-ui-modules/draggable',\n    'jquery-ui-modules/droppable',\n    'jquery-ui-modules/effect-blind',\n    'jquery-ui-modules/effect-bounce',\n    'jquery-ui-modules/effect-clip',\n    'jquery-ui-modules/effect-drop',\n    'jquery-ui-modules/effect-explode',\n    'jquery-ui-modules/effect-fade',\n    'jquery-ui-modules/effect-fold',\n    'jquery-ui-modules/effect-highlight',\n    'jquery-ui-modules/effect-scale',\n    'jquery-ui-modules/effect-pulsate',\n    'jquery-ui-modules/effect-shake',\n    'jquery-ui-modules/effect-slide',\n    'jquery-ui-modules/effect-transfer',\n    'jquery-ui-modules/effect',\n    'jquery-ui-modules/menu',\n    'jquery-ui-modules/mouse',\n    'jquery-ui-modules/position',\n    'jquery-ui-modules/progressbar',\n    'jquery-ui-modules/resizable',\n    'jquery-ui-modules/selectable',\n    'jquery-ui-modules/slider',\n    'jquery-ui-modules/sortable',\n    'jquery-ui-modules/spinner',\n    'jquery-ui-modules/tabs',\n    'jquery-ui-modules/timepicker',\n    'jquery-ui-modules/tooltip',\n    'jquery-ui-modules/widget'\n], function() {\n    console.warn(\n        'Fallback to JQueryUI Compat activated. ' +\n        'Your store is missing a dependency for a ' +\n        'jQueryUI widget. Identifying and addressing the dependency ' +\n        'will drastically improve the performance of your site.'\n    );\n});\n"}
}});
