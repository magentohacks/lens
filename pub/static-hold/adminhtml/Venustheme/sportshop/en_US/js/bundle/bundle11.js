require.config({"config": {
        "jsbuild":{"Magiccart_Lookbook/js/plugin/select2.full.min.js":"/*! Select2 4.0.13 | https://github.com/select2/select2/blob/master/LICENSE.md */\n!function(n){\"function\"==typeof define&&define.amd?define([\"jquery\"],n):\"object\"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(e)),n(t),t}:n(jQuery)}(function(d){var e=function(){if(d&&d.fn&&d.fn.select2&&d.fn.select2.amd)var e=d.fn.select2.amd;var t,n,i,h,o,s,f,g,m,v,y,_,r,a,w,l;function b(e,t){return r.call(e,t)}function c(e,t){var n,i,r,o,s,a,l,c,u,d,p,h=t&&t.split(\"/\"),f=y.map,g=f&&f[\"*\"]||{};if(e){for(s=(e=e.split(\"/\")).length-1,y.nodeIdCompat&&w.test(e[s])&&(e[s]=e[s].replace(w,\"\")),\".\"===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),u=0;u<e.length;u++)if(\".\"===(p=e[u]))e.splice(u,1),u-=1;else if(\"..\"===p){if(0===u||1===u&&\"..\"===e[2]||\"..\"===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join(\"/\")}if((h||g)&&f){for(u=(n=e.split(\"/\")).length;0<u;u-=1){if(i=n.slice(0,u).join(\"/\"),h)for(d=h.length;0<d;d-=1)if(r=(r=f[h.slice(0,d).join(\"/\")])&&r[i]){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),e=n.join(\"/\"))}return e}function A(t,n){return function(){var e=a.call(arguments,0);return\"string\"!=typeof e[0]&&1===e.length&&e.push(null),s.apply(h,e.concat([t,n]))}}function x(t){return function(e){m[t]=e}}function D(e){if(b(v,e)){var t=v[e];delete v[e],_[e]=!0,o.apply(h,t)}if(!b(m,e)&&!b(_,e))throw new Error(\"No \"+e);return m[e]}function u(e){var t,n=e?e.indexOf(\"!\"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?u(e):[]}return e&&e.requirejs||(e?n=e:e={},m={},v={},y={},_={},r=Object.prototype.hasOwnProperty,a=[].slice,w=/\\.js$/,f=function(e,t){var n,i=u(e),r=i[0],o=t[1];return e=i[1],r&&(n=D(r=c(r,o))),r?e=n&&n.normalize?n.normalize(e,function(t){return function(e){return c(e,t)}}(o)):c(e,o):(r=(i=u(e=c(e,o)))[0],e=i[1],r&&(n=D(r))),{f:r?r+\"!\"+e:e,n:e,pr:r,p:n}},g={require:function(e){return A(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:\"\",exports:m[e],config:function(e){return function(){return y&&y.config&&y.config[e]||{}}}(e)}}},o=function(e,t,n,i){var r,o,s,a,l,c,u,d=[],p=typeof n;if(c=S(i=i||e),\"undefined\"==p||\"function\"==p){for(t=!t.length&&n.length?[\"require\",\"exports\",\"module\"]:t,l=0;l<t.length;l+=1)if(\"require\"===(o=(a=f(t[l],c)).f))d[l]=g.require(e);else if(\"exports\"===o)d[l]=g.exports(e),u=!0;else if(\"module\"===o)r=d[l]=g.module(e);else if(b(m,o)||b(v,o)||b(_,o))d[l]=D(o);else{if(!a.p)throw new Error(e+\" missing \"+o);a.p.load(a.n,A(i,!0),x(o),{}),d[l]=m[o]}s=n?n.apply(m[e],d):void 0,e&&(r&&r.exports!==h&&r.exports!==m[e]?m[e]=r.exports:s===h&&u||(m[e]=s))}else e&&(m[e]=n)},t=n=s=function(e,t,n,i,r){if(\"string\"==typeof e)return g[e]?g[e](t):D(f(e,S(t)).f);if(!e.splice){if((y=e).deps&&s(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},\"function\"==typeof n&&(n=i,i=r),i?o(h,e,t,n):setTimeout(function(){o(h,e,t,n)},4),s},s.config=function(e){return s(e)},t._defined=m,(i=function(e,t,n){if(\"string\"!=typeof e)throw new Error(\"See almond README: incorrect module build, no module name\");t.splice||(n=t,t=[]),b(m,e)||b(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0},e.requirejs=t,e.require=n,e.define=i),e.define(\"almond\",function(){}),e.define(\"jquery\",[],function(){var e=d||$;return null==e&&console&&console.error&&console.error(\"Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.\"),e}),e.define(\"select2/utils\",[\"jquery\"],function(o){var r={};function u(e){var t=e.prototype,n=[];for(var i in t){\"function\"==typeof t[i]&&\"constructor\"!==i&&n.push(i)}return n}r.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r.Decorate=function(i,r){var e=u(r),t=u(i);function o(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=r.prototype.constructor),n.apply(this,arguments)}r.displayName=i.displayName,o.prototype=new function(){this.constructor=o};for(var n=0;n<t.length;n++){var s=t[n];o.prototype[s]=i.prototype[s]}function a(e){var t=function(){};e in o.prototype&&(t=o.prototype[e]);var n=r.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}for(var l=0;l<e.length;l++){var c=e[l];o.prototype[c]=a(c)}return o};function e(){this.listeners={}}e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),\"*\"in this.listeners&&this.invoke(this.listeners[\"*\"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},r.Observable=e,r.generateChars=function(e){for(var t=\"\",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},r.bind=function(e,t){return function(){e.apply(t,arguments)}},r._convertData=function(e){for(var t in e){var n=t.split(\"-\"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},r.hasScroll=function(e,t){var n=o(t),i=t.style.overflowX,r=t.style.overflowY;return(i!==r||\"hidden\"!==r&&\"visible\"!==r)&&(\"scroll\"===i||\"scroll\"===r||(n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth))},r.escapeMarkup=function(e){var t={\"\\\\\":\"&#92;\",\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#47;\"};return\"string\"!=typeof e?e:String(e).replace(/[&<>\"'\\/\\\\]/g,function(e){return t[e]})},r.appendMany=function(e,t){if(\"1.7\"===o.fn.jquery.substr(0,3)){var n=o();o.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},r.__cache={};var n=0;return r.GetUniqueElementId=function(e){var t=e.getAttribute(\"data-select2-id\");return null==t&&(e.id?(t=e.id,e.setAttribute(\"data-select2-id\",t)):(e.setAttribute(\"data-select2-id\",++n),t=n.toString())),t},r.StoreData=function(e,t,n){var i=r.GetUniqueElementId(e);r.__cache[i]||(r.__cache[i]={}),r.__cache[i][t]=n},r.GetData=function(e,t){var n=r.GetUniqueElementId(e);return t?r.__cache[n]&&null!=r.__cache[n][t]?r.__cache[n][t]:o(e).data(t):r.__cache[n]},r.RemoveData=function(e){var t=r.GetUniqueElementId(e);null!=r.__cache[t]&&delete r.__cache[t],e.removeAttribute(\"data-select2-id\")},r}),e.define(\"select2/results\",[\"jquery\",\"./utils\"],function(h,f){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return f.Extend(i,f.Observable),i.prototype.render=function(){var e=h('<ul class=\"select2-results__options\" role=\"listbox\"></ul>');return this.options.get(\"multiple\")&&e.attr(\"aria-multiselectable\",\"true\"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get(\"escapeMarkup\");this.clear(),this.hideLoading();var n=h('<li role=\"alert\" aria-live=\"assertive\" class=\"select2-results__option\"></li>'),i=this.options.get(\"translations\").get(e.message);n.append(t(i(e.args))),n[0].className+=\" select2-results__message\",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(\".select2-results__message\").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger(\"results:message\",{message:\"noResults\"})},i.prototype.position=function(e,t){t.find(\".select2-results\").append(e)},i.prototype.sort=function(e){return this.options.get(\"sorter\")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(\".select2-results__option[aria-selected]\"),t=e.filter(\"[aria-selected=true]\");0<t.length?t.first().trigger(\"mouseenter\"):e.first().trigger(\"mouseenter\"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=h.map(e,function(e){return e.id.toString()});t.$results.find(\".select2-results__option[aria-selected]\").each(function(){var e=h(this),t=f.GetData(this,\"data\"),n=\"\"+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,i)?e.attr(\"aria-selected\",\"true\"):e.attr(\"aria-selected\",\"false\")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get(\"translations\").get(\"searching\")(e)},n=this.option(t);n.className+=\" loading-results\",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(\".loading-results\").remove()},i.prototype.option=function(e){var t=document.createElement(\"li\");t.className=\"select2-results__option\";var n={role:\"option\",\"aria-selected\":\"false\"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var r in(null!=e.element&&i.call(e.element,\":disabled\")||null==e.element&&e.disabled)&&(delete n[\"aria-selected\"],n[\"aria-disabled\"]=\"true\"),null==e.id&&delete n[\"aria-selected\"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role=\"group\",n[\"aria-label\"]=e.text,delete n[\"aria-selected\"]),n){var o=n[r];t.setAttribute(r,o)}if(e.children){var s=h(t),a=document.createElement(\"strong\");a.className=\"select2-results__group\";h(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var p=h(\"<ul></ul>\",{class:\"select2-results__options select2-results__options--nested\"});p.append(l),s.append(a),s.append(p)}else this.template(e,t);return f.StoreData(t,\"data\",e),t},i.prototype.bind=function(t,e){var l=this,n=t.id+\"-results\";this.$results.attr(\"id\",n),t.on(\"results:all\",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on(\"results:append\",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on(\"query\",function(e){l.hideMessages(),l.showLoading(e)}),t.on(\"select\",function(){t.isOpen()&&(l.setClasses(),l.options.get(\"scrollAfterSelect\")&&l.highlightFirstItem())}),t.on(\"unselect\",function(){t.isOpen()&&(l.setClasses(),l.options.get(\"scrollAfterSelect\")&&l.highlightFirstItem())}),t.on(\"open\",function(){l.$results.attr(\"aria-expanded\",\"true\"),l.$results.attr(\"aria-hidden\",\"false\"),l.setClasses(),l.ensureHighlightVisible()}),t.on(\"close\",function(){l.$results.attr(\"aria-expanded\",\"false\"),l.$results.attr(\"aria-hidden\",\"true\"),l.$results.removeAttr(\"aria-activedescendant\")}),t.on(\"results:toggle\",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger(\"mouseup\")}),t.on(\"results:select\",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=f.GetData(e[0],\"data\");\"true\"==e.attr(\"aria-selected\")?l.trigger(\"close\",{}):l.trigger(\"select\",{data:t})}}),t.on(\"results:previous\",function(){var e=l.getHighlightedResults(),t=l.$results.find(\"[aria-selected]\"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var r=t.eq(i);r.trigger(\"mouseenter\");var o=l.$results.offset().top,s=r.offset().top,a=l.$results.scrollTop()+(s-o);0===i?l.$results.scrollTop(0):s-o<0&&l.$results.scrollTop(a)}}),t.on(\"results:next\",function(){var e=l.getHighlightedResults(),t=l.$results.find(\"[aria-selected]\"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger(\"mouseenter\");var r=l.$results.offset().top+l.$results.outerHeight(!1),o=i.offset().top+i.outerHeight(!1),s=l.$results.scrollTop()+o-r;0===n?l.$results.scrollTop(0):r<o&&l.$results.scrollTop(s)}}),t.on(\"results:focus\",function(e){e.element.addClass(\"select2-results__option--highlighted\")}),t.on(\"results:message\",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on(\"mousewheel\",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on(\"mouseup\",\".select2-results__option[aria-selected]\",function(e){var t=h(this),n=f.GetData(this,\"data\");\"true\"!==t.attr(\"aria-selected\")?l.trigger(\"select\",{originalEvent:e,data:n}):l.options.get(\"multiple\")?l.trigger(\"unselect\",{originalEvent:e,data:n}):l.trigger(\"close\",{})}),this.$results.on(\"mouseenter\",\".select2-results__option[aria-selected]\",function(e){var t=f.GetData(this,\"data\");l.getHighlightedResults().removeClass(\"select2-results__option--highlighted\"),l.trigger(\"results:focus\",{data:t,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(\".select2-results__option--highlighted\")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find(\"[aria-selected]\").index(e),n=this.$results.offset().top,i=e.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,t){var n=this.options.get(\"templateResult\"),i=this.options.get(\"escapeMarkup\"),r=n(e,t);null==r?t.style.display=\"none\":\"string\"==typeof r?t.innerHTML=i(r):h(t).append(r)},i}),e.define(\"select2/keys\",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define(\"select2/selection/base\",[\"jquery\",\"../utils\",\"../keys\"],function(n,i,r){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return i.Extend(o,i.Observable),o.prototype.render=function(){var e=n('<span class=\"select2-selection\" role=\"combobox\"  aria-haspopup=\"true\" aria-expanded=\"false\"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],\"old-tabindex\")?this._tabindex=i.GetData(this.$element[0],\"old-tabindex\"):null!=this.$element.attr(\"tabindex\")&&(this._tabindex=this.$element.attr(\"tabindex\")),e.attr(\"title\",this.$element.attr(\"title\")),e.attr(\"tabindex\",this._tabindex),e.attr(\"aria-disabled\",\"false\"),this.$selection=e},o.prototype.bind=function(e,t){var n=this,i=e.id+\"-results\";this.container=e,this.$selection.on(\"focus\",function(e){n.trigger(\"focus\",e)}),this.$selection.on(\"blur\",function(e){n._handleBlur(e)}),this.$selection.on(\"keydown\",function(e){n.trigger(\"keypress\",e),e.which===r.SPACE&&e.preventDefault()}),e.on(\"results:focus\",function(e){n.$selection.attr(\"aria-activedescendant\",e.data._resultId)}),e.on(\"selection:update\",function(e){n.update(e.data)}),e.on(\"open\",function(){n.$selection.attr(\"aria-expanded\",\"true\"),n.$selection.attr(\"aria-owns\",i),n._attachCloseHandler(e)}),e.on(\"close\",function(){n.$selection.attr(\"aria-expanded\",\"false\"),n.$selection.removeAttr(\"aria-activedescendant\"),n.$selection.removeAttr(\"aria-owns\"),n.$selection.trigger(\"focus\"),n._detachCloseHandler(e)}),e.on(\"enable\",function(){n.$selection.attr(\"tabindex\",n._tabindex),n.$selection.attr(\"aria-disabled\",\"false\")}),e.on(\"disable\",function(){n.$selection.attr(\"tabindex\",\"-1\"),n.$selection.attr(\"aria-disabled\",\"true\")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger(\"blur\",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on(\"mousedown.select2.\"+e.id,function(e){var t=n(e.target).closest(\".select2\");n(\".select2.select2-container--open\").each(function(){this!=t[0]&&i.GetData(this,\"element\").select2(\"close\")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off(\"mousedown.select2.\"+e.id)},o.prototype.position=function(e,t){t.find(\".selection\").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(e){throw new Error(\"The `update` method must be defined in child classes.\")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get(\"disabled\")},o}),e.define(\"select2/selection/single\",[\"jquery\",\"./base\",\"../utils\",\"../keys\"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass(\"select2-selection--single\"),e.html('<span class=\"select2-selection__rendered\"></span><span class=\"select2-selection__arrow\" role=\"presentation\"><b role=\"presentation\"></b></span>'),e},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+\"-container\";this.$selection.find(\".select2-selection__rendered\").attr(\"id\",i).attr(\"role\",\"textbox\").attr(\"aria-readonly\",\"true\"),this.$selection.attr(\"aria-labelledby\",i),this.$selection.on(\"mousedown\",function(e){1===e.which&&n.trigger(\"toggle\",{originalEvent:e})}),this.$selection.on(\"focus\",function(e){}),this.$selection.on(\"blur\",function(e){}),t.on(\"focus\",function(e){t.isOpen()||n.$selection.trigger(\"focus\")})},r.prototype.clear=function(){var e=this.$selection.find(\".select2-selection__rendered\");e.empty(),e.removeAttr(\"title\")},r.prototype.display=function(e,t){var n=this.options.get(\"templateSelection\");return this.options.get(\"escapeMarkup\")(n(e,t))},r.prototype.selectionContainer=function(){return e(\"<span></span>\")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(\".select2-selection__rendered\"),i=this.display(t,n);n.empty().append(i);var r=t.title||t.text;r?n.attr(\"title\",r):n.removeAttr(\"title\")}else this.clear()},r}),e.define(\"select2/selection/multiple\",[\"jquery\",\"./base\",\"../utils\"],function(r,e,l){function n(e,t){n.__super__.constructor.apply(this,arguments)}return l.Extend(n,e),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass(\"select2-selection--multiple\"),e.html('<ul class=\"select2-selection__rendered\"></ul>'),e},n.prototype.bind=function(e,t){var i=this;n.__super__.bind.apply(this,arguments),this.$selection.on(\"click\",function(e){i.trigger(\"toggle\",{originalEvent:e})}),this.$selection.on(\"click\",\".select2-selection__choice__remove\",function(e){if(!i.isDisabled()){var t=r(this).parent(),n=l.GetData(t[0],\"data\");i.trigger(\"unselect\",{originalEvent:e,data:n})}})},n.prototype.clear=function(){var e=this.$selection.find(\".select2-selection__rendered\");e.empty(),e.removeAttr(\"title\")},n.prototype.display=function(e,t){var n=this.options.get(\"templateSelection\");return this.options.get(\"escapeMarkup\")(n(e,t))},n.prototype.selectionContainer=function(){return r('<li class=\"select2-selection__choice\"><span class=\"select2-selection__choice__remove\" role=\"presentation\">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.selectionContainer(),o=this.display(i,r);r.append(o);var s=i.title||i.text;s&&r.attr(\"title\",s),l.StoreData(r[0],\"data\",i),t.push(r)}var a=this.$selection.find(\".select2-selection__rendered\");l.appendMany(a,t)}},n}),e.define(\"select2/selection/placeholder\",[\"../utils\"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get(\"placeholder\")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return\"string\"==typeof t&&(t={id:\"\",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass(\"select2-selection__placeholder\").removeClass(\"select2-selection__choice\"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(\".select2-selection__rendered\").append(i)},t}),e.define(\"select2/selection/allowClear\",[\"jquery\",\"../keys\",\"../utils\"],function(r,i,a){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get(\"debug\")&&window.console&&console.error&&console.error(\"Select2: The `allowClear` option should be used in combination with the `placeholder` option.\"),this.$selection.on(\"mousedown\",\".select2-selection__clear\",function(e){i._handleClear(e)}),t.on(\"keypress\",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(\".select2-selection__clear\");if(0!==n.length){t.stopPropagation();var i=a.GetData(n[0],\"data\"),r=this.$element.val();this.$element.val(this.placeholder.id);var o={data:i};if(this.trigger(\"clear\",o),o.prevented)this.$element.val(r);else{for(var s=0;s<i.length;s++)if(o={data:i[s]},this.trigger(\"unselect\",o),o.prevented)return void this.$element.val(r);this.$element.trigger(\"input\").trigger(\"change\"),this.trigger(\"toggle\",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=i.DELETE&&t.which!=i.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(\".select2-selection__placeholder\").length||0===t.length)){var n=this.options.get(\"translations\").get(\"removeAllItems\"),i=r('<span class=\"select2-selection__clear\" title=\"'+n()+'\">&times;</span>');a.StoreData(i[0],\"data\",t),this.$selection.find(\".select2-selection__rendered\").prepend(i)}},e}),e.define(\"select2/selection/search\",[\"jquery\",\"../utils\",\"../keys\"],function(i,a,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=i('<li class=\"select2-search select2-search--inline\"><input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" /></li>');this.$searchContainer=t,this.$search=t.find(\"input\");var n=e.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(e,t,n){var i=this,r=t.id+\"-results\";e.call(this,t,n),t.on(\"open\",function(){i.$search.attr(\"aria-controls\",r),i.$search.trigger(\"focus\")}),t.on(\"close\",function(){i.$search.val(\"\"),i.$search.removeAttr(\"aria-controls\"),i.$search.removeAttr(\"aria-activedescendant\"),i.$search.trigger(\"focus\")}),t.on(\"enable\",function(){i.$search.prop(\"disabled\",!1),i._transferTabIndex()}),t.on(\"disable\",function(){i.$search.prop(\"disabled\",!0)}),t.on(\"focus\",function(e){i.$search.trigger(\"focus\")}),t.on(\"results:focus\",function(e){e.data._resultId?i.$search.attr(\"aria-activedescendant\",e.data._resultId):i.$search.removeAttr(\"aria-activedescendant\")}),this.$selection.on(\"focusin\",\".select2-search--inline\",function(e){i.trigger(\"focus\",e)}),this.$selection.on(\"focusout\",\".select2-search--inline\",function(e){i._handleBlur(e)}),this.$selection.on(\"keydown\",\".select2-search--inline\",function(e){if(e.stopPropagation(),i.trigger(\"keypress\",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===l.BACKSPACE&&\"\"===i.$search.val()){var t=i.$searchContainer.prev(\".select2-selection__choice\");if(0<t.length){var n=a.GetData(t[0],\"data\");i.searchRemoveChoice(n),e.preventDefault()}}}),this.$selection.on(\"click\",\".select2-search--inline\",function(e){i.$search.val()&&e.stopPropagation()});var o=document.documentMode,s=o&&o<=11;this.$selection.on(\"input.searchcheck\",\".select2-search--inline\",function(e){s?i.$selection.off(\"input.search input.searchcheck\"):i.$selection.off(\"keyup.search\")}),this.$selection.on(\"keyup.search input.search\",\".select2-search--inline\",function(e){if(s&&\"input\"===e.type)i.$selection.off(\"input.search input.searchcheck\");else{var t=e.which;t!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&i.handleSearch(e)}})},e.prototype._transferTabIndex=function(e){this.$search.attr(\"tabindex\",this.$selection.attr(\"tabindex\")),this.$selection.attr(\"tabindex\",\"-1\")},e.prototype.createPlaceholder=function(e,t){this.$search.attr(\"placeholder\",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr(\"placeholder\",\"\"),e.call(this,t),this.$selection.find(\".select2-selection__rendered\").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger(\"focus\")},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger(\"query\",{term:e})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger(\"unselect\",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css(\"width\",\"25px\");var e=\"\";\"\"!==this.$search.attr(\"placeholder\")?e=this.$selection.find(\".select2-selection__rendered\").width():e=.75*(this.$search.val().length+1)+\"em\";this.$search.css(\"width\",e)},e}),e.define(\"select2/selection/eventRelay\",[\"jquery\"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var i=this,r=[\"open\",\"opening\",\"close\",\"closing\",\"select\",\"selecting\",\"unselect\",\"unselecting\",\"clear\",\"clearing\"],o=[\"opening\",\"closing\",\"selecting\",\"unselecting\",\"clearing\"];e.call(this,t,n),t.on(\"*\",function(e,t){if(-1!==s.inArray(e,r)){t=t||{};var n=s.Event(\"select2:\"+e,{params:t});i.$element.trigger(n),-1!==s.inArray(e,o)&&(t.prevented=n.isDefaultPrevented())}})},e}),e.define(\"select2/translation\",[\"jquery\",\"require\"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var t=n(e);i._cache[e]=t}return new i(i._cache[e])},i}),e.define(\"select2/diacritics\",[],function(){return{\"\u24b6\":\"A\",\"\uff21\":\"A\",\"\u00c0\":\"A\",\"\u00c1\":\"A\",\"\u00c2\":\"A\",\"\u1ea6\":\"A\",\"\u1ea4\":\"A\",\"\u1eaa\":\"A\",\"\u1ea8\":\"A\",\"\u00c3\":\"A\",\"\u0100\":\"A\",\"\u0102\":\"A\",\"\u1eb0\":\"A\",\"\u1eae\":\"A\",\"\u1eb4\":\"A\",\"\u1eb2\":\"A\",\"\u0226\":\"A\",\"\u01e0\":\"A\",\"\u00c4\":\"A\",\"\u01de\":\"A\",\"\u1ea2\":\"A\",\"\u00c5\":\"A\",\"\u01fa\":\"A\",\"\u01cd\":\"A\",\"\u0200\":\"A\",\"\u0202\":\"A\",\"\u1ea0\":\"A\",\"\u1eac\":\"A\",\"\u1eb6\":\"A\",\"\u1e00\":\"A\",\"\u0104\":\"A\",\"\u023a\":\"A\",\"\u2c6f\":\"A\",\"\ua732\":\"AA\",\"\u00c6\":\"AE\",\"\u01fc\":\"AE\",\"\u01e2\":\"AE\",\"\ua734\":\"AO\",\"\ua736\":\"AU\",\"\ua738\":\"AV\",\"\ua73a\":\"AV\",\"\ua73c\":\"AY\",\"\u24b7\":\"B\",\"\uff22\":\"B\",\"\u1e02\":\"B\",\"\u1e04\":\"B\",\"\u1e06\":\"B\",\"\u0243\":\"B\",\"\u0182\":\"B\",\"\u0181\":\"B\",\"\u24b8\":\"C\",\"\uff23\":\"C\",\"\u0106\":\"C\",\"\u0108\":\"C\",\"\u010a\":\"C\",\"\u010c\":\"C\",\"\u00c7\":\"C\",\"\u1e08\":\"C\",\"\u0187\":\"C\",\"\u023b\":\"C\",\"\ua73e\":\"C\",\"\u24b9\":\"D\",\"\uff24\":\"D\",\"\u1e0a\":\"D\",\"\u010e\":\"D\",\"\u1e0c\":\"D\",\"\u1e10\":\"D\",\"\u1e12\":\"D\",\"\u1e0e\":\"D\",\"\u0110\":\"D\",\"\u018b\":\"D\",\"\u018a\":\"D\",\"\u0189\":\"D\",\"\ua779\":\"D\",\"\u01f1\":\"DZ\",\"\u01c4\":\"DZ\",\"\u01f2\":\"Dz\",\"\u01c5\":\"Dz\",\"\u24ba\":\"E\",\"\uff25\":\"E\",\"\u00c8\":\"E\",\"\u00c9\":\"E\",\"\u00ca\":\"E\",\"\u1ec0\":\"E\",\"\u1ebe\":\"E\",\"\u1ec4\":\"E\",\"\u1ec2\":\"E\",\"\u1ebc\":\"E\",\"\u0112\":\"E\",\"\u1e14\":\"E\",\"\u1e16\":\"E\",\"\u0114\":\"E\",\"\u0116\":\"E\",\"\u00cb\":\"E\",\"\u1eba\":\"E\",\"\u011a\":\"E\",\"\u0204\":\"E\",\"\u0206\":\"E\",\"\u1eb8\":\"E\",\"\u1ec6\":\"E\",\"\u0228\":\"E\",\"\u1e1c\":\"E\",\"\u0118\":\"E\",\"\u1e18\":\"E\",\"\u1e1a\":\"E\",\"\u0190\":\"E\",\"\u018e\":\"E\",\"\u24bb\":\"F\",\"\uff26\":\"F\",\"\u1e1e\":\"F\",\"\u0191\":\"F\",\"\ua77b\":\"F\",\"\u24bc\":\"G\",\"\uff27\":\"G\",\"\u01f4\":\"G\",\"\u011c\":\"G\",\"\u1e20\":\"G\",\"\u011e\":\"G\",\"\u0120\":\"G\",\"\u01e6\":\"G\",\"\u0122\":\"G\",\"\u01e4\":\"G\",\"\u0193\":\"G\",\"\ua7a0\":\"G\",\"\ua77d\":\"G\",\"\ua77e\":\"G\",\"\u24bd\":\"H\",\"\uff28\":\"H\",\"\u0124\":\"H\",\"\u1e22\":\"H\",\"\u1e26\":\"H\",\"\u021e\":\"H\",\"\u1e24\":\"H\",\"\u1e28\":\"H\",\"\u1e2a\":\"H\",\"\u0126\":\"H\",\"\u2c67\":\"H\",\"\u2c75\":\"H\",\"\ua78d\":\"H\",\"\u24be\":\"I\",\"\uff29\":\"I\",\"\u00cc\":\"I\",\"\u00cd\":\"I\",\"\u00ce\":\"I\",\"\u0128\":\"I\",\"\u012a\":\"I\",\"\u012c\":\"I\",\"\u0130\":\"I\",\"\u00cf\":\"I\",\"\u1e2e\":\"I\",\"\u1ec8\":\"I\",\"\u01cf\":\"I\",\"\u0208\":\"I\",\"\u020a\":\"I\",\"\u1eca\":\"I\",\"\u012e\":\"I\",\"\u1e2c\":\"I\",\"\u0197\":\"I\",\"\u24bf\":\"J\",\"\uff2a\":\"J\",\"\u0134\":\"J\",\"\u0248\":\"J\",\"\u24c0\":\"K\",\"\uff2b\":\"K\",\"\u1e30\":\"K\",\"\u01e8\":\"K\",\"\u1e32\":\"K\",\"\u0136\":\"K\",\"\u1e34\":\"K\",\"\u0198\":\"K\",\"\u2c69\":\"K\",\"\ua740\":\"K\",\"\ua742\":\"K\",\"\ua744\":\"K\",\"\ua7a2\":\"K\",\"\u24c1\":\"L\",\"\uff2c\":\"L\",\"\u013f\":\"L\",\"\u0139\":\"L\",\"\u013d\":\"L\",\"\u1e36\":\"L\",\"\u1e38\":\"L\",\"\u013b\":\"L\",\"\u1e3c\":\"L\",\"\u1e3a\":\"L\",\"\u0141\":\"L\",\"\u023d\":\"L\",\"\u2c62\":\"L\",\"\u2c60\":\"L\",\"\ua748\":\"L\",\"\ua746\":\"L\",\"\ua780\":\"L\",\"\u01c7\":\"LJ\",\"\u01c8\":\"Lj\",\"\u24c2\":\"M\",\"\uff2d\":\"M\",\"\u1e3e\":\"M\",\"\u1e40\":\"M\",\"\u1e42\":\"M\",\"\u2c6e\":\"M\",\"\u019c\":\"M\",\"\u24c3\":\"N\",\"\uff2e\":\"N\",\"\u01f8\":\"N\",\"\u0143\":\"N\",\"\u00d1\":\"N\",\"\u1e44\":\"N\",\"\u0147\":\"N\",\"\u1e46\":\"N\",\"\u0145\":\"N\",\"\u1e4a\":\"N\",\"\u1e48\":\"N\",\"\u0220\":\"N\",\"\u019d\":\"N\",\"\ua790\":\"N\",\"\ua7a4\":\"N\",\"\u01ca\":\"NJ\",\"\u01cb\":\"Nj\",\"\u24c4\":\"O\",\"\uff2f\":\"O\",\"\u00d2\":\"O\",\"\u00d3\":\"O\",\"\u00d4\":\"O\",\"\u1ed2\":\"O\",\"\u1ed0\":\"O\",\"\u1ed6\":\"O\",\"\u1ed4\":\"O\",\"\u00d5\":\"O\",\"\u1e4c\":\"O\",\"\u022c\":\"O\",\"\u1e4e\":\"O\",\"\u014c\":\"O\",\"\u1e50\":\"O\",\"\u1e52\":\"O\",\"\u014e\":\"O\",\"\u022e\":\"O\",\"\u0230\":\"O\",\"\u00d6\":\"O\",\"\u022a\":\"O\",\"\u1ece\":\"O\",\"\u0150\":\"O\",\"\u01d1\":\"O\",\"\u020c\":\"O\",\"\u020e\":\"O\",\"\u01a0\":\"O\",\"\u1edc\":\"O\",\"\u1eda\":\"O\",\"\u1ee0\":\"O\",\"\u1ede\":\"O\",\"\u1ee2\":\"O\",\"\u1ecc\":\"O\",\"\u1ed8\":\"O\",\"\u01ea\":\"O\",\"\u01ec\":\"O\",\"\u00d8\":\"O\",\"\u01fe\":\"O\",\"\u0186\":\"O\",\"\u019f\":\"O\",\"\ua74a\":\"O\",\"\ua74c\":\"O\",\"\u0152\":\"OE\",\"\u01a2\":\"OI\",\"\ua74e\":\"OO\",\"\u0222\":\"OU\",\"\u24c5\":\"P\",\"\uff30\":\"P\",\"\u1e54\":\"P\",\"\u1e56\":\"P\",\"\u01a4\":\"P\",\"\u2c63\":\"P\",\"\ua750\":\"P\",\"\ua752\":\"P\",\"\ua754\":\"P\",\"\u24c6\":\"Q\",\"\uff31\":\"Q\",\"\ua756\":\"Q\",\"\ua758\":\"Q\",\"\u024a\":\"Q\",\"\u24c7\":\"R\",\"\uff32\":\"R\",\"\u0154\":\"R\",\"\u1e58\":\"R\",\"\u0158\":\"R\",\"\u0210\":\"R\",\"\u0212\":\"R\",\"\u1e5a\":\"R\",\"\u1e5c\":\"R\",\"\u0156\":\"R\",\"\u1e5e\":\"R\",\"\u024c\":\"R\",\"\u2c64\":\"R\",\"\ua75a\":\"R\",\"\ua7a6\":\"R\",\"\ua782\":\"R\",\"\u24c8\":\"S\",\"\uff33\":\"S\",\"\u1e9e\":\"S\",\"\u015a\":\"S\",\"\u1e64\":\"S\",\"\u015c\":\"S\",\"\u1e60\":\"S\",\"\u0160\":\"S\",\"\u1e66\":\"S\",\"\u1e62\":\"S\",\"\u1e68\":\"S\",\"\u0218\":\"S\",\"\u015e\":\"S\",\"\u2c7e\":\"S\",\"\ua7a8\":\"S\",\"\ua784\":\"S\",\"\u24c9\":\"T\",\"\uff34\":\"T\",\"\u1e6a\":\"T\",\"\u0164\":\"T\",\"\u1e6c\":\"T\",\"\u021a\":\"T\",\"\u0162\":\"T\",\"\u1e70\":\"T\",\"\u1e6e\":\"T\",\"\u0166\":\"T\",\"\u01ac\":\"T\",\"\u01ae\":\"T\",\"\u023e\":\"T\",\"\ua786\":\"T\",\"\ua728\":\"TZ\",\"\u24ca\":\"U\",\"\uff35\":\"U\",\"\u00d9\":\"U\",\"\u00da\":\"U\",\"\u00db\":\"U\",\"\u0168\":\"U\",\"\u1e78\":\"U\",\"\u016a\":\"U\",\"\u1e7a\":\"U\",\"\u016c\":\"U\",\"\u00dc\":\"U\",\"\u01db\":\"U\",\"\u01d7\":\"U\",\"\u01d5\":\"U\",\"\u01d9\":\"U\",\"\u1ee6\":\"U\",\"\u016e\":\"U\",\"\u0170\":\"U\",\"\u01d3\":\"U\",\"\u0214\":\"U\",\"\u0216\":\"U\",\"\u01af\":\"U\",\"\u1eea\":\"U\",\"\u1ee8\":\"U\",\"\u1eee\":\"U\",\"\u1eec\":\"U\",\"\u1ef0\":\"U\",\"\u1ee4\":\"U\",\"\u1e72\":\"U\",\"\u0172\":\"U\",\"\u1e76\":\"U\",\"\u1e74\":\"U\",\"\u0244\":\"U\",\"\u24cb\":\"V\",\"\uff36\":\"V\",\"\u1e7c\":\"V\",\"\u1e7e\":\"V\",\"\u01b2\":\"V\",\"\ua75e\":\"V\",\"\u0245\":\"V\",\"\ua760\":\"VY\",\"\u24cc\":\"W\",\"\uff37\":\"W\",\"\u1e80\":\"W\",\"\u1e82\":\"W\",\"\u0174\":\"W\",\"\u1e86\":\"W\",\"\u1e84\":\"W\",\"\u1e88\":\"W\",\"\u2c72\":\"W\",\"\u24cd\":\"X\",\"\uff38\":\"X\",\"\u1e8a\":\"X\",\"\u1e8c\":\"X\",\"\u24ce\":\"Y\",\"\uff39\":\"Y\",\"\u1ef2\":\"Y\",\"\u00dd\":\"Y\",\"\u0176\":\"Y\",\"\u1ef8\":\"Y\",\"\u0232\":\"Y\",\"\u1e8e\":\"Y\",\"\u0178\":\"Y\",\"\u1ef6\":\"Y\",\"\u1ef4\":\"Y\",\"\u01b3\":\"Y\",\"\u024e\":\"Y\",\"\u1efe\":\"Y\",\"\u24cf\":\"Z\",\"\uff3a\":\"Z\",\"\u0179\":\"Z\",\"\u1e90\":\"Z\",\"\u017b\":\"Z\",\"\u017d\":\"Z\",\"\u1e92\":\"Z\",\"\u1e94\":\"Z\",\"\u01b5\":\"Z\",\"\u0224\":\"Z\",\"\u2c7f\":\"Z\",\"\u2c6b\":\"Z\",\"\ua762\":\"Z\",\"\u24d0\":\"a\",\"\uff41\":\"a\",\"\u1e9a\":\"a\",\"\u00e0\":\"a\",\"\u00e1\":\"a\",\"\u00e2\":\"a\",\"\u1ea7\":\"a\",\"\u1ea5\":\"a\",\"\u1eab\":\"a\",\"\u1ea9\":\"a\",\"\u00e3\":\"a\",\"\u0101\":\"a\",\"\u0103\":\"a\",\"\u1eb1\":\"a\",\"\u1eaf\":\"a\",\"\u1eb5\":\"a\",\"\u1eb3\":\"a\",\"\u0227\":\"a\",\"\u01e1\":\"a\",\"\u00e4\":\"a\",\"\u01df\":\"a\",\"\u1ea3\":\"a\",\"\u00e5\":\"a\",\"\u01fb\":\"a\",\"\u01ce\":\"a\",\"\u0201\":\"a\",\"\u0203\":\"a\",\"\u1ea1\":\"a\",\"\u1ead\":\"a\",\"\u1eb7\":\"a\",\"\u1e01\":\"a\",\"\u0105\":\"a\",\"\u2c65\":\"a\",\"\u0250\":\"a\",\"\ua733\":\"aa\",\"\u00e6\":\"ae\",\"\u01fd\":\"ae\",\"\u01e3\":\"ae\",\"\ua735\":\"ao\",\"\ua737\":\"au\",\"\ua739\":\"av\",\"\ua73b\":\"av\",\"\ua73d\":\"ay\",\"\u24d1\":\"b\",\"\uff42\":\"b\",\"\u1e03\":\"b\",\"\u1e05\":\"b\",\"\u1e07\":\"b\",\"\u0180\":\"b\",\"\u0183\":\"b\",\"\u0253\":\"b\",\"\u24d2\":\"c\",\"\uff43\":\"c\",\"\u0107\":\"c\",\"\u0109\":\"c\",\"\u010b\":\"c\",\"\u010d\":\"c\",\"\u00e7\":\"c\",\"\u1e09\":\"c\",\"\u0188\":\"c\",\"\u023c\":\"c\",\"\ua73f\":\"c\",\"\u2184\":\"c\",\"\u24d3\":\"d\",\"\uff44\":\"d\",\"\u1e0b\":\"d\",\"\u010f\":\"d\",\"\u1e0d\":\"d\",\"\u1e11\":\"d\",\"\u1e13\":\"d\",\"\u1e0f\":\"d\",\"\u0111\":\"d\",\"\u018c\":\"d\",\"\u0256\":\"d\",\"\u0257\":\"d\",\"\ua77a\":\"d\",\"\u01f3\":\"dz\",\"\u01c6\":\"dz\",\"\u24d4\":\"e\",\"\uff45\":\"e\",\"\u00e8\":\"e\",\"\u00e9\":\"e\",\"\u00ea\":\"e\",\"\u1ec1\":\"e\",\"\u1ebf\":\"e\",\"\u1ec5\":\"e\",\"\u1ec3\":\"e\",\"\u1ebd\":\"e\",\"\u0113\":\"e\",\"\u1e15\":\"e\",\"\u1e17\":\"e\",\"\u0115\":\"e\",\"\u0117\":\"e\",\"\u00eb\":\"e\",\"\u1ebb\":\"e\",\"\u011b\":\"e\",\"\u0205\":\"e\",\"\u0207\":\"e\",\"\u1eb9\":\"e\",\"\u1ec7\":\"e\",\"\u0229\":\"e\",\"\u1e1d\":\"e\",\"\u0119\":\"e\",\"\u1e19\":\"e\",\"\u1e1b\":\"e\",\"\u0247\":\"e\",\"\u025b\":\"e\",\"\u01dd\":\"e\",\"\u24d5\":\"f\",\"\uff46\":\"f\",\"\u1e1f\":\"f\",\"\u0192\":\"f\",\"\ua77c\":\"f\",\"\u24d6\":\"g\",\"\uff47\":\"g\",\"\u01f5\":\"g\",\"\u011d\":\"g\",\"\u1e21\":\"g\",\"\u011f\":\"g\",\"\u0121\":\"g\",\"\u01e7\":\"g\",\"\u0123\":\"g\",\"\u01e5\":\"g\",\"\u0260\":\"g\",\"\ua7a1\":\"g\",\"\u1d79\":\"g\",\"\ua77f\":\"g\",\"\u24d7\":\"h\",\"\uff48\":\"h\",\"\u0125\":\"h\",\"\u1e23\":\"h\",\"\u1e27\":\"h\",\"\u021f\":\"h\",\"\u1e25\":\"h\",\"\u1e29\":\"h\",\"\u1e2b\":\"h\",\"\u1e96\":\"h\",\"\u0127\":\"h\",\"\u2c68\":\"h\",\"\u2c76\":\"h\",\"\u0265\":\"h\",\"\u0195\":\"hv\",\"\u24d8\":\"i\",\"\uff49\":\"i\",\"\u00ec\":\"i\",\"\u00ed\":\"i\",\"\u00ee\":\"i\",\"\u0129\":\"i\",\"\u012b\":\"i\",\"\u012d\":\"i\",\"\u00ef\":\"i\",\"\u1e2f\":\"i\",\"\u1ec9\":\"i\",\"\u01d0\":\"i\",\"\u0209\":\"i\",\"\u020b\":\"i\",\"\u1ecb\":\"i\",\"\u012f\":\"i\",\"\u1e2d\":\"i\",\"\u0268\":\"i\",\"\u0131\":\"i\",\"\u24d9\":\"j\",\"\uff4a\":\"j\",\"\u0135\":\"j\",\"\u01f0\":\"j\",\"\u0249\":\"j\",\"\u24da\":\"k\",\"\uff4b\":\"k\",\"\u1e31\":\"k\",\"\u01e9\":\"k\",\"\u1e33\":\"k\",\"\u0137\":\"k\",\"\u1e35\":\"k\",\"\u0199\":\"k\",\"\u2c6a\":\"k\",\"\ua741\":\"k\",\"\ua743\":\"k\",\"\ua745\":\"k\",\"\ua7a3\":\"k\",\"\u24db\":\"l\",\"\uff4c\":\"l\",\"\u0140\":\"l\",\"\u013a\":\"l\",\"\u013e\":\"l\",\"\u1e37\":\"l\",\"\u1e39\":\"l\",\"\u013c\":\"l\",\"\u1e3d\":\"l\",\"\u1e3b\":\"l\",\"\u017f\":\"l\",\"\u0142\":\"l\",\"\u019a\":\"l\",\"\u026b\":\"l\",\"\u2c61\":\"l\",\"\ua749\":\"l\",\"\ua781\":\"l\",\"\ua747\":\"l\",\"\u01c9\":\"lj\",\"\u24dc\":\"m\",\"\uff4d\":\"m\",\"\u1e3f\":\"m\",\"\u1e41\":\"m\",\"\u1e43\":\"m\",\"\u0271\":\"m\",\"\u026f\":\"m\",\"\u24dd\":\"n\",\"\uff4e\":\"n\",\"\u01f9\":\"n\",\"\u0144\":\"n\",\"\u00f1\":\"n\",\"\u1e45\":\"n\",\"\u0148\":\"n\",\"\u1e47\":\"n\",\"\u0146\":\"n\",\"\u1e4b\":\"n\",\"\u1e49\":\"n\",\"\u019e\":\"n\",\"\u0272\":\"n\",\"\u0149\":\"n\",\"\ua791\":\"n\",\"\ua7a5\":\"n\",\"\u01cc\":\"nj\",\"\u24de\":\"o\",\"\uff4f\":\"o\",\"\u00f2\":\"o\",\"\u00f3\":\"o\",\"\u00f4\":\"o\",\"\u1ed3\":\"o\",\"\u1ed1\":\"o\",\"\u1ed7\":\"o\",\"\u1ed5\":\"o\",\"\u00f5\":\"o\",\"\u1e4d\":\"o\",\"\u022d\":\"o\",\"\u1e4f\":\"o\",\"\u014d\":\"o\",\"\u1e51\":\"o\",\"\u1e53\":\"o\",\"\u014f\":\"o\",\"\u022f\":\"o\",\"\u0231\":\"o\",\"\u00f6\":\"o\",\"\u022b\":\"o\",\"\u1ecf\":\"o\",\"\u0151\":\"o\",\"\u01d2\":\"o\",\"\u020d\":\"o\",\"\u020f\":\"o\",\"\u01a1\":\"o\",\"\u1edd\":\"o\",\"\u1edb\":\"o\",\"\u1ee1\":\"o\",\"\u1edf\":\"o\",\"\u1ee3\":\"o\",\"\u1ecd\":\"o\",\"\u1ed9\":\"o\",\"\u01eb\":\"o\",\"\u01ed\":\"o\",\"\u00f8\":\"o\",\"\u01ff\":\"o\",\"\u0254\":\"o\",\"\ua74b\":\"o\",\"\ua74d\":\"o\",\"\u0275\":\"o\",\"\u0153\":\"oe\",\"\u01a3\":\"oi\",\"\u0223\":\"ou\",\"\ua74f\":\"oo\",\"\u24df\":\"p\",\"\uff50\":\"p\",\"\u1e55\":\"p\",\"\u1e57\":\"p\",\"\u01a5\":\"p\",\"\u1d7d\":\"p\",\"\ua751\":\"p\",\"\ua753\":\"p\",\"\ua755\":\"p\",\"\u24e0\":\"q\",\"\uff51\":\"q\",\"\u024b\":\"q\",\"\ua757\":\"q\",\"\ua759\":\"q\",\"\u24e1\":\"r\",\"\uff52\":\"r\",\"\u0155\":\"r\",\"\u1e59\":\"r\",\"\u0159\":\"r\",\"\u0211\":\"r\",\"\u0213\":\"r\",\"\u1e5b\":\"r\",\"\u1e5d\":\"r\",\"\u0157\":\"r\",\"\u1e5f\":\"r\",\"\u024d\":\"r\",\"\u027d\":\"r\",\"\ua75b\":\"r\",\"\ua7a7\":\"r\",\"\ua783\":\"r\",\"\u24e2\":\"s\",\"\uff53\":\"s\",\"\u00df\":\"s\",\"\u015b\":\"s\",\"\u1e65\":\"s\",\"\u015d\":\"s\",\"\u1e61\":\"s\",\"\u0161\":\"s\",\"\u1e67\":\"s\",\"\u1e63\":\"s\",\"\u1e69\":\"s\",\"\u0219\":\"s\",\"\u015f\":\"s\",\"\u023f\":\"s\",\"\ua7a9\":\"s\",\"\ua785\":\"s\",\"\u1e9b\":\"s\",\"\u24e3\":\"t\",\"\uff54\":\"t\",\"\u1e6b\":\"t\",\"\u1e97\":\"t\",\"\u0165\":\"t\",\"\u1e6d\":\"t\",\"\u021b\":\"t\",\"\u0163\":\"t\",\"\u1e71\":\"t\",\"\u1e6f\":\"t\",\"\u0167\":\"t\",\"\u01ad\":\"t\",\"\u0288\":\"t\",\"\u2c66\":\"t\",\"\ua787\":\"t\",\"\ua729\":\"tz\",\"\u24e4\":\"u\",\"\uff55\":\"u\",\"\u00f9\":\"u\",\"\u00fa\":\"u\",\"\u00fb\":\"u\",\"\u0169\":\"u\",\"\u1e79\":\"u\",\"\u016b\":\"u\",\"\u1e7b\":\"u\",\"\u016d\":\"u\",\"\u00fc\":\"u\",\"\u01dc\":\"u\",\"\u01d8\":\"u\",\"\u01d6\":\"u\",\"\u01da\":\"u\",\"\u1ee7\":\"u\",\"\u016f\":\"u\",\"\u0171\":\"u\",\"\u01d4\":\"u\",\"\u0215\":\"u\",\"\u0217\":\"u\",\"\u01b0\":\"u\",\"\u1eeb\":\"u\",\"\u1ee9\":\"u\",\"\u1eef\":\"u\",\"\u1eed\":\"u\",\"\u1ef1\":\"u\",\"\u1ee5\":\"u\",\"\u1e73\":\"u\",\"\u0173\":\"u\",\"\u1e77\":\"u\",\"\u1e75\":\"u\",\"\u0289\":\"u\",\"\u24e5\":\"v\",\"\uff56\":\"v\",\"\u1e7d\":\"v\",\"\u1e7f\":\"v\",\"\u028b\":\"v\",\"\ua75f\":\"v\",\"\u028c\":\"v\",\"\ua761\":\"vy\",\"\u24e6\":\"w\",\"\uff57\":\"w\",\"\u1e81\":\"w\",\"\u1e83\":\"w\",\"\u0175\":\"w\",\"\u1e87\":\"w\",\"\u1e85\":\"w\",\"\u1e98\":\"w\",\"\u1e89\":\"w\",\"\u2c73\":\"w\",\"\u24e7\":\"x\",\"\uff58\":\"x\",\"\u1e8b\":\"x\",\"\u1e8d\":\"x\",\"\u24e8\":\"y\",\"\uff59\":\"y\",\"\u1ef3\":\"y\",\"\u00fd\":\"y\",\"\u0177\":\"y\",\"\u1ef9\":\"y\",\"\u0233\":\"y\",\"\u1e8f\":\"y\",\"\u00ff\":\"y\",\"\u1ef7\":\"y\",\"\u1e99\":\"y\",\"\u1ef5\":\"y\",\"\u01b4\":\"y\",\"\u024f\":\"y\",\"\u1eff\":\"y\",\"\u24e9\":\"z\",\"\uff5a\":\"z\",\"\u017a\":\"z\",\"\u1e91\":\"z\",\"\u017c\":\"z\",\"\u017e\":\"z\",\"\u1e93\":\"z\",\"\u1e95\":\"z\",\"\u01b6\":\"z\",\"\u0225\":\"z\",\"\u0240\":\"z\",\"\u2c6c\":\"z\",\"\ua763\":\"z\",\"\u0386\":\"\u0391\",\"\u0388\":\"\u0395\",\"\u0389\":\"\u0397\",\"\u038a\":\"\u0399\",\"\u03aa\":\"\u0399\",\"\u038c\":\"\u039f\",\"\u038e\":\"\u03a5\",\"\u03ab\":\"\u03a5\",\"\u038f\":\"\u03a9\",\"\u03ac\":\"\u03b1\",\"\u03ad\":\"\u03b5\",\"\u03ae\":\"\u03b7\",\"\u03af\":\"\u03b9\",\"\u03ca\":\"\u03b9\",\"\u0390\":\"\u03b9\",\"\u03cc\":\"\u03bf\",\"\u03cd\":\"\u03c5\",\"\u03cb\":\"\u03c5\",\"\u03b0\":\"\u03c5\",\"\u03ce\":\"\u03c9\",\"\u03c2\":\"\u03c3\",\"\u2019\":\"'\"}}),e.define(\"select2/data/base\",[\"../utils\"],function(i){function n(e,t){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(e){throw new Error(\"The `current` method must be defined in child classes.\")},n.prototype.query=function(e,t){throw new Error(\"The `query` method must be defined in child classes.\")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+\"-result-\";return n+=i.generateChars(4),null!=t.id?n+=\"-\"+t.id.toString():n+=\"-\"+i.generateChars(4),n},n}),e.define(\"select2/data/select\",[\"./base\",\"../utils\",\"jquery\"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(\":selected\").each(function(){var e=l(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(r){var o=this;if(r.selected=!0,l(r.element).is(\"option\"))return r.element.selected=!0,void this.$element.trigger(\"input\").trigger(\"change\");if(this.$element.prop(\"multiple\"))this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var n=0;n<r.length;n++){var i=r[n].id;-1===l.inArray(i,t)&&t.push(i)}o.$element.val(t),o.$element.trigger(\"input\").trigger(\"change\")});else{var e=r.id;this.$element.val(e),this.$element.trigger(\"input\").trigger(\"change\")}},n.prototype.unselect=function(r){var o=this;if(this.$element.prop(\"multiple\")){if(r.selected=!1,l(r.element).is(\"option\"))return r.element.selected=!1,void this.$element.trigger(\"input\").trigger(\"change\");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==r.id&&-1===l.inArray(i,t)&&t.push(i)}o.$element.val(t),o.$element.trigger(\"input\").trigger(\"change\")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on(\"select\",function(e){n.select(e.data)}),e.on(\"unselect\",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find(\"*\").each(function(){a.RemoveData(this)})},n.prototype.query=function(i,e){var r=[],o=this;this.$element.children().each(function(){var e=l(this);if(e.is(\"option\")||e.is(\"optgroup\")){var t=o.item(e),n=o.matches(i,t);null!==n&&r.push(n)}}),e({results:r})},n.prototype.addOptions=function(e){a.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement(\"optgroup\")).label=e.text:void 0!==(t=document.createElement(\"option\")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=l(t),i=this._normalizeItem(e);return i.element=t,a.StoreData(t,\"data\",i),n},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],\"data\")))return t;if(e.is(\"option\"))t={id:e.val(),text:e.text(),disabled:e.prop(\"disabled\"),selected:e.prop(\"selected\"),title:e.prop(\"title\")};else if(e.is(\"optgroup\")){t={text:e.prop(\"label\"),children:[],title:e.prop(\"title\")};for(var n=e.children(\"option\"),i=[],r=0;r<n.length;r++){var o=l(n[r]),s=this.item(o);i.push(s)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],\"data\",t),t},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=l.extend({},{text:\"\"},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get(\"matcher\")(e,t)},n}),e.define(\"select2/data/array\",[\"./select\",\"../utils\",\"jquery\"],function(e,f,g){function i(e,t){this._dataToConvert=t.get(\"data\")||[],i.__super__.constructor.call(this,e,t)}return f.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(n){var e=this.$element.find(\"option\").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){var t=this,n=this.$element.find(\"option\"),i=n.map(function(){return t.item(g(this)).id}).get(),r=[];function o(e){return function(){return g(this).val()==e.id}}for(var s=0;s<e.length;s++){var a=this._normalizeItem(e[s]);if(0<=g.inArray(a.id,i)){var l=n.filter(o(a)),c=this.item(l),u=g.extend(!0,{},a,c),d=this.option(u);l.replaceWith(d)}else{var p=this.option(a);if(a.children){var h=this.convertToOptions(a.children);f.appendMany(p,h)}r.push(p)}}return r},i}),e.define(\"select2/data/ajax\",[\"./array\",\"../utils\",\"jquery\"],function(e,t,o){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get(\"ajax\")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return o.extend({},e,{q:e.term})},transport:function(e,t,n){var i=o.ajax(e);return i.then(t),i.fail(n),i}};return o.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){var r=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=o.extend({type:\"GET\"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=r.processResults(e,n);r.options.get(\"debug\")&&window.console&&console.error&&(t&&t.results&&o.isArray(t.results)||console.error(\"Select2: The AJAX results did not return an array in the `results` key of the response.\")),i(t)},function(){\"status\"in e&&(0===e.status||\"0\"===e.status)||r.trigger(\"results:message\",{message:\"errorLoading\"})});r._request=e}\"function\"==typeof t.url&&(t.url=t.url.call(this.$element,n)),\"function\"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define(\"select2/data/tags\",[\"jquery\"],function(u){function e(e,t,n){var i=n.get(\"tags\"),r=n.get(\"createTag\");void 0!==r&&(this.createTag=r);var o=n.get(\"insertTag\");if(void 0!==o&&(this.insertTag=o),e.call(this,t,n),u.isArray(i))for(var s=0;s<i.length;s++){var a=i[s],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var i=t.results,r=0;r<i.length;r++){var o=i[r],s=null!=o.children&&!e({results:o.children},!0);if((o.text||\"\").toUpperCase()===(c.term||\"\").toUpperCase()||s)return!n&&(t.data=i,void u(t))}if(n)return!0;var a=d.createTag(c);if(null!=a){var l=d.option(a);l.attr(\"data-select2-tag\",!0),d.addOptions([l]),d.insertTag(i,a)}t.results=i,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){var n=u.trim(t.term);return\"\"===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find(\"option[data-select2-tag]\").each(function(){this.selected||u(this).remove()})},e}),e.define(\"select2/data/tokenizer\",[\"jquery\"],function(d){function e(e,t,n){var i=n.get(\"tokenizer\");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(\".select2-search__field\")},e.prototype.query=function(e,t,n){var i=this;t.term=t.term||\"\";var r=this.tokenizer(t,this.options,function(e){var t=i._normalizeItem(e);if(!i.$element.find(\"option\").filter(function(){return d(this).val()===t.id}).length){var n=i.option(t);n.attr(\"data-select2-tag\",!0),i._removeOldTags(),i.addOptions([n])}!function(e){i.trigger(\"select\",{data:e})}(t)});r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger(\"focus\")),t.term=r.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var r=n.get(\"tokenSeparators\")||[],o=t.term,s=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};s<o.length;){var l=o[s];if(-1!==d.inArray(l,r)){var c=o.substr(0,s),u=a(d.extend({},t,{term:c}));null!=u?(i(u),o=o.substr(s+1)||\"\",s=0):s++}else s++}return{term:o}},e}),e.define(\"select2/data/minimumInputLength\",[],function(){function e(e,t,n){this.minimumInputLength=n.get(\"minimumInputLength\"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||\"\",t.term.length<this.minimumInputLength?this.trigger(\"results:message\",{message:\"inputTooShort\",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define(\"select2/data/maximumInputLength\",[],function(){function e(e,t,n){this.maximumInputLength=n.get(\"maximumInputLength\"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||\"\",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger(\"results:message\",{message:\"inputTooLong\",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define(\"select2/data/maximumSelectionLength\",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get(\"maximumSelectionLength\"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on(\"select\",function(){i._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected(function(){e.call(i,t,n)})},e.prototype._checkIfMaximumSelected=function(e,n){var i=this;this.current(function(e){var t=null!=e?e.length:0;0<i.maximumSelectionLength&&t>=i.maximumSelectionLength?i.trigger(\"results:message\",{message:\"maximumSelected\",args:{maximum:i.maximumSelectionLength}}):n&&n()})},e}),e.define(\"select2/dropdown\",[\"jquery\",\"./utils\"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class=\"select2-dropdown\"><span class=\"select2-results\"></span></span>');return e.attr(\"dir\",this.options.get(\"dir\")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define(\"select2/dropdown/search\",[\"jquery\",\"../utils\"],function(o,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=o('<span class=\"select2-search select2-search--dropdown\"><input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" /></span>');return this.$searchContainer=n,this.$search=n.find(\"input\"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var i=this,r=t.id+\"-results\";e.call(this,t,n),this.$search.on(\"keydown\",function(e){i.trigger(\"keypress\",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on(\"input\",function(e){o(this).off(\"keyup\")}),this.$search.on(\"keyup input\",function(e){i.handleSearch(e)}),t.on(\"open\",function(){i.$search.attr(\"tabindex\",0),i.$search.attr(\"aria-controls\",r),i.$search.trigger(\"focus\"),window.setTimeout(function(){i.$search.trigger(\"focus\")},0)}),t.on(\"close\",function(){i.$search.attr(\"tabindex\",-1),i.$search.removeAttr(\"aria-controls\"),i.$search.removeAttr(\"aria-activedescendant\"),i.$search.val(\"\"),i.$search.trigger(\"blur\")}),t.on(\"focus\",function(){t.isOpen()||i.$search.trigger(\"focus\")}),t.on(\"results:all\",function(e){null!=e.query.term&&\"\"!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass(\"select2-search--hide\"):i.$searchContainer.addClass(\"select2-search--hide\"))}),t.on(\"results:focus\",function(e){e.data._resultId?i.$search.attr(\"aria-activedescendant\",e.data._resultId):i.$search.removeAttr(\"aria-activedescendant\")})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger(\"query\",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define(\"select2/dropdown/hidePlaceholder\",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get(\"placeholder\")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return\"string\"==typeof t&&(t={id:\"\",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),e.define(\"select2/dropdown/infiniteScroll\",[\"jquery\"],function(n){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on(\"query\",function(e){i.lastParams=e,i.loading=!0}),t.on(\"query:append\",function(e){i.lastParams=e,i.loading=!0}),this.$results.on(\"scroll\",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=n.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&e){var t=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=t+50&&this.loadMore()}},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger(\"query:append\",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class=\"select2-results__option select2-results__option--load-more\"role=\"option\" aria-disabled=\"true\"></li>'),t=this.options.get(\"translations\").get(\"loadingMore\");return e.html(t(this.lastParams)),e},e}),e.define(\"select2/dropdown/attachBody\",[\"jquery\",\"../utils\"],function(f,a){function e(e,t,n){this.$dropdownParent=f(n.get(\"dropdownParent\")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on(\"open\",function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)}),t.on(\"close\",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on(\"mousedown\",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr(\"class\",n.attr(\"class\")),t.removeClass(\"select2\"),t.addClass(\"select2-container--open\"),t.css({position:\"absolute\",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=f(\"<span></span>\"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on(\"results:all\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"results:append\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"results:message\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"select\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"unselect\",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},e.prototype._attachPositioningHandler=function(e,t){var n=this,i=\"scroll.select2.\"+t.id,r=\"resize.select2.\"+t.id,o=\"orientationchange.select2.\"+t.id,s=this.$container.parents().filter(a.hasScroll);s.each(function(){a.StoreData(this,\"select2-scroll-position\",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),s.on(i,function(e){var t=a.GetData(this,\"select2-scroll-position\");f(this).scrollTop(t.y)}),f(window).on(i+\" \"+r+\" \"+o,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n=\"scroll.select2.\"+t.id,i=\"resize.select2.\"+t.id,r=\"orientationchange.select2.\"+t.id;this.$container.parents().filter(a.hasScroll).off(n),f(window).off(n+\" \"+i+\" \"+r)},e.prototype._positionDropdown=function(){var e=f(window),t=this.$dropdown.hasClass(\"select2-dropdown--above\"),n=this.$dropdown.hasClass(\"select2-dropdown--below\"),i=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var s=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<r.top-s,u=l>r.bottom+s,d={left:r.left,top:o.bottom},p=this.$dropdownParent;\"static\"===p.css(\"position\")&&(p=p.offsetParent());var h={top:0,left:0};(f.contains(document.body,p[0])||p[0].isConnected)&&(h=p.offset()),d.top-=h.top,d.left-=h.left,t||n||(i=\"below\"),u||!c||t?!c&&u&&t&&(i=\"below\"):i=\"above\",(\"above\"==i||t&&\"below\"!==i)&&(d.top=o.top-h.top-s),null!=i&&(this.$dropdown.removeClass(\"select2-dropdown--below select2-dropdown--above\").addClass(\"select2-dropdown--\"+i),this.$container.removeClass(\"select2-container--below select2-container--above\").addClass(\"select2-container--\"+i)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+\"px\"};this.options.get(\"dropdownAutoWidth\")&&(e.minWidth=e.width,e.position=\"relative\",e.width=\"auto\"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define(\"select2/dropdown/minimumResultsForSearch\",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get(\"minimumResultsForSearch\"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define(\"select2/dropdown/selectOnClose\",[\"../utils\"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on(\"close\",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if(\"select\"===n._type||\"unselect\"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=o.GetData(i[0],\"data\");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger(\"select\",{data:r})}},e}),e.define(\"select2/dropdown/closeOnSelect\",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on(\"select\",function(e){i._selectTriggered(e)}),t.on(\"unselect\",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger(\"close\",{originalEvent:n,originalSelect2Event:t})},e}),e.define(\"select2/i18n/en\",[],function(){return{errorLoading:function(){return\"The results could not be loaded.\"},inputTooLong:function(e){var t=e.input.length-e.maximum,n=\"Please delete \"+t+\" character\";return 1!=t&&(n+=\"s\"),n},inputTooShort:function(e){return\"Please enter \"+(e.minimum-e.input.length)+\" or more characters\"},loadingMore:function(){return\"Loading more results\u2026\"},maximumSelected:function(e){var t=\"You can only select \"+e.maximum+\" item\";return 1!=e.maximum&&(t+=\"s\"),t},noResults:function(){return\"No results found\"},searching:function(){return\"Searching\u2026\"},removeAllItems:function(){return\"Remove all items\"}}}),e.define(\"select2/defaults\",[\"jquery\",\"require\",\"./results\",\"./selection/single\",\"./selection/multiple\",\"./selection/placeholder\",\"./selection/allowClear\",\"./selection/search\",\"./selection/eventRelay\",\"./utils\",\"./translation\",\"./diacritics\",\"./data/select\",\"./data/array\",\"./data/ajax\",\"./data/tags\",\"./data/tokenizer\",\"./data/minimumInputLength\",\"./data/maximumInputLength\",\"./data/maximumSelectionLength\",\"./dropdown\",\"./dropdown/search\",\"./dropdown/hidePlaceholder\",\"./dropdown/infiniteScroll\",\"./dropdown/attachBody\",\"./dropdown/minimumResultsForSearch\",\"./dropdown/selectOnClose\",\"./dropdown/closeOnSelect\",\"./i18n/en\"],function(c,u,d,p,h,f,g,m,v,y,s,t,_,w,$,b,A,x,D,S,C,E,O,T,q,j,L,I,e){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=c.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=$:null!=e.data?e.dataAdapter=w:e.dataAdapter=_,0<e.minimumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,x)),0<e.maximumInputLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,D)),0<e.maximumSelectionLength&&(e.dataAdapter=y.Decorate(e.dataAdapter,S)),e.tags&&(e.dataAdapter=y.Decorate(e.dataAdapter,b)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=y.Decorate(e.dataAdapter,A)),null!=e.query){var t=u(e.amdBase+\"compat/query\");e.dataAdapter=y.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=u(e.amdBase+\"compat/initSelection\");e.dataAdapter=y.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=d,null!=e.ajax&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,T)),null!=e.placeholder&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,O)),e.selectOnClose&&(e.resultsAdapter=y.Decorate(e.resultsAdapter,L))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=C;else{var i=y.Decorate(C,E);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,j)),e.closeOnSelect&&(e.dropdownAdapter=y.Decorate(e.dropdownAdapter,I)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var r=u(e.amdBase+\"compat/dropdownCss\");e.dropdownAdapter=y.Decorate(e.dropdownAdapter,r)}e.dropdownAdapter=y.Decorate(e.dropdownAdapter,q)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=h:e.selectionAdapter=p,null!=e.placeholder&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,f)),e.allowClear&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,g)),e.multiple&&(e.selectionAdapter=y.Decorate(e.selectionAdapter,m)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var o=u(e.amdBase+\"compat/containerCss\");e.selectionAdapter=y.Decorate(e.selectionAdapter,o)}e.selectionAdapter=y.Decorate(e.selectionAdapter,v)}e.language=this._resolveLanguage(e.language),e.language.push(\"en\");for(var s=[],a=0;a<e.language.length;a++){var l=e.language[a];-1===s.indexOf(l)&&s.push(l)}return e.language=s,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function a(e){return e.replace(/[^\\u0000-\\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:\"./\",amdLanguageBase:\"./i18n/\",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:y.escapeMarkup,language:{},matcher:function e(t,n){if(\"\"===c.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=c.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==e(t,n.children[r])&&i.children.splice(r,1);return 0<i.children.length?i:e(t,i)}var o=a(n.text).toUpperCase(),s=a(t.term).toUpperCase();return-1<o.indexOf(s)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:\"default\",width:\"resolve\"}},n.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,r=t.prop(\"lang\"),o=t.closest(\"[lang]\").prop(\"lang\"),s=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(o));return e.language=s,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(c.isEmptyObject(e))return[];if(c.isPlainObject(e))return[e];var t;t=c.isArray(e)?e:[e];for(var n=[],i=0;i<t.length;i++)if(n.push(t[i]),\"string\"==typeof t[i]&&0<t[i].indexOf(\"-\")){var r=t[i].split(\"-\")[0];n.push(r)}return n},n.prototype._processTranslations=function(e,t){for(var n=new s,i=0;i<e.length;i++){var r=new s,o=e[i];if(\"string\"==typeof o)try{r=s.loadPath(o)}catch(e){try{o=this.defaults.amdLanguageBase+o,r=s.loadPath(o)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for \"'+o+'\" could not be automatically loaded. A fallback will be used instead.')}}else r=c.isPlainObject(o)?new s(o):o;n.extend(r)}return n},n.prototype.set=function(e,t){var n={};n[c.camelCase(e)]=t;var i=y._convertData(n);c.extend(!0,this.defaults,i)},new n}),e.define(\"select2/options\",[\"require\",\"jquery\",\"./defaults\",\"./utils\"],function(i,d,r,p){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=r.applyFromElement(this.options,t)),this.options=r.apply(this.options),t&&t.is(\"input\")){var n=i(this.get(\"amdBase\")+\"compat/inputData\");this.options.dataAdapter=p.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=[\"select2\"];null==this.options.multiple&&(this.options.multiple=e.prop(\"multiple\")),null==this.options.disabled&&(this.options.disabled=e.prop(\"disabled\")),null==this.options.dir&&(e.prop(\"dir\")?this.options.dir=e.prop(\"dir\"):e.closest(\"[dir]\").prop(\"dir\")?this.options.dir=e.closest(\"[dir]\").prop(\"dir\"):this.options.dir=\"ltr\"),e.prop(\"disabled\",this.options.disabled),e.prop(\"multiple\",this.options.multiple),p.GetData(e[0],\"select2Tags\")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags=\"true\"` attributes and will be removed in future versions of Select2.'),p.StoreData(e[0],\"data\",p.GetData(e[0],\"select2Tags\")),p.StoreData(e[0],\"tags\",!0)),p.GetData(e[0],\"ajaxUrl\")&&(this.options.debug&&window.console&&console.warn&&console.warn(\"Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.\"),e.attr(\"ajax--url\",p.GetData(e[0],\"ajaxUrl\")),p.StoreData(e[0],\"ajax-Url\",p.GetData(e[0],\"ajaxUrl\")));var n={};function i(e,t){return t.toUpperCase()}for(var r=0;r<e[0].attributes.length;r++){var o=e[0].attributes[r].name,s=\"data-\";if(o.substr(0,s.length)==s){var a=o.substring(s.length),l=p.GetData(e[0],a);n[a.replace(/-([a-z])/g,i)]=l}}d.fn.jquery&&\"1.\"==d.fn.jquery.substr(0,2)&&e[0].dataset&&(n=d.extend(!0,{},e[0].dataset,n));var c=d.extend(!0,{},p.GetData(e[0]),n);for(var u in c=p._convertData(c))-1<d.inArray(u,t)||(d.isPlainObject(this.options[u])?d.extend(this.options[u],c[u]):this.options[u]=c[u]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define(\"select2/core\",[\"jquery\",\"./options\",\"./utils\",\"./keys\"],function(o,c,u,i){var d=function(e,t){null!=u.GetData(e[0],\"select2\")&&u.GetData(e[0],\"select2\").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),d.__super__.constructor.call(this);var n=e.attr(\"tabindex\")||0;u.StoreData(e[0],\"old-tabindex\",n),e.attr(\"tabindex\",\"-1\");var i=this.options.get(\"dataAdapter\");this.dataAdapter=new i(e,this.options);var r=this.render();this._placeContainer(r);var o=this.options.get(\"selectionAdapter\");this.selection=new o(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var s=this.options.get(\"dropdownAdapter\");this.dropdown=new s(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var a=this.options.get(\"resultsAdapter\");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger(\"selection:update\",{data:e})}),e.addClass(\"select2-hidden-accessible\"),e.attr(\"aria-hidden\",\"true\"),this._syncAttributes(),u.StoreData(e[0],\"select2\",this),e.data(\"select2\",this)};return u.Extend(d,u.Observable),d.prototype._generateId=function(e){return\"select2-\"+(null!=e.attr(\"id\")?e.attr(\"id\"):null!=e.attr(\"name\")?e.attr(\"name\")+\"-\"+u.generateChars(2):u.generateChars(4)).replace(/(:|\\.|\\[|\\]|,)/g,\"\")},d.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get(\"width\"));null!=t&&e.css(\"width\",t)},d.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(\"resolve\"==t){var i=this._resolveWidth(e,\"style\");return null!=i?i:this._resolveWidth(e,\"element\")}if(\"element\"==t){var r=e.outerWidth(!1);return r<=0?\"auto\":r+\"px\"}if(\"style\"!=t)return\"computedstyle\"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr(\"style\");if(\"string\"!=typeof o)return null;for(var s=o.split(\";\"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\\s/g,\"\").match(n);if(null!==c&&1<=c.length)return c[1]}return null},d.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},d.prototype._registerDomEvents=function(){var t=this;this.$element.on(\"change.select2\",function(){t.dataAdapter.current(function(e){t.trigger(\"selection:update\",{data:e})})}),this.$element.on(\"focus.select2\",function(e){t.trigger(\"focus\",e)}),this._syncA=u.bind(this._syncAttributes,this),this._syncS=u.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent(\"onpropertychange\",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener(\"DOMAttrModified\",t._syncA,!1),this.$element[0].addEventListener(\"DOMNodeInserted\",t._syncS,!1),this.$element[0].addEventListener(\"DOMNodeRemoved\",t._syncS,!1))},d.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on(\"*\",function(e,t){n.trigger(e,t)})},d.prototype._registerSelectionEvents=function(){var n=this,i=[\"toggle\",\"focus\"];this.selection.on(\"toggle\",function(){n.toggleDropdown()}),this.selection.on(\"focus\",function(e){n.focus(e)}),this.selection.on(\"*\",function(e,t){-1===o.inArray(e,i)&&n.trigger(e,t)})},d.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on(\"*\",function(e,t){n.trigger(e,t)})},d.prototype._registerResultsEvents=function(){var n=this;this.results.on(\"*\",function(e,t){n.trigger(e,t)})},d.prototype._registerEvents=function(){var n=this;this.on(\"open\",function(){n.$container.addClass(\"select2-container--open\")}),this.on(\"close\",function(){n.$container.removeClass(\"select2-container--open\")}),this.on(\"enable\",function(){n.$container.removeClass(\"select2-container--disabled\")}),this.on(\"disable\",function(){n.$container.addClass(\"select2-container--disabled\")}),this.on(\"blur\",function(){n.$container.removeClass(\"select2-container--focus\")}),this.on(\"query\",function(t){n.isOpen()||n.trigger(\"open\",{}),this.dataAdapter.query(t,function(e){n.trigger(\"results:all\",{data:e,query:t})})}),this.on(\"query:append\",function(t){this.dataAdapter.query(t,function(e){n.trigger(\"results:append\",{data:e,query:t})})}),this.on(\"keypress\",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(e),e.preventDefault()):t===i.ENTER?(n.trigger(\"results:select\",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger(\"results:toggle\",{}),e.preventDefault()):t===i.UP?(n.trigger(\"results:previous\",{}),e.preventDefault()):t===i.DOWN&&(n.trigger(\"results:next\",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},d.prototype._syncAttributes=function(){this.options.set(\"disabled\",this.$element.prop(\"disabled\")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger(\"disable\",{})):this.trigger(\"enable\",{})},d.prototype._isChangeMutation=function(e,t){var n=!1,i=this;if(!e||!e.target||\"OPTION\"===e.target.nodeName||\"OPTGROUP\"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++){t.addedNodes[r].selected&&(n=!0)}else t.removedNodes&&0<t.removedNodes.length?n=!0:o.isArray(t)&&o.each(t,function(e,t){if(i._isChangeMutation(e,t))return!(n=!0)});else n=!0;return n}},d.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),i=this;n&&this.dataAdapter.current(function(e){i.trigger(\"selection:update\",{data:e})})},d.prototype.trigger=function(e,t){var n=d.__super__.trigger,i={open:\"opening\",close:\"closing\",select:\"selecting\",unselect:\"unselecting\",clear:\"clearing\"};if(void 0===t&&(t={}),e in i){var r=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,r,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},d.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},d.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger(\"query\",{})},d.prototype.close=function(e){this.isOpen()&&this.trigger(\"close\",{originalEvent:e})},d.prototype.isEnabled=function(){return!this.isDisabled()},d.prototype.isDisabled=function(){return this.options.get(\"disabled\")},d.prototype.isOpen=function(){return this.$container.hasClass(\"select2-container--open\")},d.prototype.hasFocus=function(){return this.$container.hasClass(\"select2-container--focus\")},d.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass(\"select2-container--focus\"),this.trigger(\"focus\",{}))},d.prototype.enable=function(e){this.options.get(\"debug\")&&window.console&&console.warn&&console.warn('Select2: The `select2(\"enable\")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop(\"disabled\") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop(\"disabled\",t)},d.prototype.data=function(){this.options.get(\"debug\")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2(\"data\")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},d.prototype.val=function(e){if(this.options.get(\"debug\")&&window.console&&console.warn&&console.warn('Select2: The `select2(\"val\")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger(\"input\").trigger(\"change\")},d.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent(\"onpropertychange\",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener(\"DOMAttrModified\",this._syncA,!1),this.$element[0].removeEventListener(\"DOMNodeInserted\",this._syncS,!1),this.$element[0].removeEventListener(\"DOMNodeRemoved\",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(\".select2\"),this.$element.attr(\"tabindex\",u.GetData(this.$element[0],\"old-tabindex\")),this.$element.removeClass(\"select2-hidden-accessible\"),this.$element.attr(\"aria-hidden\",\"false\"),u.RemoveData(this.$element[0]),this.$element.removeData(\"select2\"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},d.prototype.render=function(){var e=o('<span class=\"select2 select2-container\"><span class=\"selection\"></span><span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span></span>');return e.attr(\"dir\",this.options.get(\"dir\")),this.$container=e,this.$container.addClass(\"select2-container--\"+this.options.get(\"theme\")),u.StoreData(e[0],\"element\",this.$element),e},d}),e.define(\"select2/compat/utils\",[\"jquery\"],function(s){return{syncCssClasses:function(e,t,n){var i,r,o=[];(i=s.trim(e.attr(\"class\")))&&s((i=\"\"+i).split(/\\s+/)).each(function(){0===this.indexOf(\"select2-\")&&o.push(this)}),(i=s.trim(t.attr(\"class\")))&&s((i=\"\"+i).split(/\\s+/)).each(function(){0!==this.indexOf(\"select2-\")&&null!=(r=n(this))&&o.push(r)}),e.attr(\"class\",o.join(\" \"))}}}),e.define(\"select2/compat/containerCss\",[\"jquery\",\"./utils\"],function(s,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get(\"containerCssClass\")||\"\";s.isFunction(n)&&(n=n(this.$element));var i=this.options.get(\"adaptContainerCssClass\");if(i=i||l,-1!==n.indexOf(\":all:\")){n=n.replace(\":all:\",\"\");var r=i;i=function(e){var t=r(e);return null!=t?t+\" \"+e:e}}var o=this.options.get(\"containerCss\")||{};return s.isFunction(o)&&(o=o(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(o),t.addClass(n),t},e}),e.define(\"select2/compat/dropdownCss\",[\"jquery\",\"./utils\"],function(s,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get(\"dropdownCssClass\")||\"\";s.isFunction(n)&&(n=n(this.$element));var i=this.options.get(\"adaptDropdownCssClass\");if(i=i||l,-1!==n.indexOf(\":all:\")){n=n.replace(\":all:\",\"\");var r=i;i=function(e){var t=r(e);return null!=t?t+\" \"+e:e}}var o=this.options.get(\"dropdownCss\")||{};return s.isFunction(o)&&(o=o(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(o),t.addClass(n),t},e}),e.define(\"select2/compat/initSelection\",[\"jquery\"],function(i){function e(e,t,n){n.get(\"debug\")&&window.console&&console.warn&&console.warn(\"Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2\"),this.initSelection=n.get(\"initSelection\"),this._isInitialized=!1,e.call(this,t,n)}return e.prototype.current=function(e,t){var n=this;this._isInitialized?e.call(this,t):this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,i.isArray(e)||(e=[e]),t(e)})},e}),e.define(\"select2/compat/inputData\",[\"jquery\",\"../utils\"],function(s,i){function e(e,t,n){this._currentData=[],this._valueSeparator=n.get(\"valueSeparator\")||\",\",\"hidden\"===t.prop(\"type\")&&n.get(\"debug\")&&console&&console.warn&&console.warn(\"Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.\"),e.call(this,t,n)}return e.prototype.current=function(e,t){function i(e,t){var n=[];return e.selected||-1!==s.inArray(e.id,t)?(e.selected=!0,n.push(e)):e.selected=!1,e.children&&n.push.apply(n,i(e.children,t)),n}for(var n=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r];n.push.apply(n,i(o,this.$element.val().split(this._valueSeparator)))}t(n)},e.prototype.select=function(e,t){if(this.options.get(\"multiple\")){var n=this.$element.val();n+=this._valueSeparator+t.id,this.$element.val(n),this.$element.trigger(\"input\").trigger(\"change\")}else this.current(function(e){s.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger(\"input\").trigger(\"change\")},e.prototype.unselect=function(e,r){var o=this;r.selected=!1,this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];r.id!=i.id&&t.push(i.id)}o.$element.val(t.join(o._valueSeparator)),o.$element.trigger(\"input\").trigger(\"change\")})},e.prototype.query=function(e,t,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],s=this.matches(t,o);null!==s&&i.push(s)}n({results:i})},e.prototype.addOptions=function(e,t){var n=s.map(t,function(e){return i.GetData(e[0],\"data\")});this._currentData.push.apply(this._currentData,n)},e}),e.define(\"select2/compat/matcher\",[\"jquery\"],function(s){return function(o){return function(e,t){var n=s.extend(!0,{},t);if(null==e.term||\"\"===s.trim(e.term))return n;if(t.children){for(var i=t.children.length-1;0<=i;i--){var r=t.children[i];o(e.term,r.text,r)||n.children.splice(i,1)}if(0<n.children.length)return n}return o(e.term,t.text,t)?n:null}}}),e.define(\"select2/compat/query\",[],function(){function e(e,t,n){n.get(\"debug\")&&window.console&&console.warn&&console.warn(\"Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.\"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get(\"query\").call(null,t)},e}),e.define(\"select2/dropdown/attachContainer\",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(\".dropdown-wrapper\").append(t),t.addClass(\"select2-dropdown--below\"),n.addClass(\"select2-container--below\")},e}),e.define(\"select2/dropdown/stopPropagation\",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);this.$dropdown.on([\"blur\",\"change\",\"click\",\"dblclick\",\"focus\",\"focusin\",\"focusout\",\"input\",\"keydown\",\"keyup\",\"keypress\",\"mousedown\",\"mouseenter\",\"mouseleave\",\"mousemove\",\"mouseover\",\"mouseup\",\"search\",\"touchend\",\"touchstart\"].join(\" \"),function(e){e.stopPropagation()})},e}),e.define(\"select2/selection/stopPropagation\",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);this.$selection.on([\"blur\",\"change\",\"click\",\"dblclick\",\"focus\",\"focusin\",\"focusout\",\"input\",\"keydown\",\"keyup\",\"keypress\",\"mousedown\",\"mouseenter\",\"mouseleave\",\"mousemove\",\"mouseover\",\"mouseup\",\"search\",\"touchend\",\"touchstart\"].join(\" \"),function(e){e.stopPropagation()})},e}),l=function(p){var h,f,e=[\"wheel\",\"mousewheel\",\"DOMMouseScroll\",\"MozMousePixelScroll\"],t=\"onwheel\"in document||9<=document.documentMode?[\"wheel\"]:[\"mousewheel\",\"DomMouseScroll\",\"MozMousePixelScroll\"],g=Array.prototype.slice;if(p.event.fixHooks)for(var n=e.length;n;)p.event.fixHooks[e[--n]]=p.event.mouseHooks;var m=p.event.special.mousewheel={version:\"3.1.12\",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;p.data(this,\"mousewheel-line-height\",m.getLineHeight(this)),p.data(this,\"mousewheel-page-height\",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;p.removeData(this,\"mousewheel-line-height\"),p.removeData(this,\"mousewheel-page-height\")},getLineHeight:function(e){var t=p(e),n=t[\"offsetParent\"in p.fn?\"offsetParent\":\"parent\"]();return n.length||(n=p(\"body\")),parseInt(n.css(\"fontSize\"),10)||parseInt(t.css(\"fontSize\"),10)||16},getPageHeight:function(e){return p(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=g.call(arguments,1),r=0,o=0,s=0,a=0,l=0;if((e=p.event.fix(n)).type=\"mousewheel\",\"detail\"in n&&(s=-1*n.detail),\"wheelDelta\"in n&&(s=n.wheelDelta),\"wheelDeltaY\"in n&&(s=n.wheelDeltaY),\"wheelDeltaX\"in n&&(o=-1*n.wheelDeltaX),\"axis\"in n&&n.axis===n.HORIZONTAL_AXIS&&(o=-1*s,s=0),r=0===s?o:s,\"deltaY\"in n&&(r=s=-1*n.deltaY),\"deltaX\"in n&&(o=n.deltaX,0===s&&(r=-1*o)),0!==s||0!==o){if(1===n.deltaMode){var c=p.data(this,\"mousewheel-line-height\");r*=c,s*=c,o*=c}else if(2===n.deltaMode){var u=p.data(this,\"mousewheel-page-height\");r*=u,s*=u,o*=u}if(t=Math.max(Math.abs(s),Math.abs(o)),(!f||t<f)&&y(n,f=t)&&(f/=40),y(n,t)&&(r/=40,o/=40,s/=40),r=Math[1<=r?\"floor\":\"ceil\"](r/f),o=Math[1<=o?\"floor\":\"ceil\"](o/f),s=Math[1<=s?\"floor\":\"ceil\"](s/f),m.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();a=e.clientX-d.left,l=e.clientY-d.top}return e.deltaX=o,e.deltaY=s,e.deltaFactor=f,e.offsetX=a,e.offsetY=l,e.deltaMode=0,i.unshift(e,r,o,s),h&&clearTimeout(h),h=setTimeout(v,200),(p.event.dispatch||p.event.handle).apply(this,i)}}function v(){f=null}function y(e,t){return m.settings.adjustOldDeltas&&\"mousewheel\"===e.type&&t%120==0}p.fn.extend({mousewheel:function(e){return e?this.bind(\"mousewheel\",e):this.trigger(\"mousewheel\")},unmousewheel:function(e){return this.unbind(\"mousewheel\",e)}})},\"function\"==typeof e.define&&e.define.amd?e.define(\"jquery-mousewheel\",[\"jquery\"],l):\"object\"==typeof exports?module.exports=l:l(d),e.define(\"jquery.select2\",[\"jquery\",\"jquery-mousewheel\",\"./select2/core\",\"./select2/defaults\",\"./select2/utils\"],function(r,e,o,t,s){if(null==r.fn.select2){var a=[\"open\",\"close\",\"destroy\"];r.fn.select2=function(t){if(\"object\"==typeof(t=t||{}))return this.each(function(){var e=r.extend(!0,{},t);new o(r(this),e)}),this;if(\"string\"!=typeof t)throw new Error(\"Invalid arguments for Select2: \"+t);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=s.GetData(this,\"select2\");null==e&&window.console&&console.error&&console.error(\"The select2('\"+t+\"') method was called on an element that is not using Select2.\"),n=e[t].apply(e,i)}),-1<r.inArray(t,a)?this:n}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=t),o}),{define:e.define,require:e.require}}(),t=e.require(\"jquery.select2\");return d.fn.select2.amd=e,t});","Magiccart_Lookbook/js/plugin/jquery.easypin.js":"(function (factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['jquery'], function ($) {\n            return factory($);\n        });\n    } else if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        module.exports = factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n})(function($){\n\n\t$.fn.easypin = function(options) {\n\n\t\toptions = options || {};\n\n        if(localStorage) {\n            localStorage.removeItem('easypin');\n        }\n\n\t\tvar parentClass = $.fn.easypin.defaults.parentClass;\n\t\tvar pinMapClass = $.fn.easypin.defaults.pinMapClass;\n\t\tvar hoverClass = $.fn.easypin.defaults.hoverClass;\n\t\tvar dashWidth = $.fn.easypin.defaults.dashWidth;\n\t\tvar imageZindex = $.fn.easypin.defaults.imageZindex;\n\t\tvar pinMapZindex = $.fn.easypin.defaults.pinMapZindex;\n\t\tvar hoverLayerZindex = $.fn.easypin.defaults.hoverLayerZindex;\n\n\t\t// set default options values and became user side\n\t\t$.extend($.fn.easypin.defaults, options );\n\n        var willPinningElements = this;\n        var loadedImgNum = 0;\n        var total = $(this).length;\n\n        // hide all images\n        willPinningElements.each(function(i) {\n            $(this).css('opacity', 0);\n        });\n\n        $(this).on('load', function() {\n\n            loadedImgNum += 1;\n            // show loaded image\n            $(this).animate(\n                {\n                    'opacity': '1'\n                },\n                {\n                    duration: 'fast',\n                    easing: 'easeInQuad'\n                }\n            );\n\n            if (loadedImgNum == total) {\n\n                willPinningElements.each(function(i) {\n\n        \t\t\t// get targetimage sizes\n        \t\t\tvar imageWidth = $(this).width();\n        \t\t\tvar imageHeight = $(this).height();\n\n        \t\t\tif(imageHeight > 0) {\n\n            \t\t\t// create parent element and add than target image after\n            \t\t\tvar containerElement = $(this)\n            \t\t\t\t.after(\n                                $('<div/>', {'class': parentClass})\n                                    .attr('data-index', setIndex(setClass(parentClass), document.body))\n                            )\n            \t\t\t\t.appendTo(setClass(parentClass)+':last')\n            \t\t\t\t.css('position', 'absolute')\n            \t\t\t\t.css('z-index', imageZindex);\n\n            \t\t\t// add class to target image\n            \t\t\t$(this).addClass('easypin-target')\n\n                        // creating random key for easypin-id\n                        if(! $(this).attr('easypin-id')) {\n                            var easypinId = createRandomId();\n                            $(this).attr('easypin-id', easypinId);\n                        }else{\n                            var easypinId = $(this).attr('easypin-id');\n                        }\n\n            \t\t\t// set target image sizes to parent container\n            \t\t\tcontainerElement\n            \t\t\t\t.parent()\n            \t\t\t\t.attr($.fn.easypin.config('widthAttribute'), imageWidth)\n            \t\t\t\t.attr($.fn.easypin.config('heightAttribute'), imageHeight)\n            \t\t\t\t// and set style width, height and position\n            \t\t\t\t.css({\n            \t\t\t\t\twidth: setPx(imageWidth),\n            \t\t\t\t\theight: setPx(imageHeight),\n            \t\t\t\t\tposition: $.fn.easypin.config('parentPosition'),\n            \t\t\t\t\tborder: setPx(dashWidth)+' dashed #383838',\n                                'box-sizing': 'content-box',\n                                'webkit-box-sizing': 'content-box',\n                                '-moz-box-sizing': 'content-box'\n            \t\t\t\t});\n\n                        initPin(easypinId, $(this));\n            \t\t}\n        \t\t});\n\n                // hover event\n        \t\tvar parentElement = $(setClass(parentClass));\n\n        \t\t// on hover parent element then create opacity\n        \t\t$(parentElement).hover(function() {\n        \t\t\t// if popup is open stop hover animate\n        \t\t\tif(! is_open('popup', $(this))) {\n        \t\t\t\t$(this)\n        \t\t\t\t\t.prepend(\n        \t\t\t\t\t\t$('<div/>', {'class': hoverClass})\n        \t\t\t\t\t\t\t.css({\n        \t\t\t\t\t\t\t\twidth: '100%',\n        \t\t\t\t\t\t\t\theight: '100%',\n        \t\t\t\t\t\t\t\tposition: 'absolute',\n        \t\t\t\t\t\t\t\topacity: 0,\n        \t\t\t\t\t\t\t\t'z-index': hoverLayerZindex,\n        \t\t\t\t\t\t\t\t'background-color': 'black',\n        \t\t\t\t\t\t\t\tcursor: 'copy'\n        \t\t\t\t\t\t\t})\n        \t\t\t\t\t)\n        \t\t\t\t\t// cross to children object\n        \t\t\t\t\t.children(setClass(hoverClass))\n        \t\t\t\t\t\t.animate({\n        \t\t\t\t\t\t    opacity: 0.2,\n        \t\t\t\t\t\t}, 800);\n        \t\t\t}\n\n        \t\t// on mouseleave then remove opacity\n        \t\t},function() {\n        \t\t\t$(this)\n        \t\t\t\t// cross to children object\n        \t\t\t\t.children(setClass(hoverClass))\n        \t\t\t\t.animate({\n        \t\t\t\t    opacity: 0,\n        \t\t\t\t},\n        \t\t\t\t'fast', // how fast we are animating\n            \t\t\t'swing', // the type of easing\n        \t\t\t\tfunction() {\n        \t\t\t   \t\t$(this).remove();\n        \t\t\t\t}\n        \t\t\t);\n\n        \t\t})\n        \t\t.append($('<div/>', {'class': pinMapClass})\n        \t\t\t// child element\n        \t\t\t.css({\n        \t\t\t\tposition: 'absolute',\n        \t\t\t\t'z-index': pinMapZindex\n        \t\t\t})\n        \t\t)\n        \t\t// set mousedown event on parent element\n        \t\t.bind('mousedown', function(e) {\n        \t\t\t// if clicked event is not parent and hover class stop propagation\n        \t\t\tif(! $(e.target).is(setClass(parentClass)) && !$(e.target).is(setClass(hoverClass))) {\n        \t\t\t\te.stopPropagation();\n        \t\t\t\treturn;\n        \t\t\t}\n\n        \t\t\t// only allow key code one\n        \t\t\tif(e.which != 1) return;\n\n        \t\t\t// get parent element instance\n        \t\t\tvar parentElement = e.currentTarget;\n\n                    // get total marker\n                    var totalMarker = $('.easy-marker', parentElement).length;\n\n                    // general limit\n                    var limit = parseInt($.fn.easypin.defaults.limit);\n\n                    // only element limit\n                    var elLimit = $('img'+setClass('easypin-target'), parentElement).attr('easypin-limit');\n\n                    // check the limit\n                    if(elLimit && !isNaN(elLimit) && parseInt(elLimit) != 0) {\n                        if(totalMarker >= parseInt(elLimit)) {\n                            $.fn.easypin.defaults.exceeded('limit exceeded');\n                            return;\n                        }\n                    }\n                    else if(limit != 0 && totalMarker >= limit) {\n                        $.fn.easypin.defaults.exceeded('limit exceeded');\n                        return;\n                    }\n\n        \t\t\t// get target image sizes\n        \t\t\tvar imageWidth = $('img'+setClass('easypin-target'), parentElement).width();\n        \t\t\tvar imageHeight = $('img'+setClass('easypin-target'), parentElement).height();\n\n        \t\t\t// pin map class sized\n        \t\t\t$(setClass(pinMapClass), parentElement)\n        \t\t\t\t.css({\n        \t\t\t\t\twidth: setPx(imageWidth),\n        \t\t\t\t\theight: setPx(imageHeight)\n        \t\t\t\t});\n\n        \t\t\t// get config variable\n        \t\t\tvar src = $.fn.easypin.defaults.markerSrc;\n        \t\t\tvar markerWidth = $.fn.easypin.defaults.markerWidth;\n        \t\t\tvar markerHeight = $.fn.easypin.defaults.markerHeight == 'auto' ? markerWidth : $.fn.easypin.defaults.markerHeight;\n        \t\t\tvar markerClass = $.fn.easypin.defaults.markerClass;\n        \t\t\tvar markerContainerZindex = $.fn.easypin.defaults.markerContainerZindex;\n\n        \t\t\t// canvas border width\n        \t\t\tvar dashWidth = $.fn.easypin.defaults.dashWidth;\n\n        \t\t\t// get x, y balance value\n        \t\t\tvar posYBalance = $.fn.easypin.defaults.posYBalance;\n        \t\t\tvar posXBalance = $.fn.easypin.defaults.posXBalance;\n\n        \t\t\t// get current target image instance\n        \t\t\tvar targetImage = $('img'+setClass('easypin-target'), parentElement);\n\n        \t\t\t// set cursor position coordinate\n        \t\t\tvar imagePositionY = targetImage.offset().top - (dashWidth-posYBalance);\n        \t\t\tvar imagePositionX = targetImage.offset().left - (dashWidth-posXBalance);\n        \t\t\tvar clickPosX = (e.pageX-imagePositionX);\n        \t\t\tvar clickPosY = (e.pageY-imagePositionY);\n\n        \t\t\t// get marker half size (width/height)\n        \t\t\tvar markerWidthHalf = (markerWidth/2);\n        \t        var markerHeightHalf = (markerHeight/2);\n\n        \t\t\t// set canvas border position\n        \t\t\tvar markerBorderX = clickPosX-(markerWidth/2);\n        \t\t\tvar markerBorderY = clickPosY-(markerHeight/2);\n\n        \t\t\tif(markerBorderX < 0) {\n        \t\t\t\tmarkerBorderX = 0;\n        \t\t\t}\n        \t\t\telse if(clickPosX+markerWidthHalf > imageWidth) {\n        \t\t\t\tmarkerBorderX = imageWidth-markerWidth;\n        \t\t\t}\n\n        \t\t\tif(markerBorderY < 0) {\n        \t\t\t\tmarkerBorderY = 0;\n        \t\t\t}\n        \t\t\telse if(clickPosY+markerHeightHalf > imageHeight) {\n        \t\t\t\tmarkerBorderY = imageHeight-markerHeight;\n        \t\t\t}\n\n        \t\t\tvar absX = markerBorderX.toFixed(3)-markerWidthHalf;\n        \t\t\tvar absY = markerBorderY.toFixed(3)-markerHeightHalf;\n\n                    // create tool\n                    var tools = createTools({\n                        markerWidth: markerWidth,\n                        markerHeight: markerHeight\n                    });\n\n                    // create marker container\n                    var markerContainer = createMarker({\n                        tools: tools,\n                        parentElement: parentElement,\n                        markerClass: markerClass,\n                        markerBorderX: markerBorderX,\n                        markerBorderY: markerBorderY,\n                        markerWidth: markerWidth,\n                        markerHeight: markerHeight,\n                        markerContainerZindex: markerContainerZindex,\n                        markerWidth: markerWidth,\n                        absX: absX,\n                        absY: absY,\n                        imageWidth: imageWidth,\n                        imageHeight: imageHeight,\n                        parentElement: parentElement,\n                        src: src\n                    });\n        \t\t});\n\n                // object instance add to container\n                $.fn.easypin.di('instance', $.fn.easypin);\n\n            }\n\n        });\n\n\t\treturn this;\n\t};\n\n    var createMarker = function(depends) {\n\n        var parentElement = depends.parentElement;\n\n        // create marker container\n        var markerContainer = $('<div/>', {'class': depends.markerClass})\n            .css('left', setPx(depends.markerBorderX))\n            .css('top', setPx(depends.markerBorderY-15))\n            .css('width', depends.markerWidth)\n            .css('height', depends.markerHeight)\n            .css('margin-left', setPx(depends.marginLeft))\n            .css('margin-top', setPx(depends.marginTop))\n            .css('position', 'absolute')\n            .css('opacity', 0)\n            .css('z-index', depends.markerContainerZindex+10)\n            .css('background-image', 'url('+depends.src+')')\n            .css('background-size', setPx(depends.markerWidth))\n            .css('cursor', 'move')\n            .attr($.fn.easypin.config('xAttribute'), depends.absX)\n            .attr($.fn.easypin.config('yAttribute'), depends.absY)\n            .attr($.fn.easypin.config('widthAttribute'), depends.imageWidth)\n            .attr($.fn.easypin.config('heightAttribute'), depends.imageHeight)\n            .attr('data-index', setIndex('.easy-marker', depends.parentElement));\n\n            var markerIndex = $(markerContainer).attr('data-index');\n            var parentIndex = $(depends.parentElement).attr('data-index');\n            var parentId = $('.easypin-target', depends.parentElement).attr('easypin-id');\n\n            // remove marker\n            $(markerContainer).on('click', '.easy-delete', function(e) {\n\n                dataRemove(parentId, markerIndex);\n\n                $(e.currentTarget).closest('.easy-marker').remove();\n            });\n\n            // set the marker content\n            $(markerContainer).on('click', '.easy-edit', function(e) {\n                // creates popup and return instance\n                var modalInstance = createPopup(e, markerContainer);\n\n                // data set to input fields\n                setDataToFields(parentId, markerIndex, modalInstance);\n            });\n\n            // marker tools append to marker container\n            $(markerContainer).append(depends.tools);\n\n            // set cursor x,y position\n            var xPosition = depends.markerBorderX.toFixed(3);\n            var yPosition = depends.markerBorderY.toFixed(3);\n\n            // marker container append to pin parent container and run callback function\n            if(is_open('popup', depends.parentElement)) {\n                $(depends.parentElement).prepend(markerContainer, $.fn.easypin.defaults.drop(depends.absX, depends.absY, markerContainer));\n            }else{\n                $(depends.parentElement).append(markerContainer, $.fn.easypin.defaults.drop(depends.absX, depends.absY, markerContainer));\n            }\n\n            // calculate tools position for animate\n            if((depends.markerBorderY+depends.markerHeight+10) > depends.imageHeight) {\n                var toolsPosition = -13;\n            }else {\n                var toolsPosition = depends.markerHeight+2;\n            }\n\n            // marker animate\n            $(markerContainer).animate(\n                {\n                    opacity: 1,\n                    top: setPx(depends.markerBorderY)\n                },\n                {\n                    duration: 'slow',\n                    easing: 'easeOutElastic',\n                    complete: function() {\n\n                        // tools animate\n                        $(depends.tools).animate(\n                            {\n                                'opacity': '.4',\n                                'top': setPx(toolsPosition)\n                            },\n                            {\n                                duration: 'slow',\n                                easing: 'easeOutElastic'\n                            }\n                        ).hover(function() {\n                            $(this).animate(\n                                {\n                                    'opacity': '1'\n                                },\n                                {\n                                    duration: 'slow',\n                                    easing: 'easeInOutQuint'\n                                }\n                            ).css('cursor', 'pointer');\n                        },function() {\n                            $(this).animate(\n                                {\n                                    'opacity': '.4'\n                                },\n                                {\n                                    duration: 'slow',\n                                    easing: 'easeInOutQuint'\n                                }\n                            );\n                        });\n                    }\n                }\n            );\n\n            var cc = false;\n            // binding methods mousedown and mousemove\n            $(markerContainer).bind('mousedown', function (e) {\n                e.stopPropagation();\n\n                if(e.which != 1) return;\n\n                var markerInstance = e.currentTarget;\n\n                if($(e.target).parent().is(setClass('popoverContent'))) {\n                    cc = true;\n                }else{\n                    cc = $(e.target).is(setClass('popoverContent'));\n                }\n\n                $(parentElement).bind('mousemove', function (e) {\n\n                    if((! $(e.target).is('div.easy-marker') &&\n                        !$(e.target).is(setClass($.fn.easypin.defaults.hoverClass))) &&\n                        cc === true\n                    ) return;\n\n                    var parentElement = $(markerInstance).parent();\n                    var markerContainer = $(markerInstance);\n\n                    var targetImage = $('img.easypin-target', parentElement)\n                    var markerWidthHalf = (depends.markerWidth/2);\n                    var markerHeightHalf = (depends.markerHeight/2);\n                    liveY = e.pageY-targetImage.offset().top;\n                    liveX = e.pageX-targetImage.offset().left;\n\n                    var relY = liveY;\n                    var relX = liveX;\n\n                    if(liveY - markerHeightHalf < 0) {\n                        var relY = markerHeightHalf;\n                    }\n                    else if(liveY + markerHeightHalf > depends.imageHeight) {\n                        var relY = depends.imageHeight-markerHeightHalf;\n                    }\n\n                    if(liveX - markerWidthHalf < 0) {\n                        var relX = markerWidthHalf;\n                    }\n                    else if(liveX + markerWidthHalf > depends.imageWidth) {\n                        var relX = depends.imageWidth-markerWidthHalf;\n                    }\n\n                    var absX = relX.toFixed(3)-markerWidthHalf;\n                    var absY = parseInt(relY.toFixed(3))+markerHeightHalf;\n\n                    // on move marker then check tool container position\n                    checkToolsPosition(absY, depends.imageHeight, markerContainer)\n\n                    // drag event\n                    $.fn.easypin.defaults.drag(absX, absY, markerContainer);\n\n                    $(markerContainer).css({\n                        position: 'absolute',\n                        top: setPx(relY),\n                        left: setPx(relX),\n                        marginTop: -(depends.markerHeight/2),\n                        marginLeft: -(depends.markerWidth/2),\n                    })\n                    .attr($.fn.easypin.config('xAttribute'), absX)\n                    .attr($.fn.easypin.config('yAttribute'), absY);\n                });\n            });\n\n            // unbinding the events and removing\n            $(markerContainer).bind('mouseup', function (e) {\n                cc = false;\n                var markerInstance = e.currentTarget;\n                var lat = $(markerInstance).attr($.fn.easypin.config('xAttribute'));\n                var long = $(markerInstance).attr($.fn.easypin.config('yAttribute'));\n\n                dataUpdate(parentId, markerIndex, {coords: {lat: lat, long: long}});\n\n                $(parentElement).unbind('mousemove');\n            });\n\n        return markerContainer;\n    };\n\n    var createTools = function(depends) {\n\n        var tools = $('<div/>', {'class': 'easy-tools'})\n            .css({\n                'width': setPx(depends.markerWidth),\n                'height': '10px',\n                'position': 'absolute',\n                'background-color': '#868585',\n                'left': '-1px',\n                'top': setPx((depends.markerHeight+2)-5),\n                'opacity': '0'\n\n            })\n            .append(function() { // edit button create\n                return $('<a/>', {'class': 'easy-edit'})\n                    .css({\n                        'display': 'inline-block',\n                        'width': setPx(depends.markerWidth/2),\n                        'height': '10px',\n                        'position': 'absolute',\n                        'left': '0px',\n                        'background-image': 'url('+$.fn.easypin.defaults.editSrc+')',\n                        'background-repeat': 'no-repeat',\n                        'background-size': '8px',\n                        'background-position-y': '1px',\n                        'background-position-x': '3px'\n                    }).hover(function() {\n                        $(this)\n                            .css('background-color', 'black')\n                            .css('opacity', '.6');\n                    },function() {\n                        $(this).css('background-color', 'inherit');\n                    });\n            })\n            .append(function() { // delete button\n                return $('<a/>', {'class': 'easy-delete'})\n                    .css({\n                        'display': 'inline-block',\n                        'width': setPx(depends.markerWidth/2),\n                        'height': '10px',\n                        'position': 'absolute',\n                        'right': '0px',\n                        'background-image': 'url('+$.fn.easypin.defaults.deleteSrc+')',\n                        'background-repeat': 'no-repeat',\n                        'background-size': '8px',\n                        'background-position-y': '1px',\n                        'background-position-x': '3px'\n                    }).hover(function() {\n                        $(this)\n                            .css('background-color', 'black')\n                            .css('opacity', '.6');\n                    },function() {\n                        $(this).css('background-color', 'inherit');\n                    });\n            });\n\n        return tools;\n    };\n\n\tvar checkToolsPosition = function(absY, imageHeight, markerContainer) {\n\n\t\tvar markerHeight = $(markerContainer).height();\n\t\tvar yBottom = absY+10;\n\n\t\tif(yBottom > imageHeight && yBottom == imageHeight+1) {\n\t\t\t$('.easy-tools', markerContainer).animate(\n\t\t\t\t{\n\t\t\t\t\t'top': setPx(-13)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tduration: 'slow',\n\t\t\t\t\teasing: 'easeOutElastic'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\telse if((absY-markerHeight)-10 == -1) {\n\t\t\t$('.easy-tools', markerContainer).animate(\n\t\t\t\t{\n\t\t\t\t\t'top': setPx(markerHeight+2)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tduration: 'slow',\n\t\t\t\t\teasing: 'easeOutElastic'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t};\n\n    var getEventData = function(namespace) {\n\n        switch (namespace) {\n            case \"get.coordinates\":\n                    if(localStorage) {\n                        return JSON.parse(localStorage.getItem('easypin'));\n                    }else {\n                        try {\n                            return JSON.parse(decodeURIComponent($('input[name=\"easypin-store\"]').val()));\n                        } catch (e) {\n                            return null;\n                        }\n                    }\n                break;\n            default:\n                return null;\n        }\n\n    };\n\n    getByIndex = function(index, data) {\n\n        data = data || {};\n        index = parseInt(index);\n\n        if(typeof(data) == 'object') {\n\n            var j = 0;\n            for(var i in data) {\n\n                j++;\n                if(j == index) {\n                    return data[i];\n                }\n\n            }\n\n        }\n\n        return {};\n\n    };\n    $.fn.easypinShow = function(options) {\n\n        options = options || {};\n\n        // set default options values and became user side\n\t\t$.extend($.fn.easypinShow.defaults, options );\n\n        try {\n\n            var depends = {\n                responsive: options.responsive || false,\n                pin: options.pin || 'marker.png',\n                data: options.data || {},\n                popover: options.popover || {},\n                error: typeof(options.error) != 'function' ? function(e) {} : options.error,\n                each:  typeof(options.each) != 'function' ? function(i, data) { return data;} : options.each,\n                success: typeof(options.success) != 'function' ? function() {} : options.success,\n                allCanvas: this\n            };\n\n            var loadedImgNum = 0;\n            var total = $(this).length;\n\n            // hide all images\n            depends.allCanvas.each(function(i) {\n                $(this).css('opacity', 0);\n            });\n\n            $(depends.allCanvas).one('load', function() {\n                loadedImgNum += 1;\n\n                // show loaded image\n                $(this).animate(\n                    {\n                        'opacity': '1'\n                    },\n                    {\n                        duration: 'fast',\n                        easing: 'easeInQuad'\n                    }\n                );\n\n                if (loadedImgNum == total) {\n\n                    var markerWidth = $(this)[0].width;\n                    var markerHeight = $(this)[0].height;\n                    var markerImgInstance = $(this);\n                    pinLocate(depends);\n                    depends.success.apply();\n                }\n            }).each(function() {\n                /* For jQuery >= 3.0 */\n                if(this.complete) $(this).trigger('load');\n            });\n\n        } catch (e) {\n            console.log(e);\n            var args = new Array();\n            args.push(e.message);\n            args.push(e);\n            depends.error.apply(null, args);\n        }\n\n    };\n\n    pinLocate = function(depends) {\n\n        // for each all canvas\n        $(depends.allCanvas).each(function(i) {\n\n            var offsetTop = $(this).offset().top;\n            var offsetLeft = $(this).offset().left;\n            var canvas = $(this).parent();\n            var height = $(this).height();\n            var width = $(this).width();\n            var parentWidth = $(canvas).width();\n\n            if(depends.responsive === true) {\n                var absWidth = '100%';\n                var absHeight = '100%';\n            }else{\n                var absWidth = setPx(width);\n                var absHeight = setPx(height);\n            }\n\n            var pinContainer = $('<div/>')\n                .css({\n                    'width': absWidth,\n                    'height': absHeight,\n                    'position': 'relative'\n                })\n                .addClass('easypin');\n\n            $(this)\n                .css('position', 'relative')\n                .replaceWith(pinContainer);\n\n            $(pinContainer).html(\n                $('<div/>')\n                    .css('position', 'relative')\n                    .css('height', '100%')\n                    .append($(this))\n            );\n\n            var parentId = $(this).attr('easypin-id');\n\n            if(typeof(depends.data) == 'string') {\n                depends.data = JSON.parse(depends.data);\n            }\n\n            if(typeof(depends.data[parentId]) != 'undefined') {\n\n                for (var j in depends.data[parentId]) {\n                    if(j == 'canvas') return;\n\n                    var tpl = $('[easypin-tpl]').clone();\n\n                    // set current canvas_id and pin_id to di container\n                    $.fn.easypin.di('canvas_id', parentId);\n                    $.fn.easypin.di('pin_id', j);\n\n                    // run callback function\n                    var args = new Array();\n                    args.push(i);\n                    args.push(depends.data[parentId][j]);\n                    var returnData = depends.each.apply(null, args);\n                    var viewContainer = viewLocater(depends.data[parentId], j, parentWidth, createView(returnData, tpl));\n\n                    var opacity = getCssPropertyValue('opacity', $(viewContainer).clone());\n\n                    $(viewContainer).css('opacity', 0);\n                    $(pinContainer).append(viewContainer);\n\n                    if(depends.popover.show == true) {\n                        $('.easypin-popover', pinContainer).show();\n                    }\n\n                    // marker\n                    $(viewContainer).animate(\n                        {\n                            'opacity': opacity\n                        },\n                        {\n                            duration: 'slow',\n                            easing: 'easeOutBack'\n                        }\n                    );\n\n                    // popover\n                    $('.easypin-marker:last', pinContainer).click(function(e) {\n\n                        if(! $(e.target).is('div.easypin-marker') &&\n                            !$(e.target).parent().is('div.easypin-marker')) return;\n\n                        // set 0 to z-index all marker\n                        $('.easypin-marker', pinContainer).css('z-index', 0);\n\n                        // set 1 to z-index current marker\n                        $(this).css('z-index', 1);\n\n                        var ins = this;\n                        var clickedMarkerIndex = $(ins).index();\n\n                        if(depends.popover.animate === true) {\n\n                            // hide all content\n                            $('.easypin-popover', pinContainer).each(function() {\n                                if($(this).css('display') == 'block' && clickedMarkerIndex != $(this).closest('.easypin-marker').index()) {\n                                    $(this).toggle('fast');\n                                }\n                            });\n\n                            $('.easypin-popover', ins).toggle('fast');\n\n                        }else{\n                            // hide all content\n                            $('.easypin-popover', pinContainer).each(function() {\n                                if($(this).css('display') == 'block' && clickedMarkerIndex != $(this).closest('.easypin-marker').index()) {\n                                    $(this).hide();\n                                }\n                            });\n\n                            if ( $('.easypin-popover', this).css('display') == 'none' ){\n                                $('.easypin-popover', this).show();\n                            }else{\n                                $('.easypin-popover', this).hide();\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    };\n\n    var createView = function(data, tplInstance) {\n\n        var popover = $('popover', tplInstance);\n        var marker = $('marker', tplInstance);\n\n        $(popover)\n            .children(':first')\n            .addClass('easypin-popover')\n            .css('position', 'absolute')\n            .css('display', 'none');\n\n        $(marker)\n            .children(':first')\n            .addClass('easypin-marker')\n            .css({\n                'position': 'absolute'\n            });\n\n        var markerBorderWidth = $(marker).children(':first').css('border-width').replace('px', '');\n        markerBorderWidth = markerBorderWidth != '' ? parseInt(markerBorderWidth) : 0;\n        var markerWidth = $(marker).children(':first').width();\n        var markerHeight = $(marker).children(':first').height();\n        var popoverHeight = $(popover).children(':first').height();\n\n        var popIns = $(popover).children(':first').clone();\n        var bottom = getCssPropertyValue('bottom', popover);\n        var newBottom = bottom == 'auto' ? setPx(markerHeight+markerBorderWidth) : bottom;\n\n        $(popover)\n            .children(':first')\n            .css('bottom', newBottom)\n            .css('cursor', 'default');\n\n        $(marker)\n            .children(':first')\n            .append(tplHandler(data, $(popover).html()))\n            .css('cursor', 'pointer');\n\n        return $(marker).html();\n\n    };\n\n    var viewLocater = function(data, markerIndex, parentWidth, markerContainer) {\n\n        var pinWidth = parseInt(data.canvas.width);\n        var pinHeight = parseInt(data.canvas.height);\n        var markerWidth = $(markerContainer).width();\n        var markerHeight = $(markerContainer).height();\n\n        var pos = calculatePinRate(data[markerIndex],pinWidth, markerWidth, pinHeight, markerHeight);\n        var pinLeft = pos.left;\n        var pinTop = pos.top;\n\n        markerContainer = $(markerContainer)\n            .css('left', pinLeft+'%')\n            .css('top', pinTop+'%')\n\n        return markerContainer;\n    };\n\n    var tplHandler = function(data, tpl) {\n\n        if(typeof(data) == 'object') {\n\n            var callbackVars = $.fn.easypinShow.defaults.variables;\n\n            for(var i in data) {\n\n                var content = data[i];\n\n                if(typeof(callbackVars) != 'undefined' && typeof(callbackVars[i]) == 'function') {\n\n                    var args = new Array();\n\n                    // current canvas id\n                    args.push($.fn.easypin.container['canvas_id']);\n\n                    // current pin id\n                    args.push($.fn.easypin.container['pin_id']);\n                    args.push(data[i]);\n                    content = callbackVars[i].apply(null, args)\n\n                }\n\n                var pattern = RegExp(\"\\\\{\\\\[\"+i+\"\\\\]\\\\}\", \"g\");\n                tpl = tpl.replace(pattern,content);\n            }\n        }\n\n        return tpl;\n    };\n\n    var calculatePinRate = function(data, pinWidth, markerWidth, pinHeight, markerHeight) {\n        return {\n            left: (parseInt(data.coords.lat)/pinWidth)*100,\n            top: ((parseInt(data.coords.long)-(markerHeight))/pinHeight)*100,\n        };\n    };\n\n    var getCssPropertyValue = function(prop, el) {\n        var el = $(el).hide().appendTo('body');\n        var val = el.css(prop);\n        el.remove();\n\n        return val;\n    };\n\n    $.fn.easypin.clear = function() {\n        if(localStorage) {\n            localStorage.removeItem('easypin');\n        }else {\n            $('input[name=\"easypin-store\"]').val('');\n        }\n    };\n\n    $.fn.easypin.event = function(namespace, closure) {\n        $.fn.easypin.di(namespace, closure);\n    };\n\n    $.fn.easypin.fire = function(namespace, params, callback) {\n\n        if(typeof($.fn.easypin.container[namespace]) != 'undefined') {\n\n            if(typeof(params) == 'function') {\n                callback = params;\n                params = null;\n            }else{\n                params = params || null;\n                callback = callback || null;\n            }\n\n            if(typeof(callback) == 'function') {\n                var callbackArgs = new Array();\n                callbackArgs.push(getEventData(namespace));\n                var eventReturn = callback.apply(null, callbackArgs);\n            }else {\n                var eventReturn = getEventData(namespace);\n            }\n\n            var dependsArgs = new Array();\n            dependsArgs.push($.fn.easypin.container['instance']);\n            dependsArgs.push(eventReturn);\n            dependsArgs.push(params);\n\t\t\t$.fn.easypin.container[namespace].apply(null, dependsArgs);\n\n        }\n    };\n\n\t$.fn.easypin.config = function(attr) {\n\t\treturn $.fn.easypin.defaults[attr];\n\t};\n\n\t$.fn.easypin.di = function(key, depends) {\n\n\t\t$.fn.easypin.container[key] = depends;\n\t};\n\n\t$.fn.easypin.call = function(func, params) {\n\n\t\tparams = params || '';\n\n\t\tvar depends = func.toString().match(/function\\s*\\(\\s*(.*?)\\s*\\)/i);\n\n\t\tif(depends.length > 1) {\n\n\t\t\tdepends = depends[1];\n\n\t\t\tvar clientParm = depends.replace(/(\\$[a-zA-Z]+)/g, '');\n\t\t\tclientParm = clientParm.replace(/\\s+/g, '');\n\t\t\tclientParm = clientParm.replace(/,+/g,',');\n\t\t\tclientParm = clientParm.replace(/(^,)/, '');\n\t\t\tclientParm = clientParm.split(/,/g);\n\n\t\t\texpectParm = depends.match(/(\\$[a-zA-Z]+)/g);\n\n\t\t\tvar dependsArgs = new Array();\n\n\t\t\tfor(var i in expectParm) {\n\t\t\t\tif($.fn.easypin.container[expectParm[i]]) {\n\t\t\t\t\tdependsArgs.push($.fn.easypin.container[expectParm[i]]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdependsArgs.push(params);\n\t\t\tfunc.apply(null, dependsArgs);\n\t\t}\n\t};\n\n\t$.fn.easypin.defaults = {\n\n        init: {},\n        limit: 0,\n        popover: {},\n        exceeded: function() {},\n       \tdrop: function() {},\n       \tdrag: function() {},\n       \tmodalWidth: '200px',\n\t\twidthAttribute: 'data-width',\n       \theightAttribute: 'data-height',\n       \txAttribute: 'data-x',\n       \tyAttribute: 'data-y',\n\t\tmarkerSrc: 'img/marker.png',\n\t\teditSrc: 'img/edit.png',\n\t\tdeleteSrc: 'img/remove.png',\n       \tparentClass: 'pinParent',\n\t\tmarkerClass: 'easy-marker',\n\t\thoverClass: 'hoverClass',\n\t\tpinMapClass: 'pinCanvas',\n       \tparentPosition: 'relative',\n\t\tpopupOpacityLayer: 'popupOpacityLayer',\n\t\tmarkerWidth: 32,\n\t\tmarkerHeight: 'auto',\n\t\tanimate: false,\n\t\tposYBalance: 2,\n\t\tposXBalance: 2,\n\t\tdashWidth: 2,\n\t\timageZindex: 1,\n\t\tpinMapZindex: 2,\n\t\thoverLayerZindex: 3,\n\t\tmarkerContainerZindex: 4,\n\t\tmarkerBorderColor: '#FFFF00',\n\t\tdownPoint: 10\n\n\t};\n\n    $.fn.easypinShow.defaults = {};\n\n\t$.fn.easypin.container = {};\n\t$.fn.easypin.markerContainer = {};\n\n\tvar setClass = function(name) {\n\t\treturn '.'+name;\n\t};\n\n\tvar setPx = function(num) {\n\t\treturn num+'px';\n\t};\n\n\tvar getMarkerUrl = function() {\n\t\treturn $.fn.easypin.defaults.markerSrc;\n\t};\n\n\tvar is_open = function(type, parentElement) {\n\n\t\tif(type == 'popup') {\n\n\t\t\tvar className = setClass($.fn.easypin.defaults.popupOpacityLayer);\n\t\t\treturn $(className, parentElement).length > 0;\n\n\t\t}\n\n\t};\n\n\tvar createPopup = function(elem, markerContainer) {\n\n\t\tvar parentElement = $(elem.target).closest('.pinParent');\n        var parentIndex = $(parentElement).attr('data-index');\n        var targetImage = $('.easypin-target', parentElement);\n\t\tvar widthAttr = $.fn.easypin.defaults.widthAttribute;\n\t\tvar heightAttr = $.fn.easypin.defaults.heightAttribute;\n\n\t\t// create modal base layer\n\t\tvar opacityLayer = $('<div/>')\n\t\t\t.addClass('popupOpacityLayer')\n\t\t\t.css({\n\t\t\t\t'width': '100%',\n\t\t\t\t'height': '100%',\n\t\t\t\t'background-color': 'black',\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'opacity': '.0',\n\t\t\t\t'z-index': 14\n\t\t\t});\n\n\t\t// append to parent container\n\t\t$(parentElement)\n\t\t\t.append(opacityLayer)\n\n\t\t\t// cross to child element\n\t\t\t.children(setClass($.fn.easypin.defaults.hoverClass))\n\t\t\t\t.hide() // hover class hide\n\n\t\t\t// back to parent element\n\t\t\t.parent()\n\n\t\t\t// base layer animate\n\t\t\t.children(setClass($.fn.easypin.defaults.popupOpacityLayer))\n\t\t\t\t.animate({\n\t\t\t\t\topacity: 0.4,\n\t\t\t\t}, 800);\n\n\t\tvar width = parseInt($(parentElement).attr(widthAttr));\n\t\tvar height = parseInt($(parentElement).attr(heightAttr));\n\n\t\t// create modal parent element\n\t\tvar modalParent = $('<div/>')\n\t\t\t.addClass('modalParent')\n\t\t\t.css({\n\t\t\t\t'width': '100%',\n\t\t\t\t'height': '100%',\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'z-index': 15\n\t\t\t})\n\t\t\t.click(function(e) {\n\n\t\t\t\tif($(e.target). is('div.modalParent')) {\n\t\t\t\t\tclosePopup(parentElement);\n\t\t\t\t}\n\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n        // clonning modal content\n        var modalContent = $('.easy-modal:last').clone();\n\n\t\t// create modal body element\n\t\tvar modalContext = $('<div/>')\n\t\t\t.addClass('modalContext')\n\t\t\t.css({\n\t\t\t\t'background-color': '#fff',\n\t\t\t\t'width': $.fn.easypin.defaults.modalWidth,\n\t\t\t\t'opacity': '0',\n\t\t\t\t'position': 'absolute',\n\t\t\t\t'padding': '10px',\n\t\t\t\t'-webkit-box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)',\n\t\t\t\t'-moz-box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)',\n\t\t\t\t'box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)',\n\t\t\t\t'-webkit-border-radius': '5px',\n\t\t\t\t'-moz-border-radius': '5px',\n\t\t\t\t'border-radius': '5px',\n\t\t\t\t'cursor': 'move'\n\t\t\t})\n\t\t\t.append($(modalContent).show())\n\t\t\t.appendTo(modalParent); // modal body append to modal parent element\n\n        // modal parent element append to parent element\n        $('.popupOpacityLayer', parentElement).after(modalParent);\n\n\t\tvar modalHeight = $('.modalContext').height()\n\t\tvar modalWidth = $(modalContext).width();\n\n        var parentLeft = $(elem.target).closest(setClass($.fn.easypin.defaults.parentClass)).offset().left;\n        var markerLeft = $(elem.target).offset().left;\n        var clickPosLeft = (markerLeft - parentLeft);\n\n        var parentTop = $(elem.target).closest(setClass($.fn.easypin.defaults.parentClass)).offset().top;\n        var markerTop = $(elem.target).offset().top;\n        var clickPosTop = (markerTop - parentTop);\n\n        // modal position process\n        if($(modalContent).attr('modal-position') == 'free') {\n\n\n            // calculate free left position\n            if((clickPosLeft-100) < modalWidth) {\n                var modalLeftPosition = clickPosLeft+$(markerContainer).width()+50;\n            }else{\n                var modalLeftPosition = clickPosLeft-modalWidth-100;\n            }\n\n            // calculate free top position\n            if(modalHeight > height) {\n                var modalTopPosition = parentTop;\n            }\n            else if((height-clickPosTop) < modalHeight) {\n                var modalTopPosition = height - (modalHeight+100);\n            }else{\n                var modalTopPosition = clickPosTop-(modalHeight/2);\n            }\n        }else{\n            var modalLeftPosition = (width/2)-(modalWidth/2)-10;\n            var modalTopPosition = (height/2)-($(modalContext).height()/2)-10;\n        }\n\n\t\t// modal body hide by position\n\t\t$(modalContext)\n\t\t\t.css('top', -(modalHeight+5)+'px')\n\t\t\t.css('left', modalLeftPosition+'px');\n\n        // without onhover action (close modal)\n        keyBinder(27, function() {\n            if(is_open('popup', parentElement)) {\n                closePopup(parentElement);\n                $(document.body).unbind('keydown');\n            }\n        });\n\n        // on hover action (close modal)\n        $(parentElement).hover(function() {\n            if($(this).is(':hover') && is_open('popup', parentElement)) {\n                keyBinder(27, function() {\n                    closePopup(parentElement);\n                });\n            }\n        },function() {\n            $(document).unbind('keydown');\n        });\n\n\t\t// animate modal body\n\t\t$(modalContext).animate(\n\t\t\t\t{\n\t\t\t\t\t'top': modalTopPosition+'px',\n\t\t\t\t\t'opacity': '1'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tduration: 'slow',\n\t\t\t\t\teasing: 'easeOutElastic'\n\t\t\t\t}\n\t\t\t)\n            .bind('mousedown', function(e) {\n\n                // if mouse down event is not either easy-modal, or modalContext\n                // or modal form stop modal move\n                if(! $(e.target).is('div.easy-modal') && !$(e.target).is('div.modalContext') && !$(e.target).is('form')) {\n                    e.stopPropagation();\n                    return;\n                }\n\n                var pinParent = $(e.currentTarget).closest('.pinParent');\n                var downPageY = e.pageY-$(e.currentTarget).offset().top;\n                var downPageX = e.pageX-$(e.currentTarget).offset().left;\n\n                $(pinParent).bind('mousemove', function(e) {\n\n                    $(modalContext).css({\n                        position: 'absolute',\n                        top: setPx((e.pageY-parentElement.offset().top)-downPageY),\n                        left: setPx((e.pageX-parentElement.offset().left)-downPageX)\n                    });\n\n                });\n            })\n            .bind('mouseup', function(e) {\n                var pinParent = $(e.currentTarget).closest('.pinParent');\n                $(pinParent).unbind('mousemove');\n            });\n\n\t\t$('.easy-submit', modalContext)\n\t\t\t.click(function() {\n\n                var lat = $(markerContainer).attr($.fn.easypin.defaults.xAttribute);\n                var long = $(markerContainer).attr($.fn.easypin.defaults.yAttribute);\n                var ImgWidth = $(markerContainer).attr($.fn.easypin.defaults.widthAttribute);\n                var ImgHeight = $(markerContainer).attr($.fn.easypin.defaults.heightAttribute);\n                var markerIndex = $(markerContainer).attr('data-index');\n                var parentId = $('.easypin-target', parentElement).attr('easypin-id');\n\n                // check the form exists\n                var formExists = $('form', modalContext).length > 0;\n\n                if(formExists) {\n                    var modalBody = $('form', modalContext); // form instance\n                }else{\n                    var modalBody = $('.easy-modal', modalContext); // current modal instance\n                }\n\n                // run callback function\n                if(typeof($.fn.easypin.defaults.done) == 'function') {\n\n                    var result = $.fn.easypin.defaults.done(modalBody);\n\n                    if(typeof(result) == 'boolean') {\n\n                        if(result == true) {\n\n                            closePopup(parentElement);\n                        }else{\n                            return;\n                        }\n\n                    }else{\n                        closePopup(parentElement);\n                    }\n                }\n\n                var formData = getFormData(modalBody, function(data) {\n\n                    data['coords'] = new Object();\n\n                    data.coords['lat'] = lat;\n                    data.coords['long'] = long;\n                    data.coords['canvas'] = new Object();\n                    data.coords.canvas['src'] = $(targetImage).attr('src');\n                    data.coords.canvas['width'] = ImgWidth;\n                    data.coords.canvas['height'] = ImgHeight;\n\n                    return data;\n                });\n\n                dataInsert(parentId, markerIndex, formData);\n\n                createPopover(markerContainer, formData);\n\n\t\t\t});\n\n            return modalContext;\n\t};\n\n    var dataInsert = function(parentId, markerIndex, data) {\n\n        if(localStorage) {\n            storageInsert(parentId, markerIndex, data);\n        }else{\n            inputInsert(parentId, markerIndex, data);\n        }\n    };\n\n    // local storage\n    var storageInsert = function(parentId, markerIndex, data) {\n\n        var items = localStorage.getItem('easypin');\n\n        if(! items) {\n            var items = new Object();\n        }else{\n            try {\n                var items = JSON.parse(items);\n            }catch(e) {\n                var items = new Object();\n            }\n        }\n\n        var items = setNestedObject(parentId, markerIndex, items);\n\n        if(typeof(items[parentId]['canvas']) == 'undefined') {\n            items[parentId]['canvas'] = data.coords.canvas;\n        }\n\n        delete data.coords.canvas;\n\n        if(typeof(data['canvas']) != 'undefined') {\n            items[parentId]['canvas'] = data.canvas;\n            delete data.canvas;\n        }\n\n        items[parentId][markerIndex] = data;\n\n        localStorage.setItem('easypin', toJsonString(items));\n    };\n\n    // stores in hidden field\n    var inputInsert = function(parentId, markerIndex, data) {\n\n        var items = $('input[name=\"easypin-store\"]').val();\n\n        if(! items) {\n            var items = new Object();\n        }else{\n            try {\n                var items = JSON.parse(decodeURIComponent(items));\n            }catch(e) {\n                var items = new Object();\n            }\n        }\n\n        var items = setNestedObject(parentId, markerIndex, items);\n\n        if(typeof(items[parentId]['canvas']) == 'undefined') {\n            items[parentId]['canvas'] = data.coords.canvas;\n        }\n\n        delete data.coords.canvas;\n\n        if(typeof(data['canvas']) != 'undefined') {\n            items[parentId]['canvas'] = data.canvas;\n            delete data.canvas;\n        }\n\n        items[parentId][markerIndex] = data;\n\n        if($('input[name=\"easypin-store\"]').length < 1) {\n            $(setClass($.fn.easypin.defaults.parentClass)+':first').before('<input type=\"hidden\" name=\"easypin-store\" value=\"'+encodeURIComponent(toJsonString(items))+'\" />');\n        }else{\n            $('input[name=\"easypin-store\"]').val(encodeURIComponent(toJsonString(items)));\n        }\n    };\n\n    var dataUpdate = function(parentId, markerIndex, data) {\n        if(localStorage) {\n            storageUpdate(parentId, markerIndex, data);\n        }else{\n            inputUpdate(parentId, markerIndex, data);\n        }\n    };\n\n    var storageUpdate = function(parentId, markerIndex, data) {\n\n        var items = localStorage.getItem('easypin');\n\n        if(items) {\n\n            try {\n                var items = JSON.parse(items);\n                items = setNestedObject(parentId, markerIndex, items);\n                items[parentId][markerIndex] = merge(items[parentId][markerIndex], data);\n                localStorage.setItem('easypin', toJsonString(items));\n            }catch(e) {\n                return false;\n            }\n        }\n    };\n\n    var inputUpdate = function(parentId, markerIndex, data) {\n\n        var items = $('input[name=\"easypin-store\"]').val();\n\n        if(items) {\n\n            try {\n                var items = JSON.parse(decodeURIComponent(items));\n                items = setNestedObject(parentId, markerIndex, items);\n                items[parentId][markerIndex] = merge(items[parentId][markerIndex], data);\n                $('input[name=\"easypin-store\"]').val(encodeURIComponent(toJsonString(items)));\n            }catch(e) {\n                return false;\n            }\n        }\n    };\n\n    /**\n     * Remove data container function\n     *\n     * @param parentIndex int\n     * @param markerIndex int\n     */\n    var dataRemove = function(parentId, markerIndex) {\n\n        if(localStorage) {\n            removeFromStorage(parentId, markerIndex);\n        }else{\n            removeFromInput(parentId, markerIndex);\n        }\n\n    };\n\n    /**\n     * Remove data on input hidden field\n     * @param  {[int]} parentIndex [parent container index]\n     * @param  {[int]} markerIndex [marker container index]\n     * @return {[void]}\n     */\n    var removeFromInput = function(parentId, markerIndex) {\n\n        var items = $('input[name=\"easypin-store\"]').val();\n        if(items) {\n            try {\n                var items = JSON.parse(decodeURIComponent(items));\n\n                items = removeHelper(parentId, markerIndex, items)\n\n                var totalPin = $('input[name=\"easypin-store\"]').length;\n                if(totalPin < 1) {\n                    $(setClass($.fn.easypin.defaults.parentClass)+':first').before('<input type=\"hidden\" name=\"easypin-store\" value=\"'+encodeURIComponent(toJsonString(items))+'\" />');\n                }else{\n                    $('input[name=\"easypin-store\"]').val(encodeURIComponent(toJsonString(items)));\n                }\n\n            } catch (e) {}\n\n        }\n\n    };\n\n    /**\n     * Remove from local storage\n     *\n     * @param parentIndex int\n     * @param markerIndex int\n     * @return void\n     */\n    var removeFromStorage = function(parentId, markerIndex) {\n\n        var items = localStorage.getItem('easypin');\n\n        if(items) {\n\n            try {\n                var items = JSON.parse(items);\n\n                localStorage.setItem('easypin', toJsonString(removeHelper(parentId, markerIndex, items)));\n\n            }catch(e) {}\n\n        }\n\n    };\n\n    /**\n     * Remove process from data object\n     *\n     * @param  {[int]} parentIndex [parent container index]\n     * @param  {[int]} markerIndex [marker container index]\n     * @param  {[object]} items       [data object]\n     * @return {[object]}\n     */\n    var removeHelper = function(parentId, markerIndex, items) {\n\n        if(parentId && !markerIndex) {\n\n            if(typeof(items[parentId]) != 'undefined') {\n                delete items[parentId];\n            }\n\n        }\n\n        if(parentId && markerIndex) {\n\n            if(typeof(items[parentId][markerIndex]) != 'undefined') {\n                delete items[parentId][markerIndex];\n\n                if(sizeof(items[parentId]) < 1 || (sizeof(items[parentId]) == 1 && typeof(items[parentId]['canvas']) != 'undefined')) {\n                    delete items[parentId];\n                }\n            }\n\n        }\n\n        return items;\n    };\n\n    // set nested object\n    /**\n     * Set nested object\n     * @param  int parentIndex parent container index\n     * @param  int markerIndex marker ocntainer index\n     * @param  int items       data object\n     * @return object\n     */\n    var setNestedObject = function(parentId, markerIndex, items) {\n\n        if(typeof(items[parentId]) == 'undefined') {\n            items[parentId] = new Object();\n        }\n\n        if(typeof(items[parentId][markerIndex]) == 'undefined') {\n            items[parentId][markerIndex] = new Object();\n        }\n\n        return items;\n    };\n\n    var getItem = function(parentIndex, markerIndex) {\n\n        if(localStorage) {\n            var items = localStorage.getItem('easypin');\n\n            try {\n                items = JSON.parse(items);\n            } catch (e) {\n                items = {};\n            }\n        }else{\n            var items = $('input[name=\"easypin-store\"]').val();\n\n            try {\n                items = JSON.parse(decodeURIComponent(items));\n            } catch (e) {\n                items = {};\n            }\n        }\n\n        try {\n            return items[parentIndex][markerIndex];\n        } catch (e) {\n            return null;\n        }\n    };\n\n    // get values of current modal\n    var getFormData = function(element, callback) {\n\n        var elements = new Object();\n\n        $('input, select, textarea', element).each(function() {\n\n            var elementType = $(this).attr('type');\n            var elementName = $(this).attr('name');\n\n            if(elementType == 'radio') {\n\n                var checked = $(this).filter(\":checked\").val();\n\n                if(typeof(checked) != 'undefined' && typeof(elements[elementName]) == 'undefined') {\n                    elements[elementName] = checked;\n                }\n            }\n\n            else if(elementType == 'checkbox') {\n\n                if($(this).is(':checked')) {\n                    elements[elementName] = $(this).val();\n                }\n            }\n            else{\n                if(typeof($(this).val()) != 'undefined') {\n                    elements[elementName] = $(this).val();\n                }\n            }\n\n        });\n\n        if(typeof(callback) == 'function') {\n\n            var args = new Array();\n            args.push(elements);\n            return callback.apply(null, args);\n\n        }\n\n        return elements;\n    };\n\n    var toJsonString = function(data) {\n        return JSON.stringify(data);\n    };\n\n    // modal close\n\tvar closePopup = function(parentElement) {\n\n\t\t// close opacity layer\n\t\t$(setClass($.fn.easypin.defaults.popupOpacityLayer), parentElement)\n\t\t\t.animate(\n\t\t\t\t{\n\t\t\t\t\topacity:0\n\t\t\t\t},\n\t\t\t\t'fast', // how fast we are animating\n\t\t\t\t'swing', // the type of easing\n\t\t\t\tfunction() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t);\n\n\t\tvar modalHeight = $('.modalContext', parentElement).height();\n\t\tvar modalWidth = $('.modalContext', parentElement).width();\n\n\t\t// animate modal body\n\t\t$('.modalContext', parentElement).animate(\n\t\t\t\t{\n\t\t\t\t\t'top': -(modalHeight+50)+'px',\n\t\t\t\t\t'opacity': '0',\n\t\t\t\t\t'z-index': 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tduration: 'slow',\n\t\t\t\t\teasing: 'easeOutElastic',\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$('.modalParent', parentElement).remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t};\n\n    var keyBinder = function(expectCode, callback) {\n\n        $(document).bind('keydown', function(e) {\n\n            if(e.which == expectCode) {\n\n                callback.apply(null);\n\n                $(this).unbind('keydown');\n            }\n        });\n    };\n\n    var setIndex = function(selector, parent) {\n\n        var index = $(selector+':last', parent).attr('data-index');\n\n        if(typeof(index) == 'undefined') {\n            return '0';\n        }\n\n        return parseInt(index)+1;\n    };\n\n    var sizeof = function(data) {\n        if(typeof(data) == 'object') {\n            var j = 0;\n\n            for(var i in data) {\n                j++;\n            }\n\n            return j;\n        }\n    };\n\n    /**\n     * Set to input fields all data\n     * @param  int parentIndex   parent container index\n     * @param  int markerIndex   marker container index\n     * @param  object modalInstance current modal instance\n     * @return void\n     */\n    var setDataToFields = function(parentId, markerIndex, modalInstance) {\n\n        var item = getItem(parentId, markerIndex);\n\n        if(typeof(item) == 'object') {\n\n            for(var i in item) {\n\n                var element = $('[name=\"'+i+'\"]', modalInstance);\n                var type = $(element).prop('type');\n\n                if(type == 'text' || type == 'hidden') {\n                    $(element).attr('value', item[i]);\n                }\n\n                else if(type == 'checkbox') {\n                    $(element).attr('checked', true);\n                }\n\n                else if(type == 'radio') {\n                    $('[value=\"'+item[i]+'\"]', modalInstance).attr('checked', true);\n                }\n\n                else if(type == 'textarea') {\n                    $(element).val(item[i]);\n                }\n\n                else if(type == 'select-one') {\n                    $(element).val(item[i]).prop('selected', true);\n                }\n\n            }\n\n        }\n    };\n\n    var createPopover = function(markerContainer, formData) {\n\n        // check and set popover callbacks\n        var popoverCallBacks = sizeof($.fn.easypin.defaults.popover) > 0 ? $.fn.easypin.defaults.popover : false;\n\n        var arrow = $('<div/>')\n            .addClass('popover-arrow-down')\n            .css({\n                width: 0,\n            \theight: 0,\n            \t'border-left': '10px solid transparent',\n            \t'border-right': '10px solid transparent',\n            \t'border-top': '10px solid #000',\n                'opacity': '.8',\n                position: 'absolute',\n                bottom: '-50px',\n                left: '58px'\n            });\n\n        var tooltipContainer = $('<div/>')\n            .addClass('popover')\n            .css('position', 'absolute')\n            .css('display','inline')\n            .css('top', '-51px')\n            .css('left', '-51px')\n            .css('opacity', '0');\n\n        var popoverHtml = $('[popover]:last').clone();\n        popoverHtml.removeAttr('popover');\n        var toHtml = popoverHtml.html();\n        var popoverUserWidth = popoverHtml.attr('width') ? popoverHtml.attr('width') : 150;\n\n        var defaultStyle = {\n            color: '#FFFFFF',\n            background: '#000000',\n            opacity: '.8',\n            height: 'auto',\n            'line-height': '40px',\n            'border-radius': '5px',\n            cursor: 'context-menu'\n        };\n\n        if(typeof($.fn.easypin.defaults.popoverStyle) == 'object') {\n            delete $.fn.easypin.defaults.popoverStyle.width;\n            delete $.fn.easypin.defaults.popoverStyle.position;\n            popoverStyle = merge(defaultStyle, $.fn.easypin.defaults.popoverStyle);\n        }else{\n            popoverStyle = defaultStyle;\n        }\n\n        var span = $('<span/>')\n            .addClass('popoverContent')\n            .css({\n                position: 'absolute',\n                width:setPx(popoverUserWidth)\n            })\n            .css(popoverStyle);\n\n        var bgColor = $(span).css('background-color');\n\n        $(arrow).css('border-top-color', bgColor);\n\n        if(popoverHtml.attr('shadow') == 'true') {\n            $(span)\n                .css({\n                    '-webkit-box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)',\n                    '-moz-box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)',\n                    'box-shadow': '10px 13px 5px 0px rgba(0,0,0,0.75)'\n                });\n        }\n\n        // delete canvas parameters\n        delete formData['canvas'];\n\n        for(var i in formData) {\n\n            // callback check and run\n            if(popoverCallBacks && typeof(popoverCallBacks[i]) == 'function') {\n                var args = new Array();\n                args.push(formData[i]);\n                formData[i] = popoverCallBacks[i].apply(null, args);\n            }\n\n            var pattern = RegExp(\"\\\\{\\\\[\"+i+\"\\\\]\\\\}\", \"g\");\n            toHtml = toHtml.replace(pattern,formData[i]);\n\n        }\n\n        $(span).append(toHtml);\n        $(tooltipContainer).append(span).append(arrow);\n\n        // remove previous popover\n        if($('div.popover', markerContainer).length > 0) {\n            // animate modal body\n    \t\t$('div.popover', markerContainer).animate(\n    \t\t\t\t{\n    \t\t\t\t\t'top': '-'+setPx((popoverHeight-15)),\n    \t\t\t\t\t'opacity': '0'\n    \t\t\t\t},\n    \t\t\t\t{\n    \t\t\t\t\tduration: 'slow',\n    \t\t\t\t\teasing: 'easeOutElastic',\n    \t\t\t\t\tcomplete: function() {\n    \t\t\t\t\t\t$(this).remove();\n    \t\t\t\t\t}\n    \t\t\t\t}\n    \t\t\t);\n        }\n\n        // popover element apend yo marker container\n        $(markerContainer).prepend(tooltipContainer);\n\n        var popoverEl = $('div.popover > span:first', markerContainer);\n        var popoverHeight = popoverEl.height();\n        var popoverWidth = popoverEl.width();\n\n        // set popover container position\n        $(tooltipContainer)\n            .css('top', '-'+setPx((popoverHeight+12)-10))\n            .css('left', '-'+setPx((popoverWidth/2)-16));\n\n        // set arrow position\n        $(arrow, tooltipContainer)\n            .css('left', setPx((popoverWidth/2)-10))\n            .css('top', setPx(popoverHeight));\n\n        // animate modal body\n        $(tooltipContainer).animate(\n                {\n                    'top': '-'+setPx((popoverHeight+12)),\n                    'opacity': '1'\n                },\n                {\n                    duration: 'slow',\n                    easing: 'easeOutElastic'\n                }\n            );\n    };\n\n    var initPin = function(imgIndex, element) {\n\n        var initData = $.fn.easypin.defaults.init;\n        var config = getConfigs();\n\n        if(typeof(initData) == 'string') {\n            initData = JSON.parse(initData)\n        }\n\n        var parentElement = $(element).parents(setClass(config.parentClass));\n\n        if(sizeof(initData) > 0 && $(element).attr('easypin-init') != 'false') {\n\n            // canvas border width\n            var dashWidth = $.fn.easypin.defaults.dashWidth;\n\n            // get x, y balance value\n            var posYBalance = config.posYBalance;\n            var posXBalance = config.posXBalance;\n\n            // get current target image instance\n            var targetImage = $('img'+setClass('easypin-target'), parentElement);\n\n            if(typeof(initData[imgIndex]) == 'undefined') {\n                return;\n            }\n\n            for(var i in initData[imgIndex]) {\n\n                if(isNaN(i) === true) return;\n\n                var imageWidth = parseInt(initData[imgIndex].canvas.width);\n                var imageHeight = parseInt(initData[imgIndex].canvas.height);\n                var lat = parseInt(initData[imgIndex][i].coords.lat);\n                var long = parseInt(initData[imgIndex][i].coords.long);\n                // set cursor position coordinate\n                var imagePositionY = targetImage.offset().top - (config.dashWidth-posYBalance);\n                var imagePositionX = targetImage.offset().left - (config.dashWidth-posXBalance);\n\n                var clickPosX = lat;//(lat-imagePositionX);\n                var clickPosY = long;//(long-imagePositionY);\n                // get marker half size (width/height)\n                var markerWidthHalf = (config.markerWidth/2);\n                var markerHeightHalf = (config.markerHeight/2);\n\n                // set canvas border position\n                var markerBorderX = clickPosX-(config.markerWidth/2);\n                var markerBorderY = clickPosY-(config.markerHeight/2);\n\n                if(markerBorderX < 0) {\n                    markerBorderX = 0;\n                }\n                else if(clickPosX+markerWidthHalf > imageWidth) {\n                    markerBorderX = imageWidth-config.markerWidth;\n                }\n\n                if(markerBorderY < 0) {\n                    markerBorderY = 0;\n                }\n                else if(clickPosY+markerHeightHalf > imageHeight) {\n                    markerBorderY = imageHeight-config.markerHeight;\n                }\n\n                var absX = markerBorderX.toFixed(3)-markerWidthHalf;\n                var absY = markerBorderY.toFixed(3)-markerHeightHalf;\n\n                // create tool\n                var tools = createTools({\n                    markerWidth: config.markerWidth,\n                    markerHeight: config.markerHeight\n                });\n\n                // create marker container\n                var markerContainer = createMarker({\n                    tools: tools,\n                    parentElement: parentElement,\n                    markerClass: config.markerClass,\n                    markerBorderX: markerBorderX,\n                    markerBorderY: markerBorderY,\n                    marginLeft: (config.markerWidth/2),\n                    marginTop: -(config.markerHeight/2),\n                    markerWidth: config.markerWidth,\n                    markerHeight: config.markerHeight,\n                    markerContainerZindex: config.markerContainerZindex,\n                    absX: absX,\n                    absY: absY,\n                    imageWidth: imageWidth,\n                    imageHeight: imageHeight,\n                    parentElement: parentElement,\n                    src: config.src\n                });\n\n                var markerIndex = $(markerContainer).attr('data-index');\n                var markerData = merge(initData[imgIndex][i], {'canvas': initData[imgIndex]['canvas']});\n\n                dataInsert(imgIndex, markerIndex, markerData);\n                createPopover(markerContainer, initData[imgIndex][i]);\n            }\n        }\n    };\n\n    var createRandomId = function() {\n        var length = 10;\n        var strings = 'abcdefghijklmnoprstuvyzABCDEFGHIJKLMNOPRSTUVYZ1234567890_';\n\n        var key = '';\n\n        for(var i = 1; i<=length; i++) {\n\n            var randNum = Math.floor(Math.random() * (strings.length - 1 + 1) + 1);\n\n            if(typeof(strings[randNum]) != 'undefined') {\n                key += strings[randNum];\n            }\n\n        }\n\n        return key;\n    };\n\n    var getConfigs = function() {\n\n        return {\n            src: $.fn.easypin.defaults.markerSrc,\n            markerWidth: $.fn.easypin.defaults.markerWidth,\n            markerHeight: $.fn.easypin.defaults.markerHeight == 'auto' ? $.fn.easypin.defaults.markerWidth : $.fn.easypin.defaults.markerHeight,\n            markerClass: $.fn.easypin.defaults.markerClass,\n            parentClass: $.fn.easypin.defaults.parentClass,\n            markerContainerZindex: $.fn.easypin.defaults.markerContainerZindex,\n            // canvas border width\n            dashWidth: $.fn.easypin.defaults.dashWidth,\n            // get x, y balance value\n            posYBalance: $.fn.easypin.defaults.posYBalance,\n            posXBalance: $.fn.easypin.defaults.posXBalance,\n            // canvas border width\n            dashWidth: $.fn.easypin.defaults.dashWidth\n        };\n    };\n\n    /*\n    * Recursively merge properties of two objects\n    */\n    function merge(obj1, obj2) {\n\n      for (var p in obj2) {\n        try {\n            obj1[p] = obj2[p];\n\n        } catch(e) {\n          // Property in destination object not set; create it and set its value.\n          obj1[p] = obj2[p];\n\n        }\n      }\n\n      return obj1;\n    }\n});","Mageplaza_QuickbooksOnline/js/form/components/fieldset.js":"/**\r\n * Mageplaza\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the Mageplaza.com license that is\r\n * available through the world-wide-web at this URL:\r\n * https://www.mageplaza.com/LICENSE.txt\r\n *\r\n * DISCLAIMER\r\n *\r\n * Do not edit or add to this file if you wish to upgrade this extension to newer\r\n * version in the future.\r\n *\r\n * @category    Mageplaza\r\n * @package     Mageplaza_QuickbooksOnline\r\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\r\n * @license     https://www.mageplaza.com/LICENSE.txt\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/form/components/fieldset'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend(\r\n        {\r\n            initialize: function () {\r\n                this._super();\r\n\r\n                if (!this.source.data || !this.source.data.product.current_product_id) {\r\n                    this.visible(false);\r\n                }\r\n            }\r\n        }\r\n    );\r\n});\r\n","Mageplaza_QuickbooksOnline/js/order/invoice/grid/massactions.js":"/**\r\n * Mageplaza\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the Mageplaza.com license that is\r\n * available through the world-wide-web at this URL:\r\n * https://www.mageplaza.com/LICENSE.txt\r\n *\r\n * DISCLAIMER\r\n *\r\n * Do not edit or add to this file if you wish to upgrade this extension to newer\r\n * version in the future.\r\n *\r\n * @category    Mageplaza\r\n * @package     Mageplaza_QuickbooksOnline\r\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\r\n * @license     https://www.mageplaza.com/LICENSE.txt\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'Magento_Ui/js/grid/massactions'\r\n], function (_, utils, Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        /**\r\n         * Fix bug on 2.3.3\r\n         *\r\n         * @param action\r\n         * @param data\r\n         */\r\n        defaultCallback: function (action, data) {\r\n            var itemsType  = data.excludeMode ? 'excluded' : 'selected',\r\n                selections = {};\r\n\r\n            /**\r\n             * 2.3.3 removed\r\n             */\r\n            if (itemsType === 'excluded' && data.selected && data.selected.length) {\r\n                itemsType       = 'selected';\r\n                data[itemsType] = _.difference(data.selected, data.excluded);\r\n            }\r\n\r\n            selections[itemsType] = data[itemsType];\r\n\r\n            if (!selections[itemsType].length) {\r\n                selections[itemsType] = false;\r\n            }\r\n\r\n            _.extend(selections, data.params || {});\r\n\r\n            utils.submit({\r\n                url: action.url,\r\n                data: selections\r\n            });\r\n        }\r\n    });\r\n});\r\n","Mageplaza_QuickbooksOnline/js/view/variables.js":"/**\r\n * Mageplaza\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the Mageplaza.com license that is\r\n * available through the world-wide-web at this URL:\r\n * https://www.mageplaza.com/LICENSE.txt\r\n *\r\n * DISCLAIMER\r\n *\r\n * Do not edit or add to this file if you wish to upgrade this extension to newer\r\n * version in the future.\r\n *\r\n * @category    Mageplaza\r\n * @package     Mageplaza_QuickbooksOnline\r\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\r\n * @license     https://www.mageplaza.com/LICENSE.txt\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/modal'\r\n], function ($, $t) {\r\n    \"use strict\";\r\n\r\n    window.QuickbooksVariables = {\r\n        variablesContent: null,\r\n        dialogWindowId: 'variables-chooser',\r\n        editor: null,\r\n\r\n        /**\r\n         * Set editor\r\n         *\r\n         * @param editor\r\n         */\r\n        setEditor: function (editor) {\r\n            this.editor = editor;\r\n        },\r\n\r\n        /**\r\n         * Open variable chooser\r\n         *\r\n         * @param variables\r\n         */\r\n        openVariableChooser: function (variables) {\r\n            variables = [variables];\r\n            if (this.variablesContent === null && variables) {\r\n                this.variablesContent = '<ul class=\"insert-variable\">';\r\n                variables.each(function (variableGroup) {\r\n                    if (variableGroup.label && variableGroup.value) {\r\n                        this.variablesContent += '<li><b>' + variableGroup.label + '</b></li>';\r\n                        (variableGroup.value).each(function (variable) {\r\n                            if (variable.value && variable.label) {\r\n                                this.variablesContent += '<li>' +\r\n                                    this.prepareVariableRow(variable.value, variable.label) + '</li>';\r\n                            }\r\n                        }.bind(this));\r\n                    }\r\n                }.bind(this));\r\n\r\n                this.variablesContent += '</ul>';\r\n            }\r\n\r\n            if (this.variablesContent) {\r\n                this.openDialogWindow(this.variablesContent);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Open popup\r\n         *\r\n         * @param variablesContent\r\n         */\r\n        openDialogWindow: function (variablesContent) {\r\n            var windowId = this.dialogWindowId;\r\n\r\n            $('<div id=\"' + windowId + '\">' + variablesContent + '</div>').modal({\r\n                title: $t('Insert Variable...'),\r\n                type: 'slide',\r\n                buttons: [],\r\n                closed: function (e, modal) {\r\n                    modal.modal.remove();\r\n                }\r\n            });\r\n\r\n            $('#' + windowId).modal('openModal');\r\n        },\r\n\r\n        /**\r\n         * Close popup\r\n         */\r\n        closeDialogWindow: function () {\r\n            $('#' + this.dialogWindowId).modal('closeModal');\r\n        },\r\n\r\n        /**\r\n         * Prepare variable row\r\n         *\r\n         * @param   varValue\r\n         * @param   varLabel\r\n         * @returns {string}\r\n         */\r\n        prepareVariableRow: function (varValue, varLabel) {\r\n            return '<a href=\"#\" onclick=\"' + this.insertFunction(varValue) + '\">' + varLabel + '</a>';\r\n        },\r\n\r\n        /**\r\n         * @param value\r\n         * @returns {string}\r\n         */\r\n        insertFunction: function (value) {\r\n            return 'QuickbooksVariables.insertVariable(&apos;' + value + '&apos;)';\r\n        },\r\n\r\n        /**\r\n         * Insert variable to editor at cursor\r\n         *\r\n         * @param value\r\n         */\r\n        insertVariable: function (value) {\r\n            var editorElement = $('#' + this.editor);\r\n            var oldValue      = editorElement.val();\r\n\r\n            editorElement.val(oldValue + value);\r\n            $('#' + this.dialogWindowId).modal('closeModal');\r\n\r\n        }\r\n    };\r\n\r\n    return window.QuickbooksVariables;\r\n});\r\n","Mageplaza_QuickbooksOnline/js/view/quickbooks.js":"/**\n * Mageplaza\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Mageplaza.com license that is\n * available through the world-wide-web at this URL:\n * https://www.mageplaza.com/LICENSE.txt\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade this extension to newer\n * version in the future.\n *\n * @category    Mageplaza\n * @package     Mageplaza_QuickbooksOnline\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\n * @license     https://www.mageplaza.com/LICENSE.txt\n */\n\ndefine([\n    'jquery',\n    'Mageplaza_QuickbooksOnline/js/view/variables'\n], function ($, QuickbooksVariables) {\n    \"use strict\";\n\n    $.widget('mageplaza.quickbooks', {\n\n        _create: function () {\n            var self = this;\n\n            if (!this.options.isEdit) {\n                this.detachMappingObject();\n                this.initObserve();\n            } else {\n                self.initVariables();\n                this.reindexPayment();\n            }\n        },\n\n        detachMappingObject: function () {\n            var magentoObject          = $(\"#magento_object\").val();\n            var optionQuickbooksModule = '';\n            var websiteIds             = $('#website_ids');\n\n            $.each(this.options.mappingObject[magentoObject], function (index, module) {\n                optionQuickbooksModule += '<option value=\"' + module.value + '\">' + module.label + '</option>';\n            });\n\n            if (magentoObject === 'paymentMethod') {\n                websiteIds.removeAttr('multiple');\n                websiteIds.removeAttr('size');\n                websiteIds.switchClass('admin__control-select', 'admin__control-multiselect');\n            } else {\n                websiteIds.attr('size', 10);\n                websiteIds.attr('multiple', 'multiple');\n                websiteIds.switchClass('admin__control-select', 'admin__control-multiselect');\n            }\n\n            $(\"#quickbooks_module\").html(optionQuickbooksModule);\n        },\n\n        checkMapping: function () {\n            var self = this;\n\n            $(\"#magento_object\").change(function () {\n                self.detachMappingObject();\n            });\n        },\n\n        validateWebsite: function () {\n            var websiteIdsElement = $('#website_ids');\n\n            $('#website_ids-error').remove();\n            if (websiteIdsElement.val() === null) {\n                websiteIdsElement.parent().append(this.getErrorElement());\n\n                return false;\n            }\n\n            return true;\n        },\n\n        getErrorElement: function () {\n            return '<label class=\"mage-error\" id=\"website_ids-error\">' + this.options.errorLabel + '</label>';\n        },\n\n        /**\n         * Init observe\n         */\n        initObserve: function () {\n            this.checkMapping();\n            this.initSync();\n        },\n\n        initVariables: function () {\n            var self = this;\n\n            $(\".insert_variable\").click(function () {\n                if (self.options.variables) {\n                    var fieldTarget = $(this).attr('target');\n\n                    QuickbooksVariables.setEditor(fieldTarget + '-value');\n                    QuickbooksVariables.openVariableChooser(self.options.variables);\n                }\n            });\n        },\n\n        initSync: function () {\n            var self = this;\n\n            $(\"#sync-next\").click(function () {\n                if (self.validateWebsite()) {\n                    var params = {\n                        website_ids: $('#website_ids').val(),\n                        magento_object: $('#magento_object').val(),\n                        quickbooks_module: $('#quickbooks_module').val()\n                    };\n\n                    $.ajax({\n                        method: 'POST',\n                        url: self.options.mappingUrl,\n                        data: params,\n                        showLoader: true,\n                        success: function (response) {\n                            if (response.canMapping) {\n                                $(\"#mapping-body\").append(response.mapping_html);\n                                if (response.module === 'paymentMethod') {\n                                    $('#sync_tabs_mapping_content').html(response.payment_html);\n                                    $('li[data-ui-id|=\"mageplaza-quickbooks-code-tabs-tab-item-condition\"]').remove();\n                                    $('li[data-ui-id|=\"mageplaza-quickbooks-code-tabs-tab-item-mapping\"]').remove();\n                                    $('div#Conditions').remove();\n                                }\n                                $('#general>legend>span').text(self.options.generalLabel);\n                                $('.page-columns .side-col').show();\n                                $('.admin__field.field.field-status,.admin__field.field.field-name,' +\n                                    '.admin__field.field.field-priority').show();\n                                $('button#save,button#reset,button#save_and_continue').show();\n                                $('#container').attr('style', 'width:calc( (100%) * 0.75 - 30px )');\n                                $(\"#sync-next\").hide();\n                                $('#magento_object,#quickbooks_module,#website_ids').attr('readonly', 'readonly')\n                                .css('pointer-events', 'none');\n                                self.options.variables = JSON.parse(response.variables);\n                                self.initVariables();\n                                $('#mp_mapping').trigger('contentUpdated');\n                            } else {\n                                location.reload();\n                            }\n                        }\n                    });\n                }\n            });\n        },\n\n        reindexPayment: function () {\n            var self = this;\n\n            $(document).on('click', '#btn-check-update', function () {\n                location.href = self.options.reindexPaymentUrl;\n            });\n        }\n    });\n\n    return $.mageplaza.quickbooks;\n});\n","Mageplaza_QuickbooksOnline/js/view/grid/columns/select.js":"/**\r\n * Mageplaza\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the Mageplaza.com license that is\r\n * available through the world-wide-web at this URL:\r\n * https://www.mageplaza.com/LICENSE.txt\r\n *\r\n * DISCLAIMER\r\n *\r\n * Do not edit or add to this file if you wish to upgrade this extension to newer\r\n * version in the future.\r\n *\r\n * @category    Mageplaza\r\n * @package     Mageplaza_QuickbooksOnline\r\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\r\n * @license     https://www.mageplaza.com/LICENSE.txt\r\n */\r\n\r\ndefine([\r\n    'Magento_Ui/js/grid/columns/select'\r\n], function (Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/html'\r\n        },\r\n        getLabel: function (record) {\r\n            var label = this._super(record);\r\n\r\n            if (label !== '') {\r\n                switch (record[this.index]){\r\n                    case '2':\r\n                        label = '<span class=\"grid-severity-notice\"><span>' + label + '</span></span>';\r\n                        break;\r\n                    case '3':\r\n                        label = '<span class=\"grid-severity-critical\"><span>' + label + '</span></span>';\r\n                        break;\r\n                    case '1':\r\n                        label = '<span class=\"grid-severity-minor\"><span>' + label + '</span></span>';\r\n                        break;\r\n                }\r\n            }\r\n\r\n            return label;\r\n        }\r\n    });\r\n});\r\n","Mageplaza_QuickbooksOnline/js/view/grid/columns/actions.js":"/**\r\n * Mageplaza\r\n *\r\n * NOTICE OF LICENSE\r\n *\r\n * This source file is subject to the Mageplaza.com license that is\r\n * available through the world-wide-web at this URL:\r\n * https://www.mageplaza.com/LICENSE.txt\r\n *\r\n * DISCLAIMER\r\n *\r\n * Do not edit or add to this file if you wish to upgrade this extension to newer\r\n * version in the future.\r\n *\r\n * @category    Mageplaza\r\n * @package     Mageplaza_QuickbooksOnline\r\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\r\n * @license     https://www.mageplaza.com/LICENSE.txt\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'Magento_Ui/js/grid/columns/actions',\r\n    'mage/translate',\r\n    'Magento_Ui/js/modal/modal'\r\n], function ($, Column, $t) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        modal: {},\r\n\r\n        /**\r\n         * @inheritDoc\r\n         */\r\n        defaultCallback: function (actionIndex, recordId, action) {\r\n            var row = this.rows[action.rowIndex];\r\n\r\n            this.modal[action.rowIndex] = $(row.popup_content).modal(\r\n                {\r\n                    type: 'slide',\r\n                    title: $t('Queue #') + row.queue_id,\r\n                    modalClass: 'mpquickbooks-modal-queue',\r\n                    innerScroll: true,\r\n                    buttons: []\r\n                });\r\n\r\n            this.modal[action.rowIndex].trigger('openModal');\r\n        }\r\n    });\r\n});\r\n","Mageplaza_QuickbooksOnline/js/grid/massactions.js":"/**\n * Mageplaza\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Mageplaza.com license that is\n * available through the world-wide-web at this URL:\n * https://www.mageplaza.com/LICENSE.txt\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade this extension to newer\n * version in the future.\n *\n * @category    Mageplaza\n * @package     Mageplaza_QuickbooksOnline\n * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)\n * @license     https://www.mageplaza.com/LICENSE.txt\n */\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/grid/massactions',\n    'Magento_Ui/js/modal/alert',\n    'uiRegistry'\n], function ($, Component, alert, uiRegistry) {\n    'use strict';\n\n    return Component.extend({\n        currentResult: {},\n        totalSync: 0,\n\n        /**\n         * Applies specified action.\n         *\n         * @param actionIndex\n         */\n        applyAction: function (actionIndex) {\n            var data = this.getSelections();\n\n            if (!data.total) {\n                alert(\n                    {\n                        content: this.noItemsMsg\n                    }\n                );\n\n                return this;\n            }\n\n            if (actionIndex === 'sync') {\n                if (data.excludeMode) {\n                    var self = this;\n\n                    this.currentResult = {};\n                    this.disableElement(true);\n                    $.ajax({\n                        url: window.QuickbooksOnline.estimateUrl,\n                        type: 'post',\n                        dataType: 'json',\n                        data: {type: 'all', ids: data.selected},\n                        success: function (result) {\n                            if (result.status) {\n                                self.currentResult = result;\n                                $(\"#mp-sync .message\").hide();\n\n                                if (self.currentResult.total > 0) {\n                                    $(\"#sync-percent\").text('0%');\n                                    $(\".progress-bar\").removeAttr('style');\n                                    self.currentResult.percent = 0;\n                                    $(\"#progress-content\").show();\n                                    self.totalSync = 0;\n                                    self.syncData(0);\n                                } else {\n                                    self.showMessage('message-notice', result.message);\n                                    self.disableElement(false);\n                                }\n                            } else {\n                                self.showMessage('message-error', result.message);\n                                self.disableElement(false);\n                            }\n\n                        },\n                        error: function () {\n                            self.showMessage('message-error', window.QuickbooksOnline.estimateErrorMessage);\n                            self.disableElement(false);\n                        }\n                    });\n                } else {\n                    $(\"#sync-percent\").text('0%');\n                    $(\".progress-bar\").removeAttr('style');\n                    this.currentResult         = data;\n                    this.currentResult.ids     = data.selected;\n                    this.currentResult.percent = 0;\n                    this.totalSync             = 0;\n                    this.syncData(0);\n                    $(\"#progress-content\").show();\n                }\n\n            } else {\n                /**\n                 * Fix the issue can't delete all item when select all item on mass action\n                 */\n                if (actionIndex === 'delete' && data.excludeMode) {\n                    data.selected = [];\n                }\n\n                var action   = this.getAction(actionIndex),\n                    callback = this._getCallback(action, data);\n\n                action.confirm ? this._confirm(action, callback) : callback();\n\n                return this;\n            }\n        },\n\n        /**\n         * @param start\n         */\n        syncData: function (start) {\n            var end  = start + 100;\n            var ids  = this.currentResult.ids.slice(start, end);\n            var self = this;\n\n            $.ajax({\n                url: window.QuickbooksOnline.syncUrl,\n                type: 'post',\n                dataType: 'json',\n                data: {ids: ids},\n                success: function (result) {\n                    if (result.status) {\n                        var percent = (ids.length / self.currentResult.total) * 100;\n\n                        self.totalSync += result.total;\n                        percent = percent.toFixed(2);\n\n                        self.currentResult.percent += parseFloat(percent);\n                        if (self.currentResult.percent > 100) {\n                            self.currentResult.percent = 100;\n                            self.disableElement(false);\n                        }\n\n                        var percentText = self.currentResult.percent.toFixed(2) + '%';\n\n                        $(\".progress-bar\").css('width', percentText);\n                        $(\"#sync-percent\").text(percentText);\n                        if (end < self.currentResult.total) {\n                            self.syncData(end);\n                        } else {\n                            var messageText = window.QuickbooksOnline.successMessage.replace('#1', self.totalSync);\n\n                            self.reloadGrid();\n                            self.showMessage('message-success', messageText);\n                        }\n                    } else {\n                        self.showMessage('message-error', result.message);\n                        self.disableElement(false);\n                        self.reloadGrid();\n                    }\n                },\n                error: function () {\n                    self.showMessage('message-error', window.QuickbooksOnline.errorMessage);\n                    self.disableElement(false);\n                }\n            });\n        },\n        reloadGrid: function () {\n            var grid = uiRegistry.get('mpquickbooks_queue_listing.mpquickbooks_queue_listing_data_source');\n\n            // flagReload not use to filter, it's use to affect change value to reload on grid\n            grid.params.flagReload = Date.now();\n            grid.reload();\n        },\n\n        /**\n         * @param status\n         * @returns {*}\n         */\n        disableElement: function (status) {\n            var loaderElement = $(\"#container .admin__data-grid-loading-mask\");\n\n            return status ? loaderElement.show() : loaderElement.hide();\n        },\n\n        /**\n         * @param classCss\n         * @param message\n         */\n        showMessage: function (classCss, message) {\n            var messageElement = $(\"#mp-sync .message\");\n\n            messageElement.removeClass('message-error message-success message-notice');\n            $(\"#mp-sync .message-text strong\").text(message);\n            messageElement.addClass(classCss).show();\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/use-config-settings.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (checkbox) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: '',\n            linkedValue: '',\n            disableParent: false,\n            listens: {\n                disabled: 'processState',\n                checked: 'processState onCheckedChanged'\n            },\n            imports: {\n                readOnly: 'ns = ${ $.ns }, index = stock_data:disabled'\n            }\n        },\n\n        /**\n         * @returns {Element}\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig', 'linkedValue', 'disableParent']);\n        },\n\n        /**\n         * Handle checked and disabled changes to calculate disableParent value\n         */\n        processState: function () {\n            this.disableParent(this.checked() || this.readOnly);\n\n            if (this.readOnly) {\n                this.disable();\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onCheckedChanged: function (newChecked) {\n            if (newChecked) {\n                this.linkedValue(this.valueFromConfig());\n            }\n\n            this._super(newChecked);\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/use-config-min-sale-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox',\n    'underscore',\n    'uiRegistry'\n], function (checkbox, _, registry) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: ''\n        },\n\n        /**\n         * @returns {Element}\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initialize: function () {\n            this._super();\n            this.onCheckedChanged(this.checked());\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onCheckedChanged: function (newChecked) {\n            var valueFromConfig = this.valueFromConfig();\n\n            if (newChecked && (_.isArray(valueFromConfig) && valueFromConfig.length === 0 || valueFromConfig === 1)) {\n                this.changeVisibleDisabled(this.inputField, true, true, 1);\n            } else if (newChecked && _.isObject(valueFromConfig)) {\n                this.changeVisibleDisabled(this.inputField, false, true, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, true, true, null);\n            } else if (newChecked && _.isNumber(valueFromConfig)) {\n                this.changeVisibleDisabled(this.inputField, true, true, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, false, true, null);\n            } else {\n                this.changeVisibleDisabled(this.inputField, true, this.disabled() || false, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, false, true, null);\n            }\n\n            this._super(newChecked);\n        },\n\n        /**\n         * Change visible and disabled\n         *\n         * @param {String} filter\n         * @param {Boolean} visible\n         * @param {Boolean} disabled\n         * @param {Null|Number} valueFromConfig\n         */\n        changeVisibleDisabled: function (filter, visible, disabled, valueFromConfig) {\n            registry.async(filter)(\n                function (currentComponent) {\n                    var initialValue = currentComponent.initialValue;\n\n                    if (_.isString(initialValue) || initialValue === 0 || valueFromConfig === 1) {\n                        currentComponent.value(1);\n                    } else if (initialValue) {\n                        currentComponent.value(initialValue);\n                    }\n\n                    currentComponent.visible(visible);\n                    currentComponent.disabled(disabled);\n                }\n            );\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/qty-validator-changer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            valueUpdate: 'input'\n        },\n\n        /**\n         * Change validator\n         */\n        handleChanges: function (value) {\n            var isDigits = value !== 1;\n\n            this.validation['validate-integer'] = isDigits;\n            this.validation['less-than-equals-to'] = isDigits ? 99999999 : 99999999.9999;\n            this.validate();\n        }\n    });\n});\n","Magento_Review/js/rating.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('marketing.ratingControl', {\n        options: {\n            colorFilled: '#333',\n            colorUnfilled: '#CCCCCC',\n            colorHover: '#f30'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this._labels = this.element.find('label');\n            this._bind();\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            this._labels.on({\n                click: $.proxy(function (e) {\n                    $(e.currentTarget).prev().prop('checked', true);\n                    this._updateRating();\n                }, this),\n\n                hover: $.proxy(function (e) {\n                    this._updateHover($(e.currentTarget), this.options.colorHover);\n                }, this),\n\n                mouseleave: $.proxy(function (e) {\n                    this._updateHover($(e.currentTarget), this.options.colorUnfilled);\n                }, this)\n            });\n\n            this._updateRating();\n        },\n\n        /**\n         * @param {jQuery} elem\n         * @param {String} color\n         * @private\n         */\n        _updateHover: function (elem, color) {\n            elem.nextAll('label').addBack().filter(function () {\n                return !$(this).data('checked');\n            }).css('color', color);\n        },\n\n        /**\n         * @private\n         */\n        _updateRating: function () {\n            var checkedInputs = this.element.find('input[type=\"radio\"]:checked');\n\n            checkedInputs.nextAll('label').addBack().css('color', this.options.colorFilled).data('checked', true);\n            checkedInputs.prevAll('label').css('color', this.options.colorUnfilled).data('checked', false);\n        },\n\n        /**\n         * Remove rating when form reset\n         */\n        removeRating: function () {\n            var checkedInputs = this.element.find('input[type=\"radio\"]');\n\n            checkedInputs.nextAll('label').css('color', this.options.colorUnfilled).data('checked', false);\n        }\n    });\n\n});\n","Craftyclicks_Clicktoaddress/cc_c2a.min.js":"/*!\n * ClickToAddress by Crafty Clicks\n *\n * @author      Crafty Clicks Limited\n * @link        https://craftyclicks.co.uk\n * @copyright   Copyright (c) 2016, Crafty Clicks Limited\n * @license     Licensed under the terms of the MIT license.\n * @version     1.1.17\n */\nclickToAddress.prototype.search=function(searchText,id,sequence){\"use strict\";var that=this;if(searchText===\"\"){return}this.setProgressBar(0);var parameters={key:this.key,query:searchText,id:id,country:this.activeCountry,fingerprint:this.fingerprint,integration:this.tag,js_version:this.jsVersion,sequence:sequence,type:0};if(sequence==-1){parameters.type=2}if(typeof this.accessTokenOverride[this.activeCountry]!=\"undefined\"){parameters.key=this.accessTokenOverride[this.activeCountry]}if(this.coords!={}){parameters.coords={};parameters.coords.lat=this.coords.latitude;parameters.coords.lng=this.coords.longitude}try{var data=this.cacheRetrieve(parameters);that.setProgressBar(1);that.clear();that.hideErrors();that.searchResults=data;that.showResults();if(!that.focused){that.activeInput.focus()}that.searchStatus.lastResponseId=sequence||0;that.cacheStore(parameters,data,sequence);return}catch(err){if([\"cc/cr/01\",\"cc/cr/02\"].indexOf(err)==-1){throw err}}var url=this.baseURL+\"find\";this.apiRequest(\"find\",parameters,function(data){if(that.searchStatus.lastResponseId<=sequence){that.setProgressBar(1);that.clear();that.hideErrors();that.searchResults=data;that.showResults();if(!that.focused){that.activeInput.focus()}that.searchStatus.lastResponseId=sequence||0;that.cacheStore(parameters,data,sequence)}})};clickToAddress.prototype.getAddressDetails=function(id){\"use strict\";var that=this;var parameters={id:id,country:this.activeCountry,key:this.key,fingerprint:this.fingerprint,js_version:this.jsVersion,integration:this.tag,type:1};if(typeof this.accessTokenOverride[this.activeCountry]!=\"undefined\"){parameters.key=this.accessTokenOverride[this.activeCountry]}if(this.coords!={}){parameters.coords=this.coords}try{var data=this.cacheRetrieve(parameters);that.fillData(data.result);that.hideErrors();that.cleanHistory();that.cacheStore(parameters,data);return}catch(err){if([\"cc/cr/01\",\"cc/cr/02\"].indexOf(err)==-1){throw err}}var url=this.baseURL+\"retrieve\";this.apiRequest(\"retrieve\",parameters,function(data){try{that.fillData(data.result);that.hideErrors();that.cleanHistory();that.cacheStore(parameters,data)}catch(e){that.error(\"JS503\",e)}})};clickToAddress.prototype.getAvailableCountries=function(success_function){\"use strict\";var that=this;var parameters={key:this.key,fingerprint:this.fingerprint,js_version:this.jsVersion,integration:this.tag,language:this.countryLanguage};this.apiRequest(\"countries\",parameters,function(data){try{that.serviceReady=1;that.validCountries=data.countries;that.ipLocation=data.ip_location;that.hideErrors();try{success_function()}catch(e){that.error(\"JS515\",e)}}catch(e){that.error(\"JS505\",e)}})};clickToAddress.prototype.handleApiError=function(ajax){\"use strict\";if([401,402].indexOf(ajax.status)!=-1){this.serviceReady=-1;this.error(\"API401\");return}var data={};try{data=JSON.parse(ajax.responseText)}catch(e){data={}}if(typeof data.error!=\"undefined\"&&typeof data.error.status==\"string\"){this.error(\"API500\",\"API error: [\"+data.error.status+\"]\"+data.error.message)}else{this.error(\"API500\")}};clickToAddress.prototype.apiRequest=function(action,parameters,callback){var url=this.baseURL+action;var keys=Object.keys(this.customParameters);for(var i=0;i<keys.length;i++){parameters[keys[i]]=this.customParameters[keys[i]]}var request=new XMLHttpRequest;request.open(\"POST\",url,true);request.setRequestHeader(\"Content-Type\",\"application/json\");request.setRequestHeader(\"Accept\",\"application/json\");var that=this;request.onreadystatechange=function(){if(this.readyState===4){if(this.status==401){return}if(this.status>=200&&this.status<400){try{var data=JSON.parse(this.responseText);callback(data)}catch(e){that.error(\"JS506\",e)}}else{that.handleApiError(this)}}};request.send(JSON.stringify(parameters));var xmlHttpTimeout=setTimeout(function(){if(request!==null&&request.readyState!==4){request.abort();that.error(\"JS501\")}},1e4);request=null};clickToAddress.prototype.cacheRetrieve=function(search){\"use strict\";if(search.type==0||search.type==2){if(typeof this.cache.finds[search.country]==\"undefined\"){throw\"cc/cr/01\"}for(var i=0;i<this.cache.finds[search.country].length;i++){if(this.cache.finds[search.country][i].query==search.query&&this.cache.finds[search.country][i].id==search.id){return this.cache.finds[search.country][i].response}}throw\"cc/cr/02\"}if(search.type==1){if(typeof this.cache.retrieves[search.country]==\"undefined\"){throw\"cc/cr/01\"}for(var i=0;i<this.cache.retrieves[search.country].length;i++){if(this.cache.retrieves[search.country][i].id==search.id){return this.cache.retrieves[search.country][i].response}}throw\"cc/cr/02\"}throw\"cc/cr/03\"};clickToAddress.prototype.cacheStore=function(search,obj,sequence){\"use strict\";var sequence=sequence||0;if(search.type===0){if(typeof this.cache.finds[search.country]==\"undefined\"){this.cache.finds[search.country]=[]}var splice_pos=Math.abs(this.tools.binaryIndexOf(this.cache.finds[search.country],sequence));this.cache.finds[search.country].splice(splice_pos,0,{query:search.query,id:search.id,response:obj,sequence:sequence});if(this.cache.finds[search.country].length>100){this.cache.finds[search.country].shift()}this.setHistoryStep();return}if(search.type==1){if(typeof this.cache.retrieves[search.country]==\"undefined\"){this.cache.retrieves[search.country]=[]}for(var i=0;i<this.cache.retrieves[search.country].length;i++){if(this.cache.retrieves[search.country][i].id==search.id){return}}this.cache.retrieves[search.country].push({id:search.id,response:obj});return}if(search.type==2){return}};clickToAddress.prototype.history=function(dir){\"use strict\";if(!this.historyTools)return;if(this.cachePos<=-1){this.cachePos=0}var searchParams={};var cacheLength=Object.keys(this.cache.finds[this.activeCountry]).length-1;if(dir===0){this.cachePos++;searchParams=this.cache.finds[this.activeCountry][cacheLength-this.cachePos]}else{this.cachePos--;searchParams=this.cache.finds[this.activeCountry][cacheLength-this.cachePos]}this.setHistoryStep();this.activeInput.value=searchParams.query;this.search(searchParams.query,searchParams.id,-1)};clickToAddress.prototype.setHistoryActions=function(){\"use strict\";if(!this.historyTools)return;var that=this;var backBtn=this.searchObj.getElementsByClassName(\"cc-back\")[0];var forwardBtn=this.searchObj.getElementsByClassName(\"cc-forward\")[0];this.tools.ccEvent(backBtn,\"click\",function(){if(backBtn.className==\"cc-back\"){that.history(0)}});this.tools.ccEvent(forwardBtn,\"click\",function(){if(forwardBtn.className==\"cc-forward\"){that.history(1)}})};clickToAddress.prototype.setHistoryStep=function(){\"use strict\";if(!this.historyTools)return;var backBtn=this.searchObj.getElementsByClassName(\"cc-back\")[0];var forwardBtn=this.searchObj.getElementsByClassName(\"cc-forward\")[0];backBtn.className=\"cc-back\";forwardBtn.className=\"cc-forward\";var logo_visible=0;if(typeof this.cache.finds[this.activeCountry]==\"undefined\"||this.cachePos>=Object.keys(this.cache.finds[this.activeCountry]).length-1||Object.keys(this.cache.finds[this.activeCountry]).length<=1){backBtn.className=\"cc-back cc-disabled\";logo_visible++}if(typeof this.cache.finds[this.activeCountry]==\"undefined\"||this.cachePos<=0||Object.keys(this.cache.finds[this.activeCountry]).length<=1){forwardBtn.className=\"cc-forward cc-disabled\";logo_visible++}var logo=this.searchObj.getElementsByClassName(\"c2a_logo\");if(logo.length){if(logo_visible==2){this.tools.removeClass(logo[0],\"hidden\");this.tools.removeClass(logo[0],\"tools_in_use\")}else{this.tools.addClass(logo[0],\"hidden\");this.tools.addClass(logo[0],\"tools_in_use\")}}};clickToAddress.prototype.hideHistory=function(){\"use strict\";if(!this.historyTools)return;var backBtn=this.searchObj.getElementsByClassName(\"cc-back\")[0];var forwardBtn=this.searchObj.getElementsByClassName(\"cc-forward\")[0];backBtn.className=\"cc-back cc-disabled\";forwardBtn.className=\"cc-forward cc-disabled\"};clickToAddress.prototype.cleanHistory=function(){\"use strict\";if(this.cachePos<=0||typeof this.cache.finds[this.activeCountry]==\"undefined\"){return}var removeAt=Object.keys(this.cache.finds[this.activeCountry]).length-this.cachePos;this.cache.finds[this.activeCountry].splice(removeAt,this.cachePos);this.cachePos=-1;var keys_length=Object.keys(this.cache.finds[this.activeCountry]).length;if(keys_length>0){this.activeId=this.cache.finds[this.activeCountry][keys_length-1].id}else{this.activeId=\"\"}this.setHistoryStep()};clickToAddress.prototype.error=function(code,message){\"use strict\";var errors={JS500:{default_message:\"Unknown Server Error\",level:0},JS501:{default_message:\"API server seems unreachable\",level:0},JS502:{default_message:\"API search request resulted in a JS error.\",level:0},JS503:{default_message:\"API address retrieve request resulted in a JS error.\",level:0},JS504:{default_message:\"onResultSelected callback function resulted in a JS error.\",level:0},JS505:{default_message:\"API countrylist retrieve request resulted in a JS error.\",level:0},JS515:{default_message:\"Country list retrieve callback function resulted in an error.\",level:0},JS506:{default_message:\"JSON parsing error\",level:0},JS401:{default_message:'Invalid value for countryMatchWith. Fallback to \"text\"',level:0},API401:{default_message:\"Please review your account; access token restricted from accessing the service.\",level:1},API500:{default_message:\"API error occured\",level:1}};console.warn(\"CraftyClicks Debug Error Message\");var c=\"[\"+code+\"]\";if(typeof message==\"undefined\"||!this.debug){if(typeof errors[code]!==\"undefined\"){console.warn(c+errors[code].default_message)}else{console.warn(c)}}else{if(typeof message.stack!=\"undefined\"){console.warn(c+message.stack)}else{console.warn(c+message)}}if(errors[code].level==1){this.info(\"error\")}if(typeof this.onError==\"function\"){this.onError(code,message)}};clickToAddress.prototype.hideErrors=function(){\"use strict\";if(this.serviceReady!=-1){this.errorObj.innerHTML=\"\";this.errorObj.className=\"c2a_error c2a_error_hidden\"}};clickToAddress.prototype.start_debug=function(){\"use strict\";var that=this;var css=document.createElement(\"style\");css.type=\"text/css\";var styles=\"#cc_c2a_debug { \"+[\"position: fixed;\",\"right: 0px;\",\"background-color: white;\",\"top: 50px;\",\"border: 1px solid black;\",\"border-top-left-radius: 5px;\",\"border-bottom-left-radius: 5px;\",\"padding: 5px;\",\"text-align: center;\",\"border-right: none;\"].join(\" \")+\" }\";styles+=\" #cc_c2a_debug > div{\"+[\"border-radius: 5px;\",\"padding: 5px;\",\"border: 1px solid black;\",\"margin-bottom: 5px;\"].join(\" \")+\"}\";styles+=\" #cc_c2a_debug .c2a_toggle.c2a_toggle_on{ background-color: #87D37C; color: white; }\";styles+=\" #cc_c2a_debug .c2a_toggle{ cursor: pointer; }\";this.tools.__$styleInject(styles);var cc_debug=document.createElement(\"DIV\");cc_debug.id=\"cc_c2a_debug\";var html=['<div><img style=\"width: 40px;\" src=\"https://craftyclicks.co.uk/wp-content/themes/craftyclicks_wp_theme/assets/images/product/prod_gl.png\"/></div>','<div id=\"toggl_transl\" class=\"c2a_toggle\">Toggle Transl</div>'].join(\"\");cc_debug.innerHTML=html;document.body.appendChild(cc_debug);var btn1=document.getElementById(\"toggl_transl\");this.tools.ccEvent(btn1,\"click\",function(){that.transliterate=!that.transliterate;if(that.transliterate){btn1.className=\"c2a_toggle c2a_toggle_on\";that.addTransl()}else{btn1.className=\"c2a_toggle\"}})};clickToAddress.prototype.info=function(state,count){\"use strict\";var infoBar=this.searchObj.getElementsByClassName(\"infoBar\")[0];switch(state){case\"pre-trial\":infoBar.className+=\" infoActive infoTrial\";infoBar.innerHTML='<h5>Access token is needed!</h5><p>To get a trial token, sign up for a <a href=\"https://account.craftyclicks.co.uk/login/signup\">free trial</a>.</p><p>Then find the placeholder accessToken xxxxx-xxxxx-xxxxx-xxxxx in your HTML and replace it with a your own token.</p>';break;case\"no-results\":infoBar.className+=\" infoActive infoWarning\";infoBar.innerHTML=this.texts.no_results;break;case\"error\":infoBar.className+=\" infoActive infoWarning\";infoBar.innerHTML=this.texts.generic_error;break;default:infoBar.className=\"infoBar\";infoBar.innerHTML=\"\";break}};clickToAddress.prototype.setFingerPrint=function(){\"use strict\";var low=1e15;var high=1e16;var value=Math.floor(Math.random()*(high-low+1)+low);this.fingerprint=value.toString(16)};clickToAddress.prototype.getFingerPrint=function(){\"use strict\";return this.fingerprint};function clickToAddress(config){\"use strict\";var that=this;if(document.getElementById(\"cc_c2a\")!==null){throw\"Already initiated\"}if(typeof that==\"undefined\"||typeof that.preset==\"undefined\"){throw'Incorrect way to initialize this code. use \"new ClickToAddress(config);\"'}that.preset(config);that.gfxModeTools=c2a_gfx_modes[\"mode\"+that.gfxMode];that.gfxModeTools.addHtml(that);that.searchObj=document.getElementById(\"cc_c2a\");that.resultList=that.searchObj.getElementsByClassName(\"c2a_results\")[0];that.errorObj=that.searchObj.getElementsByClassName(\"c2a_error\")[0];that.getAvailableCountries(function(){that.serviceReady=1;that.setCountryChange();var isValidCountry=function(country,validCountries){for(var i=0;i<validCountries.length;i++){if(validCountries[i].code==country){return true}}return false};var country=null;if(that.validCountries.length){country=that.validCountries[0].code;if(isValidCountry(that.defaultCountry,that.validCountries)){country=that.defaultCountry}if(that.getIpLocation&&that.ipLocation!==\"\"&&isValidCountry(that.ipLocation,that.validCountries)){country=that.ipLocation}}else{throw\"Incorrect country configuration.\"}that.selectCountry(country)});if(that.searchObj.getElementsByClassName(\"cc-history\").length){that.setHistoryActions()}this.tools.ccEvent(that.searchObj,\"mouseover\",function(){that.hover=true});this.tools.ccEvent(that.searchObj,\"mouseout\",function(){that.hover=false});this.tools.ccEvent(document,\"click\",function(){that.hide()});this.tools.ccEvent(window,\"scroll\",function(){if(that.visible&&that.focused){setTimeout(function(){that.gfxModeTools.reposition(that,that.activeInput)},100)}});this.tools.ccEvent(window,\"resize\",function(){if(that.visible){setTimeout(function(){that.gfxModeTools.reposition(that,that.activeInput)},100)}});this.tools.ccEvent(that.resultList,\"scroll\",function(){var scrollTop=parseInt(this.scrollTop);var innerHeight=parseInt(window.getComputedStyle(this,null).getPropertyValue(\"height\"));if(that.searchStatus.inCountryMode!=1&&parseInt(this.scrollHeight)!==0&&scrollTop+innerHeight>=parseInt(this.scrollHeight)*.8){that.showResultsExtra()}});that.getStyleSheet();that.tools.__$styleInject(\"#cc_c2a ul.c2a_results li.cc-hidden{ display: none; }\");if(that.transliterate){that.addTransl()}if(that.debug){that.start_debug()}if(that.key==\"xxxxx-xxxxx-xxxxx-xxxxx\"){that.info(\"pre-trial\")}if(typeof config.dom!=\"undefined\"){that.attach(config.dom)}}clickToAddress.prototype.fillData=function(addressDataResult){\"use strict\";var addressData=null;if(this.transliterate&&typeof this.transl===\"function\"){var resultKeys=Object.keys(addressDataResult);addressData={};for(var k=0;k<resultKeys.length;k++){addressData[resultKeys[k]]=this.transl(addressDataResult[resultKeys[k]])}}else{addressData=addressDataResult}if(typeof this.activeDom.country!=\"undefined\"){var options=this.activeDom.country.getElementsByTagName(\"option\");if(options.length){var target_val=\"\";for(var i=0;i<options.length&&target_val===\"\";i++){if(options[i].innerHTML==this.validCountries[this.activeCountryId].country_name){target_val=options[i].value;break}if(options[i].value==this.activeCountry){target_val=options[i].value;break}}this.activeDom.country.value=target_val}else{this.activeDom.country.value=this.validCountries[this.activeCountryId].country_name}}if(typeof this.activeDom.line_1!=\"undefined\"){var line_3=[];if(addressData.line_1===\"\"&&addressData.company_name!==\"\"){addressData.line_1=addressData.company_name}this.activeDom.line_1.value=addressData.line_1;if(typeof this.activeDom.line_2!=\"undefined\"){this.activeDom.line_2.value=addressData.line_2}else{if(addressData.line_2!==\"\"){line_3.push(addressData.line_2)}}if(addressData.company_name!==\"\"){if(typeof this.activeDom.company!=\"undefined\"){this.activeDom.company.value=addressData.company_name;this.lastSearchCompanyValue=addressData.company_name}else{this.activeDom.line_1.value=addressData.company_name+\", \"+this.activeDom.line_1.value}}else{if(typeof this.activeDom.company!=\"undefined\"){if(this.lastSearchCompanyValue!==\"\"&&this.activeDom.company.value==this.lastSearchCompanyValue){this.activeDom.company.value=\"\"}this.lastSearchCompanyValue=\"\"}}if(typeof this.activeDom.postcode!=\"undefined\"){this.activeDom.postcode.value=addressData.postal_code}else{line_3.push(addressData.postal_code)}if(typeof this.activeDom.town!=\"undefined\"){if(addressData.locality!==\"\"){this.activeDom.town.value=addressData.locality}else{this.activeDom.town.value=addressData.dependent_locality}}else{if(addressData.locality!==\"\"){line_3.push(addressData.locality)}else{line_3.push(addressData.dependent_locality)}}if(addressData.province_code!==\"\"||addressData.province_name!==\"\"){var province_set={preferred:addressData.province,code:addressData.province_code,name:addressData.province_name};if(typeof this.getCfg(\"onSetCounty\")==\"function\"){this.getCfg(\"onSetCounty\")(this,this.activeDom,province_set)}else if(typeof this.activeDom.county!=\"undefined\"){this.setCounty(this.activeDom.county,province_set)}}if(line_3.length){if(typeof this.activeDom.line_2!=\"undefined\"){this.activeDom.line_2.value+=\", \"+line_3.join(\", \")}else{this.activeDom.line_1.value+=\", \"+line_3.join(\", \")}}}if(typeof this.getCfg(\"onResultSelected\")==\"function\"){try{addressData.country=this.validCountries[this.activeCountryId];this.getCfg(\"onResultSelected\")(this,this.activeDom,addressData)}catch(e){this.error(\"JS504\")}}this.hide(true)};clickToAddress.prototype.setCounty=function(element,province){\"use strict\";if(element.tagName==\"SELECT\"){var target_val=province.code;if(target_val===\"\"){target_val=province.name}var options=element.getElementsByTagName(\"option\");if(options.length){var found=0;var province_name=this.tools.removeDiacritics(province.name);var province_code=this.tools.removeDiacritics(province.code);for(var i=0;i<options.length;i++){var option_content=this.tools.removeDiacritics(options[i].innerHTML);var option_value=this.tools.removeDiacritics(options[i].value);if(option_content!==\"\"&&(option_content==province_name||option_content==province_code)||option_value!==\"\"&&(option_value==province_name||option_value==province_code)){target_val=options[i].value;found++;break}}if(!found){var province_text=province.name;if(province_text===\"\"){province_text=province.code}var provinceMatchText=this.tools.removeDiacritics(province_text);var matches={rank:0,ids:[]};for(var i=0;i<options.length;i++){var option_text=this.tools.removeDiacritics(options[i].innerHTML);var highestRank=0;var rankTable=[];for(var j=0;j<provinceMatchText.length;j++){rankTable[j]=[];for(var k=0;k<option_text.length;k++){if(provinceMatchText[j]==option_text[k]){if(j>0&&k>0){rankTable[j][k]=rankTable[j-1][k-1]+1}else{rankTable[j][k]=1}if(rankTable[j][k]>highestRank){highestRank=rankTable[j][k]}}else{rankTable[j][k]=0}}}if(matches.rank<highestRank){matches.rank=highestRank;matches.ids=[]}if(matches.rank==highestRank){matches.ids.push(i)}}if(matches.ids.length>1){var characterDifferences=function(a,b){var aTable={};var bTable={};for(var i=0;i<a.length;i++){if(typeof aTable[a[i]]==\"undefined\")aTable[a[i]]=1;else{aTable[a[i]]++}}for(var i=0;i<b.length;i++){if(typeof bTable[b[i]]==\"undefined\")bTable[b[i]]=1;else{bTable[b[i]]++}}var totalScore=0;var aKeys=Object.keys(aTable);for(var i=0;i<aKeys.length;i++){if(typeof bTable[aKeys[i]]==\"undefined\"){totalScore+=aTable[aKeys[i]]}else{totalScore+=Math.abs(aTable[aKeys[i]]-bTable[aKeys[i]]);delete bTable[aKeys]}}var bKeys=Object.keys(bTable);for(var i=0;i<bKeys.length;i++){totalScore+=bTable[bKeys[i]]}return totalScore};var charMatch={id:0,rank:1e3};for(var i=0;i<matches.ids.length;i++){var r=characterDifferences(this.tools.removeDiacritics(options[matches.ids[i]].innerHTML),provinceMatchText);if(r<charMatch.rank){charMatch.rank=r;charMatch.id=i}}target_val=options[matches.ids[charMatch.id]].value}else{target_val=options[matches.ids[0]].value}}element.value=target_val}}else{var province_for_input=province.preferred;if(province_for_input===\"\"){province_for_input=province.name}if(province_for_input===\"\"){province_for_input=province.code}element.value=province_for_input}};clickToAddress.prototype.showResults=function(){\"use strict\";var _cs=this;_cs.scrollPosition=0;_cs.resetSelector();_cs.info(\"clear\");_cs.resultList.innerHTML=\"\";for(var i=0;i<_cs.searchResults.results.length;i++){var row=_cs.searchResults.results[i];if(typeof row.count==\"undefined\"||typeof row.id==\"undefined\"){throw\"server error\"}var labels=[];var hover_label=row.labels.join(\", \");for(var j=0;j<row.labels.length;j++){if(_cs.transliterate&&typeof _cs.transl===\"function\"){labels.push(_cs.transl(row.labels[j]))}else{labels.push(row.labels[j])}}var content=\"<div>\";if(typeof labels[0]==\"string\"&&labels[0]!==\"\")content+=\"<span>\"+labels[0]+\"</span>\";if(typeof labels[1]==\"string\"&&labels[1]!==\"\")content+='<span class=\"light\">'+labels[1]+\"</span>\";if(typeof row.count==\"number\"&&row.count>1)content+='<span class=\"light\">'+_cs.texts.more.replace(\"{{value}}\",row.count)+\"</span>\";content+=\"</div>\";var new_elem=document.createElement(\"LI\");new_elem.innerHTML=content;_cs.tools.ccData(new_elem,\"id\",row.id.toString());_cs.tools.ccData(new_elem,\"count\",row.count.toString());new_elem.setAttribute(\"title\",hover_label);if(row.count!=1){_cs.tools.addClass(new_elem,\"cc-filter\")}if(i>=_cs.scrollLimit){_cs.tools.addClass(new_elem,\"cc-hidden\")}_cs.resultList.appendChild(new_elem)}_cs.resultList.scrollTop=0;var listElements=_cs.resultList.getElementsByTagName(\"li\");for(var i=0;i<listElements.length;i++){_cs.tools.ccEvent(listElements[i],\"click\",function(){_cs.select(this)})}if(_cs.searchResults.results.length===0){_cs.info(\"no-results\");_cs.hasContent=false}else{_cs.hasContent=true}};clickToAddress.prototype.showResultsExtra=function(){\"use strict\";var _cs=this;var listElements=_cs.resultList.querySelectorAll(\".cc-hidden\");for(var i=0;i<_cs.scrollLimit&&i<listElements.length;i++){_cs.tools.removeClass(listElements[i],\"cc-hidden\")}};clickToAddress.prototype.select=function(li){\"use strict\";this.resetSelector();this.cleanHistory();li.id=this.tools.ccData(li,\"id\");li.count=this.tools.ccData(li,\"count\");if(li.count===\"1\"){this.getAddressDetails(li.id);this.loseFocus();return}if(li.count!==\"1\"){this.sequence++;this.searchStatus.lastSearchId=this.sequence;var current_sequence=this.sequence;this.search(this.activeInput.value,li.id,current_sequence);this.getFocus();this.activeId=li.id;return}if(li.className!=\"deadend\"){this.sequence++;this.searchStatus.lastSearchId=this.sequence;this.search(this.activeInput.value);this.getFocus();return}};clickToAddress.prototype.getGeo=function(){\"use strict\";var that=this;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){that.coords=position.coords;that.showGeo()})}};clickToAddress.prototype.changeCountry=function(filter){\"use strict\";this.hideHistory();this.resetSelector();var newHtml=\"\";var limit=this.validCountries.length;for(var i=0;i<limit;i++){newHtml+=\"<li></li>\"}this.resultList.innerHTML=newHtml;var listElements=this.resultList.getElementsByTagName(\"li\");this.resultList.scrollTop=0;var that=this;var skip=0;for(var i=0;i<listElements.length;i++){var row=this.validCountries[i+skip];var content=\"\";if(typeof filter!==\"undefined\"&&filter!==\"\"){var matchFound=false;for(var j=0;!matchFound&&j<Object.keys(row).length;j++){var rowElem=row[Object.keys(row)[j]];if(typeof rowElem==\"object\"&&Array.isArray(rowElem)){for(var k=0;!matchFound&&k<rowElem.length;k++){var text=rowElem[k].toString().toLowerCase();if(text.indexOf(filter.toLowerCase())===0){matchFound=true}}}else{var text=rowElem.toString().toLowerCase();if(text.indexOf(filter.toLowerCase())===0){matchFound=true}}}if(matchFound){content='<span class=\"cc-flag cc-flag-'+row.short_code+'\"></span>'+\"<span>\"+row.country_name+\"</span>\"}else{listElements[i].parentNode.removeChild(listElements[i]);i--;skip++}}else{var content='<span class=\"cc-flag cc-flag-'+row.short_code+'\"></span>'+\"<span>\"+row.country_name+\"</span>\"}if(content!=\"\"){listElements[i].innerHTML=content;listElements[i].setAttribute(\"countryCode\",row.code);that.hasContent=true;this.tools.ccEvent(listElements[i],\"click\",function(){that.selectCountry(this.getAttribute(\"countryCode\"))})}}this.searchStatus.inCountryMode=1;this.getFocus()};clickToAddress.prototype.selectCountry=function(countryCode,skipSearch){\"use strict\";var skipSearch=skipSearch||false;var that=this;this.clear();var selectedCountry={};this.activeCountryId=0;for(var i=0;i<this.validCountries.length;i++){if(this.validCountries[i].code==countryCode){this.activeCountryId=i;break}}selectedCountry=this.validCountries[this.activeCountryId];if(this.countrySelectorOption!==\"hidden\"){var countryObj=this.searchObj.getElementsByClassName(\"country_img\")[0];countryObj.setAttribute(\"class\",\"country_img cc-flag cc-flag-\"+selectedCountry.short_code);if(this.countrySelectorOption==\"disabled\"){this.searchObj.getElementsByClassName(\"country_btn\")[0].getElementsByTagName(\"span\")[0].innerHTML=selectedCountry.country_name}}this.activeCountry=countryCode;that.searchStatus.inCountryMode=0;this.getFocus();if(!skipSearch&&typeof this.activeInput.value!=\"undefined\"&&typeof this.lastSearch!=\"\"){this.activeInput.value=this.lastSearch;this.activeId=\"\";this.sequence++;this.searchStatus.lastSearchId=this.sequence;var current_sequence=this.sequence;setTimeout(function(){if(that.searchStatus.lastSearchId<=current_sequence){if(that.activeInput.value!==\"\"){that.search(that.activeInput.value,that.activeId,current_sequence);that.cleanHistory()}else{that.clear()}}},200);this.gfxModeTools.reposition(this,this.activeInput)}this.setHistoryStep();this.setPlaceholder(0)};clickToAddress.prototype.setCountryChange=function(){\"use strict\";var finalValidCountries=[];if(this.enabledCountries.length!==0){for(var iEC=0;iEC<this.enabledCountries.length;iEC++){var enabledCountryTestString=this.enabledCountries[iEC];var exactMatch=null;var partialMatch=[];for(var iVC=0;iVC<this.validCountries.length;iVC++){if(finalValidCountries.indexOf(iVC)!==-1){continue}var row=this.validCountries[iVC];switch(this.countryMatchWith){case\"iso_3\":if(enabledCountryTestString==row.iso_3166_1_alpha_3){exactMatch=iVC}break;case\"iso_2\":if(enabledCountryTestString==row.iso_3166_1_alpha_2){exactMatch=iVC}break;case\"code\":var testArray=[row.code.toUpperCase(),row.short_code.toUpperCase()];if(testArray.indexOf(enabledCountryTestString)!==-1){exactMatch=iVC}break;default:this.error(\"JS401\");case\"text\":for(var j=0;!exactMatch&&j<Object.keys(row).length;j++){var rowElem=row[Object.keys(row)[j]];if(typeof rowElem==\"string\"||typeof rowElem==\"number\"){var text=rowElem.toString().toUpperCase();if(text.indexOf(enabledCountryTestString)===0){if(text==enabledCountryTestString){exactMatch=iVC}else if(partialMatch.indexOf(iVC)==-1){partialMatch.push(iVC)}}}else{for(var l=0;l<rowElem.length;l++){var text=rowElem[l].toString().toUpperCase();if(text.indexOf(enabledCountryTestString)===0){if(text==enabledCountryTestString){exactMatch=iVC}else if(partialMatch.indexOf(iVC)==-1){partialMatch.push(iVC)}}}}}break}}if(exactMatch!==null){finalValidCountries.push(exactMatch)}else if(partialMatch.length>0){for(var iPM=0;iPM<partialMatch.length;iPM++){finalValidCountries.push(partialMatch[iPM])}}exactMatch=null;partialMatch=[]}var offset=0;for(var iVC=0;iVC<this.validCountries.length;iVC++){if(finalValidCountries.indexOf(iVC+offset)==-1){this.validCountries.splice(iVC,1);offset++;iVC--}}}if(this.validCountries.length===0){throw\"No valid countries left in the country list!\"}if(this.countrySelectorOption==\"enabled\"){var countryObj=this.searchObj.getElementsByClassName(\"country_btn\")[0];var that=this;this.tools.ccEvent(countryObj,\"click\",function(){if(that.searchStatus.inCountryMode===0){that.setPlaceholder(1);that.changeCountry();that.activeInput.value=\"\";that.hasContent=true;that.info()}else{that.setPlaceholder(0);that.searchStatus.inCountryMode=0;that.hide(true);that.getFocus();that.hover=true}})}};if(typeof c2a_gfx_modes==\"undefined\"){var c2a_gfx_modes={}}c2a_gfx_modes[\"mode1\"]={addHtml:function(that){var cc_dropdown=document.createElement(\"DIV\");cc_dropdown.className=\"c2a_mode\"+that.gfxMode+\" c2a_\"+that.style.ambient+\" c2a_accent_\"+that.style.accent;cc_dropdown.id=\"cc_c2a\";var historyBar='<div class=\"cc-history\"><div class=\"cc-back cc-disabled\"></div>';historyBar+='<div class=\"cc-forward cc-disabled\"></div></div>';var mainbar=\"\";if(that.countrySelectorOption!=\"hidden\"||that.historyTools){mainbar+='<div class=\"mainbar\">';if(that.countrySelectorOption!=\"hidden\"){var btnClass=\"country_btn\";if(that.countrySelectorOption==\"enabled\"){btnClass+=\" country_btn_active\"}mainbar+='<div class=\"'+btnClass+'\"><div class=\"country_img\"></div><span>'+that.texts.country_button+\"</span></div>\"}if(that.historyTools){mainbar+=historyBar}if(that.showLogo){mainbar+='<div class=\"c2a_logo\" title=\"Provided by Crafty Clicks\"></div>'}mainbar+=\"</div>\"}var progressBar='<div class=\"progressBar\"></div>';var infoBar='<div class=\"infoBar\"></div>';var footerHtml=progressBar+mainbar+infoBar;var footerClass=\"c2a_footer\",title=\"\";var html='<div class=\"c2a_error\"></div><ul class=\"c2a_results\"></ul>'+'<div class=\"'+footerClass+'\">'+footerHtml+\"</div>\";cc_dropdown.innerHTML=html;document.body.appendChild(cc_dropdown)},reposition:function(that,target){var elemRect=target.getBoundingClientRect();var doc=document.documentElement;var docTop=(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0);var docLeft=(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0);var topOffset=elemRect.top+docTop+(target.offsetHeight-1);var leftOffset=elemRect.left+docLeft+3;var htmlBox=window.getComputedStyle(document.getElementsByTagName(\"html\")[0]);topOffset+=parseInt(htmlBox.getPropertyValue(\"margin-top\"))+parseInt(htmlBox.getPropertyValue(\"padding-top\"));leftOffset+=parseInt(htmlBox.getPropertyValue(\"margin-left\"))+parseInt(htmlBox.getPropertyValue(\"padding-left\"));that.searchObj.style.left=leftOffset+\"px\";that.searchObj.style.top=topOffset+\"px\";that.searchObj.style.width=target.offsetWidth-6+\"px\";var logo=that.searchObj.getElementsByClassName(\"c2a_logo\");if(logo.length){if(elemRect.width<300){that.tools.addClass(logo[0],\"hidden\")}else{if(!that.tools.hasClass(logo[0],\"tools_in_use\")){that.tools.removeClass(logo[0],\"hidden\")}}}var activeClass=\"c2a_active\";target.cc_current_target=1;var activeElements=document.getElementsByClassName(activeClass);for(var i=0;i<activeElements.length;i++){if(typeof activeElements[i].cc_current_target==\"undefined\"){activeElements[i].className=activeElements[i].className.replace(\" \"+activeClass,\"\")}}delete target.cc_current_target;if(target.className.indexOf(activeClass)==-1){target.className+=\" \"+activeClass}}};if(typeof c2a_gfx_modes==\"undefined\"){var c2a_gfx_modes={}}c2a_gfx_modes[\"mode2\"]={addHtml:function(that){var cc_dropdown=document.createElement(\"DIV\");cc_dropdown.className=\"c2a_mode\"+that.gfxMode+\" c2a_\"+that.style.ambient+\" c2a_accent_\"+that.style.accent;cc_dropdown.id=\"cc_c2a\";var mainbar=\"\";if(that.countrySelectorOption!=\"hidden\"||that.historyTools){mainbar+='<div class=\"mainbar\">';if(that.countrySelectorOption!=\"hidden\"){var btnClass=\"country_btn\";if(that.countrySelectorOption==\"enabled\"){btnClass+=\" country_btn_active\"}mainbar+='<div class=\"'+btnClass+'\"><div class=\"country_img\"></div><span>'+that.texts.country_button+\"</span></div>\"}if(that.historyTools){mainbar+='<div class=\"cc-history\"><div class=\"cc-back disabled\"></div>';mainbar+='<div class=\"cc-forward disabled\"></div></div>'}if(that.showLogo){mainbar+='<div class=\"c2a_logo\" title=\"Provided by Crafty Clicks\"></div>'}mainbar+=\"</div>\"}var progressBar='<div class=\"progressBar\"></div>';var infoBar='<div class=\"infoBar\"></div>';\nvar footerClass=\"c2a_footer\";var footerHtml=progressBar+infoBar;var html=mainbar+'<div class=\"c2a_error\"></div><ul class=\"c2a_results\"></ul>'+'<div class=\"'+footerClass+'\">'+footerHtml+\"</div>\";cc_dropdown.innerHTML=html;document.body.appendChild(cc_dropdown)},reposition:function(that,target){var elemRect=target.getBoundingClientRect();var doc=document.documentElement;var docTop=(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0);var docLeft=(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0);var mainBarHeight=0;if(that.searchObj.getElementsByClassName(\"mainbar\").length){mainBarHeight=that.searchObj.getElementsByClassName(\"mainbar\")[0].clientHeight}var topOffset=elemRect.top+docTop-(mainBarHeight+6);var leftOffset=elemRect.left+docLeft;var htmlBox=window.getComputedStyle(document.getElementsByTagName(\"html\")[0]);topOffset+=parseInt(htmlBox.getPropertyValue(\"margin-top\"))+parseInt(htmlBox.getPropertyValue(\"padding-top\"));leftOffset+=parseInt(htmlBox.getPropertyValue(\"margin-left\"))+parseInt(htmlBox.getPropertyValue(\"padding-left\"));that.searchObj.style.left=leftOffset-5+\"px\";that.searchObj.style.top=topOffset+\"px\";that.searchObj.style.width=target.offsetWidth+10+\"px\";if(that.searchObj.getElementsByClassName(\"c2a_results\").length){that.searchObj.getElementsByClassName(\"c2a_results\")[0].style.marginTop=target.offsetHeight+6+\"px\"}var logo=that.searchObj.getElementsByClassName(\"c2a_logo\");if(logo.length){if(elemRect.width<300){that.tools.addClass(logo[0],\"hidden\")}else{if(!that.tools.hasClass(logo[0],\"tools_in_use\")){that.tools.removeClass(logo[0],\"hidden\")}}}var activeClass=\"c2a_active\";target.cc_current_target=1;var activeElements=document.getElementsByClassName(activeClass);for(var i=0;i<activeElements.length;i++){if(typeof activeElements[i].cc_current_target==\"undefined\"){activeElements[i].className=activeElements[i].className.replace(\" \"+activeClass,\"\")}}delete target.cc_current_target;if(target.className.indexOf(activeClass)==-1){target.className+=\" \"+activeClass}}};if(typeof c2a_gfx_modes==\"undefined\"){var c2a_gfx_modes={}}c2a_gfx_modes[\"mode3\"]={addHtml:function(that){var cc_dropdown=document.createElement(\"DIV\");cc_dropdown.className=\"c2a_mode\"+that.gfxMode+\" c2a_\"+that.style.ambient+\" c2a_accent_\"+that.style.accent;cc_dropdown.id=\"cc_c2a\";var historyBar='<div class=\"cc-history\"><div class=\"cc-back cc-disabled\"></div>';historyBar+='<div class=\"cc-forward cc-disabled\"></div></div>';var mainbar=\"\";if(that.countrySelectorOption!=\"hidden\"||that.historyTools){mainbar+='<div class=\"mainbar\">';if(that.countrySelectorOption!=\"hidden\"){var btnClass=\"country_btn\";if(that.countrySelectorOption==\"enabled\"){btnClass+=\" country_btn_active\"}mainbar+='<div class=\"'+btnClass+'\"><div class=\"country_img\"></div><span>'+that.texts.country_button+\"</span></div>\"}if(that.historyTools){mainbar+=historyBar}if(that.showLogo){mainbar+='<div class=\"c2a_logo\" title=\"Provided by Crafty Clicks\"></div>'}mainbar+=\"</div>\"}var progressBar='<div class=\"progressBar\"></div>';var infoBar='<div class=\"infoBar\"></div>';var footerHtml=progressBar+mainbar+infoBar;var footerClass=\"c2a_footer\";var html='<div class=\"c2a_error\"></div><ul class=\"c2a_results\"></ul>'+'<div class=\"'+footerClass+'\">'+footerHtml+\"</div>\";cc_dropdown.innerHTML=html;document.body.appendChild(cc_dropdown)},reposition:function(that,target){var elemRect=target.getBoundingClientRect();var doc=document.documentElement;var docTop=(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0);var docLeft=(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0);var topOffset=elemRect.top+docTop+(target.offsetHeight+3);var leftOffset=elemRect.left+docLeft;var htmlBox=window.getComputedStyle(document.getElementsByTagName(\"html\")[0]);topOffset+=parseInt(htmlBox.getPropertyValue(\"margin-top\"))+parseInt(htmlBox.getPropertyValue(\"padding-top\"));leftOffset+=parseInt(htmlBox.getPropertyValue(\"margin-left\"))+parseInt(htmlBox.getPropertyValue(\"padding-left\"));that.searchObj.style.left=leftOffset+\"px\";that.searchObj.style.top=topOffset+\"px\";that.searchObj.style.width=target.offsetWidth+\"px\";var logo=that.searchObj.getElementsByClassName(\"c2a_logo\");if(logo.length){if(elemRect.width<300){that.tools.addClass(logo[0],\"hidden\")}else{if(!that.tools.hasClass(logo[0],\"tools_in_use\")){that.tools.removeClass(logo[0],\"hidden\")}}}var activeClass=\"c2a_active\";target.cc_current_target=1;var activeElements=document.getElementsByClassName(activeClass);for(var i=0;i<activeElements.length;i++){if(typeof activeElements[i].cc_current_target==\"undefined\"){activeElements[i].className=activeElements[i].className.replace(\" \"+activeClass,\"\")}}delete target.cc_current_target;if(target.className.indexOf(activeClass)==-1){target.className+=\" \"+activeClass}}};clickToAddress.prototype.setupText=function(textCfg){\"use strict\";this.texts={default_placeholder:\"Start with post/zip code or street\",country_placeholder:\"Type here to search for a country\",country_button:\"Change Country\",generic_error:\"Service unavailable.</br>Please enter your address manually.\",no_results:\"No results found\",more:\"({{value}} more)\"};if(typeof textCfg!=\"undefined\"){var keys=Object.keys(this.texts);for(var i=0;i<keys.length;i++){if(typeof textCfg[keys[i]]!=\"undefined\"&&textCfg[keys[i]]!==\"\"){this.texts[keys[i]]=textCfg[keys[i]]}}}};clickToAddress.prototype.setCfg=function(config,name,defaultValue,cfgValue){\"use strict\";defaultValue=defaultValue||false;cfgValue=cfgValue||false;if(!cfgValue){cfgValue=name}if(typeof config[cfgValue]!=\"undefined\"&&config[cfgValue]!==\"\"){this[name]=config[cfgValue]}else{this[name]=defaultValue}};clickToAddress.prototype.getCfg=function(name){if(typeof this.activeDom.config!==\"undefined\"&&typeof this.activeDom.config[name]!==\"undefined\"){return this.activeDom.config[name]}else{return this[name]}};clickToAddress.prototype.preset=function(config){\"use strict\";this.jsVersion=\"1.1.17\";this.serviceReady=0;this.debug=false;this.activeCountry=\"\";this.hover=false;this.visible=false;this.focused=false;this.hasContent=false;this.keyboardHideInProgress=false;this.coords=0;this.activeDom={};this.domLib=[];this.searchResults={};this.searchObj={};this.selectorPos=-1;this.activeInput=\"init\";this.searchStatus={lastSearchId:0,lastResponseId:0,inCountryMode:0};this.sequence=0;this.cache={finds:{},retrieves:{}};this.cachePos=-1;this.scrollPosition=0;this.scrollLimit=20;this.activeId=\"\";this.lastSearch=\"\";this.funcStore={};this.transl=null;this.lastSearchCompanyValue=\"\";this.setCfg(config,\"gfxMode\",1);this.setCfg(config,\"baseURL\",\"https://api.craftyclicks.co.uk/address/1.1\",\"relay\");if(this.baseURL[this.baseURL.length]!=\"/\"){this.baseURL+=\"/\"}this.setCfg(config,\"key\",\"\",\"accessToken\");this.setCfg(config,\"defaultCountry\",\"gbr\");this.setCfg(config,\"enabledCountries\",[]);if(this.enabledCountries.length){for(var eci=0;eci<this.enabledCountries.length;eci++){this.enabledCountries[eci]=this.enabledCountries[eci].toUpperCase()}}this.setCfg(config,\"style\",{ambient:\"light\",accent:\"default\"});if([\"light\",\"dark\",\"custom\"].indexOf(this.style.ambient)==-1){this.style.ambient=\"light\"}if([\"default\",\"red\",\"pink\",\"purple\",\"deepPurple\",\"indigo\",\"blue\",\"lightBlue\",\"cyan\",\"teal\",\"green\",\"lightGreen\",\"lime\",\"yellow\",\"amber\",\"orange\",\"deepOrange\",\"brown\",\"grey\",\"blueGrey\",\"custom\"].indexOf(this.style.accent)==-1){this.style.accent=\"default\"}this.setCfg(config,\"domMode\",\"name\");this.setCfg(config,\"placeholders\",true);this.setCfg(config,\"onResultSelected\");this.setCfg(config,\"onCountryChange\");this.setCfg(config,\"onSearchFocus\");this.setCfg(config,\"onSetCounty\");this.setCfg(config,\"onError\");this.setCfg(config,\"historyTools\",true);if(this.enabledCountries.length===1){this.setCfg(config,\"countrySelector\",false);this.setCfg(config,\"countrySelectorOption\",\"disabled\")}else{this.setCfg(config,\"countrySelector\",true);this.setCfg(config,\"countrySelectorOption\",\"enabled\")}if(typeof config.countrySelectorOption==\"undefined\"&&typeof config.countrySelector!=\"undefined\"){if(this.countrySelector){this.countrySelectorOption=\"enabled\"}else{this.countrySelectorOption=\"disabled\"}}this.setCfg(config,\"showLogo\",true);this.setCfg(config,\"getIpLocation\",true);this.setCfg(config,\"accessTokenOverride\",{});this.setupText(config.texts);this.setCfg(config,\"countryLanguage\",\"en\");this.setCfg(config,\"countryMatchWith\",\"iso_3\");this.setCfg(config,\"tag\",\"\");this.setCfg(config,\"cssPath\",\"https://cc-cdn.com/generic/styles/v1/cc_c2a.min.css\");this.setCfg(config,\"preserveAutocompleteAttribute\",false);this.setCfg(config,\"disableAutoSearch\",false);this.setCfg(config,\"transliterate\",false);this.setCfg(config,\"debug\",false);this.setCfg(config,\"customParameters\",{});this.setFingerPrint()};clickToAddress.prototype.tools={};clickToAddress.prototype.tools.ccEvent=function(target,event_to_react,function_to_call){target.addEventListener(event_to_react,function_to_call)};clickToAddress.prototype.tools.ccData=function(target,attr,value){if(typeof target===\"undefined\"||typeof attr===\"undefined\"){return}if(typeof value!==\"undefined\"){target.setAttribute(\"data-\"+attr,JSON.stringify({data:value}));return true}else{return JSON.parse(target.getAttribute(\"data-\"+attr)).data}};clickToAddress.prototype.tools.defaultDiacriticsRemovalMap=[{base:\"A\",letters:/[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g},{base:\"AA\",letters:/[\\uA732]/g},{base:\"AE\",letters:/[\\u00C6\\u01FC\\u01E2]/g},{base:\"AO\",letters:/[\\uA734]/g},{base:\"AU\",letters:/[\\uA736]/g},{base:\"AV\",letters:/[\\uA738\\uA73A]/g},{base:\"AY\",letters:/[\\uA73C]/g},{base:\"B\",letters:/[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g},{base:\"C\",letters:/[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g},{base:\"D\",letters:/[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g},{base:\"DZ\",letters:/[\\u01F1\\u01C4]/g},{base:\"Dz\",letters:/[\\u01F2\\u01C5]/g},{base:\"E\",letters:/[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g},{base:\"F\",letters:/[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g},{base:\"G\",letters:/[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g},{base:\"H\",letters:/[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g},{base:\"I\",letters:/[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g},{base:\"J\",letters:/[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g},{base:\"K\",letters:/[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g},{base:\"L\",letters:/[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g},{base:\"LJ\",letters:/[\\u01C7]/g},{base:\"Lj\",letters:/[\\u01C8]/g},{base:\"M\",letters:/[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g},{base:\"N\",letters:/[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g},{base:\"NJ\",letters:/[\\u01CA]/g},{base:\"Nj\",letters:/[\\u01CB]/g},{base:\"O\",letters:/[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g},{base:\"OI\",letters:/[\\u01A2]/g},{base:\"OO\",letters:/[\\uA74E]/g},{base:\"OU\",letters:/[\\u0222]/g},{base:\"P\",letters:/[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g},{base:\"Q\",letters:/[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g},{base:\"R\",letters:/[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g},{base:\"S\",letters:/[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g},{base:\"T\",letters:/[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g},{base:\"TZ\",letters:/[\\uA728]/g},{base:\"U\",letters:/[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g},{base:\"V\",letters:/[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g},{base:\"VY\",letters:/[\\uA760]/g},{base:\"W\",letters:/[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g},{base:\"X\",letters:/[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g},{base:\"Y\",letters:/[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g},{base:\"Z\",letters:/[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g},{base:\"a\",letters:/[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g},{base:\"aa\",letters:/[\\uA733]/g},{base:\"ae\",letters:/[\\u00E6\\u01FD\\u01E3]/g},{base:\"ao\",letters:/[\\uA735]/g},{base:\"au\",letters:/[\\uA737]/g},{base:\"av\",letters:/[\\uA739\\uA73B]/g},{base:\"ay\",letters:/[\\uA73D]/g},{base:\"b\",letters:/[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g},{base:\"c\",letters:/[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g},{base:\"d\",letters:/[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g},{base:\"dz\",letters:/[\\u01F3\\u01C6]/g},{base:\"e\",letters:/[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g},{base:\"f\",letters:/[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g},{base:\"g\",letters:/[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g},{base:\"h\",letters:/[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g},{base:\"hv\",letters:/[\\u0195]/g},{base:\"i\",letters:/[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g},{base:\"j\",letters:/[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g},{base:\"k\",letters:/[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g},{base:\"l\",letters:/[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g},{base:\"lj\",letters:/[\\u01C9]/g},{base:\"m\",letters:/[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g},{base:\"n\",letters:/[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g},{base:\"nj\",letters:/[\\u01CC]/g},{base:\"o\",letters:/[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g},{base:\"oi\",letters:/[\\u01A3]/g},{base:\"ou\",letters:/[\\u0223]/g},{base:\"oo\",letters:/[\\uA74F]/g},{base:\"p\",letters:/[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g},{base:\"q\",letters:/[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g},{base:\"r\",letters:/[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g},{base:\"s\",letters:/[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g},{base:\"t\",letters:/[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g},{base:\"tz\",letters:/[\\uA729]/g},{base:\"u\",letters:/[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g},{base:\"v\",letters:/[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g},{base:\"vy\",letters:/[\\uA761]/g},{base:\"w\",letters:/[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g},{base:\"x\",letters:/[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g},{base:\"y\",letters:/[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g},{base:\"z\",letters:/[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g}];clickToAddress.prototype.tools.removeDiacritics=function(str){var changes=this.defaultDiacriticsRemovalMap;for(var i=0;i<changes.length;i++){str=str.replace(changes[i].letters,changes[i].base)}return str.toLowerCase()};clickToAddress.prototype.tools.binaryIndexOf=function(array,sequence){\"use strict\";var minIndex=0;var maxIndex=array.length-1;var currentIndex;var currentElement;var resultIndex;while(minIndex<=maxIndex){resultIndex=currentIndex=(minIndex+maxIndex)/2|0;currentElement=array[currentIndex];if(currentElement.sequence<sequence){minIndex=currentIndex+1}else if(currentElement.sequence>sequence){maxIndex=currentIndex-1}else{return currentIndex}}return~maxIndex};clickToAddress.prototype.tools.getCountryCode=function(c2a,text,matchBy){switch(matchBy){case\"iso_3\":for(var i=0;i<c2a.validCountries.length;i++){var row=c2a.validCountries[i];if(row.iso_3166_1_alpha_3==text){return row.code}}break;case\"iso_2\":for(var i=0;i<c2a.validCountries.length;i++){var row=c2a.validCountries[i];if(row.iso_3166_1_alpha_2==text){return row.code}}break}return false};if(typeof getCountryCode==\"undefined\"){var getCountryCode=function(c2a,text,matchBy){switch(matchBy){case\"iso_3\":for(var i=0;i<c2a.validCountries.length;i++){var row=c2a.validCountries[i];if(row.iso_3166_1_alpha_3==text){return row.code}}break;case\"iso_2\":for(var i=0;i<c2a.validCountries.length;i++){var row=c2a.validCountries[i];if(row.iso_3166_1_alpha_2==text){return row.code}}break}return false}}clickToAddress.prototype.tools.addClass=function(elem,value){var classes=elem.className.split(\" \");if(classes.indexOf(value)==-1){classes.push(value)}elem.className=classes.join(\" \")};clickToAddress.prototype.tools.removeClass=function(elem,value){var classes=elem.className.split(\" \");for(var i=0;i<classes.length;i++){if(classes[i]==value){classes.splice(i,1);i--}}elem.className=classes.join(\" \")};clickToAddress.prototype.tools.hasClass=function(elem,value){var classes=elem.className.split(\" \");for(var i=0;i<classes.length;i++){if(classes[i]==value){return true}}return false};clickToAddress.prototype.tools.__$styleInject=function(css){css=css||\"\";var head=document.head||document.getElementsByTagName(\"head\")[0];var style=document.createElement(\"style\");style.type=\"text/css\";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(document.createTextNode(css))}head.appendChild(style)};clickToAddress.prototype.addTransl=function(){var that=this;try{if(\"function\"==typeof define&&define.amd){var transl_url=\"https://cc-cdn.com/utils/transl/v1.6.2/transliteration.min\";requirejs.config({paths:{transliterate:[transl_url]}});require([\"transliterate\"],function(transl){that.transl=transl})}else{var transl_url=\"https://cc-cdn.com/utils/transl/v1.6.2/transliteration.min.js\";var jsId=\"crafty_transliterate\";if(document.getElementById(\"crafty_transliterate\")===null){if(!document.getElementById(jsId)){var head=document.getElementsByTagName(\"head\")[0];var link=document.createElement(\"script\");link.id=jsId;link.type=\"text/javascript\";link.src=transl_url;head.appendChild(link)}var waitForLib=function(){if(typeof transl==\"function\"){clearInterval(transl_loading);that.transl=transl}};var transl_loading=setInterval(waitForLib,250)}}}catch(e){}};clickToAddress.prototype.setPlaceholder=function(country,target){\"use strict\";if(this.activeInput!=\"init\"){target=this.activeInput}if(this.placeholders&&typeof target!=\"undefined\"){var text=this.texts.default_placeholder;if(country){text=this.texts.country_placeholder}target.setAttribute(\"placeholder\",text)}};clickToAddress.prototype.getFocus=function(){\"use strict\";if(this.activeInput!=\"init\"){this.activeInput.focus()}this.focused=true};clickToAddress.prototype.loseFocus=function(){\"use strict\";if(this.activeInput!=\"init\"){this.activeInput.blur()}this.focused=false};clickToAddress.prototype.clear=function(){\"use strict\";this.resultList.innerHTML=\"\";this.searchStatus={lastSearchId:0,lastResponseId:0,inCountryMode:0}};clickToAddress.prototype.show=function(){\"use strict\";this.searchObj.style.display=\"block\";this.visible=true;this.setHistoryStep();if(this.activeInput!=\"init\"){var cc_ac_stored=this.activeInput.getAttribute(\"autocomplete\");if(cc_ac_stored){this.activeInput.setAttribute(\"cc_ac_stored\",cc_ac_stored)}this.activeInput.setAttribute(\"autocomplete\",\"new-crafty-global-search\")}};clickToAddress.prototype.hide=function(force_it){\"use strict\";if(this.keyboardHideInProgress){this.keyboardHideInProgress=false;return}if(force_it||this.visible&&!this.focused&&!this.hover){this.searchObj.style.display=\"none\";this.visible=false;this.hover=false;if(this.searchStatus.inCountryMode&&typeof this.lastSearch!==\"undefined\"){this.activeInput.value=this.lastSearch}this.clear();this.cachePos=-1;this.resetSelector();this.setPlaceholder(0);if(this.activeInput!=\"init\"){this.activeInput.className=this.activeInput.className.replace(\" c2a_active\",\"\");var cc_ac_stored=this.activeInput.getAttribute(\"cc_ac_stored\");this.activeInput.setAttribute(\"autocomplete\",cc_ac_stored);this.activeInput.removeAttribute(\"cc_ac_stored\")}}this.hideErrors()};clickToAddress.prototype.attach=function(dom,cfg){\"use strict\";var cfg=cfg||{};var domElements={};var objectArray=[\"search\",\"postcode\",\"town\",\"line_1\",\"line_2\",\"company\",\"county\",\"country\"];var quickGet=null;switch(this.domMode){case\"id\":quickGet=function(dom,obj_name){if(typeof dom[obj_name]==\"string\"&&dom[obj_name]!==\"\"){return document.getElementById(dom[obj_name])}};break;case\"class\":quickGet=function(dom,obj_name){if(typeof dom[obj_name]==\"string\"&&dom[obj_name]!==\"\"){return document.getElementsByClassName(dom[obj_name])[0]}};break;case\"name\":quickGet=function(dom,obj_name){if(typeof dom[obj_name]==\"string\"&&dom[obj_name]!==\"\"){return document.getElementsByName(dom[obj_name])[0]}};break;case\"object\":quickGet=function(dom,obj_name){if(typeof dom[obj_name]==\"object\"&&dom[obj_name]!==null){return dom[obj_name]}};break;case\"jQuery\":quickGet=function(dom,obj_name){if(dom[obj_name]instanceof jQuery){return dom[obj_name][0]}};break}for(var i=0;i<objectArray.length;i++){domElements[objectArray[i]]=quickGet(dom,objectArray[i])}var target=domElements.search;if(target.getAttribute(\"cc_applied\")==\"true\"){throw\"ClickToAddress already applied to this element!\"}target.setAttribute(\"cc_applied\",\"true\");this.setPlaceholder(0,target);domElements.config=cfg;var domLibId=this.domLib.length;this.domLib.push(domElements);var that=this;this.tools.ccEvent(target,\"keydown\",function(e){if(that.serviceReady===0)return;if(e.keyCode==38||e.keyCode==40){e.preventDefault();if(!that.hasContent){return}that.moveSelector(e.keyCode==40);return}if(e.keyCode==13){e.preventDefault()}});this.tools.ccEvent(target,\"keyup\",function(e){if(that.serviceReady===0)return;if(e.keyCode==27){that.hide(true);that.loseFocus();that.resetSelector();return}var noActionKeys=[37,38,39,40,33,34,35,36,42,44,45,16,17,18,19,20];if(noActionKeys.indexOf(e.keyCode)!=-1){return}if(e.keyCode==13){e.preventDefault();if(!that.hasContent||that.selectorPos<0){return}var elem=that.searchObj.getElementsByTagName(\"LI\")[that.selectorPos];if(that.searchStatus.inCountryMode==1){that.selectCountry(elem.getAttribute(\"countryCode\"))}else{that.select(elem)}return}if(that.searchStatus.inCountryMode==1){that.changeCountry(this.value)}else{if(that.getCfg(\"disableAutoSearch\")){return}if(this.value.indexOf(that.lastSearch)!==0){that.activeId=\"\"}that.lastSearch=this.value;that.sequence++;that.searchStatus.lastSearchId=that.sequence;var current_sequence_number=that.sequence;var searchVal=this.value;setTimeout(function(){if(that.searchStatus.lastSearchId<=current_sequence_number){if(searchVal!==\"\"){that.cleanHistory();that.search(searchVal,that.activeId,current_sequence_number)}else{that.clear()}}},200);that.activeDom=that.domLib[domLibId];that.gfxModeTools.reposition(that,target)}});this.tools.ccEvent(target,\"focus\",function(){that.activeDom=that.domLib[domLibId];that.onFocus(target)});this.tools.ccEvent(target,\"blur\",function(){if(that.serviceReady===0)return;that.focused=false;that.hide()});this.tools.ccEvent(target,\"c2a-search\",function(){that.show();if(that.searchStatus.inCountryMode==1){that.changeCountry(this.value)}else{if(this.value.indexOf(that.lastSearch)!==0){that.activeId=\"\"}that.lastSearch=this.value;that.sequence++;that.searchStatus.lastSearchId=that.sequence;var current_sequence_number=that.sequence;var searchVal=this.value;setTimeout(function(){if(that.searchStatus.lastSearchId<=current_sequence_number){if(searchVal!==\"\"){that.cleanHistory();that.search(searchVal,that.activeId,current_sequence_number)}else{that.clear()}}},200);that.activeDom=that.domLib[domLibId];that.gfxModeTools.reposition(that,target)}});if(target===document.activeElement){this.onFocus(target)}if(!that.getCfg(\"preserveAutocompleteAttribute\")&&(typeof domElements.line_1==\"undefined\"||domElements.line_1.getAttribute(\"cc_applied\")!=\"true\")){target.setAttribute(\"autocomplete\",\"new-crafty-global-search\")}};clickToAddress.prototype.onFocus=function(target){\"use strict\";var that=this;if(that.serviceReady===0){setTimeout(function(){that.onFocus(target)},250);return}var prestate=that.visible;that.activeInput=target;that.focused=true;that.show();that.gfxModeTools.reposition(that,target);if(!prestate){if(typeof that.getCfg(\"onSearchFocus\")==\"function\"){that.getCfg(\"onSearchFocus\")(that,that.activeDom)}}if(target.value!==\"\"&&!prestate){that.sequence++;that.searchStatus.lastSearchId=that.sequence;var sequence=that.sequence;if(that.lastSearch==target.value){sequence=-1}that.lastSearch=target.value;that.search(target.value,that.activeId,sequence)}};clickToAddress.prototype.resetSelector=function(){\"use strict\";this.hasContent=false;this.selectorPos=-1};clickToAddress.prototype.moveSelector=function(goDown){\"use strict\";if(!this.visible){return}var elems=this.searchObj.getElementsByTagName(\"LI\");if(goDown&&this.selectorPos+1<elems.length){this.selectorPos++}if(!goDown&&this.selectorPos-1>=0){this.selectorPos--}for(var i=0;i<elems.length;i++){if(i!=this.selectorPos){elems[i].className=elems[i].className.replace(\" active\",\"\")}else{if(elems[i].className.indexOf(\"active\")==-1){elems[i].className=elems[i].className+\" active\"}}}var offset=30*(this.selectorPos+1);var list=this.searchObj.getElementsByTagName(\"UL\")[0];if(offset>list.offsetHeight+list.scrollTop){list.scrollTop=offset-list.offsetHeight}if(offset<=list.scrollTop){list.scrollTop=offset-30}};clickToAddress.prototype.showGeo=function(){\"use strict\";this.searchObj.getElementsByClassName(\"geo\")[0].style.display=\"block\"};clickToAddress.prototype.getStyleSheet=function(){\"use strict\";if(this.cssPath===false){return}var cssId=\"crafty_css\";if(!document.getElementById(cssId)){var head=document.getElementsByTagName(\"head\")[0];var link=document.createElement(\"link\");link.id=cssId;link.rel=\"stylesheet\";link.type=\"text/css\";link.href=this.cssPath;link.media=\"all\";head.appendChild(link)}};clickToAddress.prototype.setProgressBar=function(state){\"use strict\";var pgbar=this.searchObj.getElementsByClassName(\"progressBar\")[0];switch(state){case 0:pgbar.className=\"progressBar action\";pgbar.style.width=\"50%\";setTimeout(function(){if(pgbar.className==\"progressBar action\"){pgbar.className=\"progressBar\";pgbar.style.width=\"0%\"}},5e3);break;case 1:pgbar.className=\"progressBar finish\";pgbar.style.width=\"100%\";setTimeout(function(){pgbar.className=\"progressBar\";pgbar.style.width=\"0%\"},2e3);break}};clickToAddress.prototype.triggerSearch=function(target){\"use strict\";var that=this;if(that.serviceReady===0){setTimeout(function(){that.triggerSearch(target)},250);return}var event=document.createEvent(\"Event\");event.initEvent(\"c2a-search\",true,true);target.dispatchEvent(event)};\n","Craftyclicks_Clicktoaddress/enhance.js":"require(['jquery', 'jquery/ui', 'jquery/validate', 'mage/translate'],function(jQuery){\n\tjQuery(document).ready(function() {\n\t\tif(jQuery('#cc_uk_gfx_options_accent').length){\n\t\t\tjQuery('#cc_uk_gfx_options_accent').hide();\n\t\t\tvar colorpicker = '<div class=\"color-set\"></div>';\n\t\t\tjQuery('#cc_uk_gfx_options_accent').after(colorpicker);\n\t\t\tvar colors = {\n\t\t\t\tdefault:\t'#63a2f1',\n\t\t\t\tred:\t\t'#F44336',\n\t\t\t\tpink:\t\t'#E91E63',\n\t\t\t\tpurple:\t\t'#9C27B0',\n\t\t\t\tdeepPurple:\t'#673ab7',\n\t\t\t\tindigo:\t\t'#3f51b5',\n\t\t\t\tblue:\t\t'#2196f3',\n\t\t\t\tlightBlue:\t'#03a9f4',\n\t\t\t\tcyan:\t\t'#00bcd4',\n\t\t\t\tteal:\t\t'#009688',\n\t\t\t\tgreen:\t\t'#4caf50',\n\t\t\t\tlightGreen:\t'#8bc34a',\n\t\t\t\tlime:\t\t'#cddc39',\n\t\t\t\tyellow:\t\t'#ffeb3b',\n\t\t\t\tamber:\t\t'#ffc107',\n\t\t\t\torange:\t\t'#ff9800',\n\t\t\t\tdeepOrange:\t'#ff5722',\n\t\t\t\tbrown:\t\t'#795548',\n\t\t\t\tgrey:\t\t'#9e9e9e',\n\t\t\t\tblueGrey:\t'#607d8b'\n\t\t\t};\n\t\t\tvar keys = Object.keys(colors);\n\t\t\tfor(var i=0; i<keys.length; i++){\n\t\t\t\tjQuery('.color-set').append('<div class=\"color-cube\" data-value=\"'+keys[i]+'\" style=\"background-color: '+colors[keys[i]]+'\"></div>');\n\t\t\t}\n\t\t\tvar initial_cube = jQuery('#cc_uk_gfx_options_accent').val();\n\t\t\tjQuery('.color-set .color-cube').each(function(index, item){\n\t\t\t\tif(jQuery(item).data('value') == initial_cube){\n\t\t\t\t\tjQuery(item).addClass('active');\n\t\t\t\t}\n\t\t\t\tjQuery(item).on('click', function(event){\n\t\t\t\t\tjQuery('#cc_uk_gfx_options_accent').val(jQuery(this).data('value'));\n\t\t\t\t\tjQuery('.color-set .color-cube').each(function(index, cube){ jQuery(cube).removeClass('active'); });\n\t\t\t\t\tjQuery(this).addClass('active');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t/*jQuery('#cc_uk_main_options_accesstoken').closest('tr').after('<tr><td class=\"label\">Fetch Token</td><td class=\"value\"><div class=\"cc-login-block\"></div></td></tr>');\n\t\t\tjQuery('.cc-login-block').append('<input type=\"text\" placeholder=\"email\" name=\"cc-login-email\"/>');\n\t\t\tjQuery('.cc-login-block').append('<input type=\"password\" placeholder=\"password\" name=\"cc-login-password\"/>');\n\t\t\tjQuery('.cc-login-block').append('<button>Fetch</button>');\n\t\t\tjQuery('.cc-login-block').append('<select></select>');\n\t\t\tvar ccBlock = jQuery('.cc-login-block');\n\t\t\t//LOGIN BUTTON\n\t\t\tccBlock.find('button').on('click',function(event){\n\t\t\t\tevent.preventDefault();\n\t\t\t\tgetToken(ccBlock.find('input[name=\"cc-login-email\"]').val(),ccBlock.find('input[name=\"cc-login-password\"]').val());\n\t\t\t});\n\t\t\t*/\n\t\t}\n\n\t\tjQuery.validator.addMethod('token-format', function(value, element) {\n\t\t\t// attempt to correct typos\n\t\t\tvalue = value.toLowerCase().replace(/-{2,}/g, \"-\").replace(/^-|-$|[^a-f0-9-]/g, \"\");\n\t\t\tjQuery('#cc_global_main_options_accesstoken').val(value);\n\n\t\t\t// validate token format\n\t\t\tlet patt = /(?!xxxxx)^[a-f0-9?]{5}?(-[a-f0-9]{5}){3}?$/;\n\t\t\tif (patt.test(value)) {\n\t\t\t\treturn this.optional(element) || patt.test(value);\n\t\t\t}\n\t\t\treturn false;\n\t\t}, 'Please check your access token is formatted correctly or <a href=\"https://account.craftyclicks.co.uk/#/signup\">sign up for a token here</a>.');\n\t});\n});\n\nfunction getToken(email, password){\n\n\tvar access_token=\"\";\n\tvar account_id =\"\";\n\tvar tokenHolder=[];\n\n\t//first we fetch our access_token\n\tjQuery.ajax({\n\t\tdataType : \"json\",\n\t\tcontentType: \"application/json; charset=utf-8\",\n\t\theaders : {\"CRAFTY-CLICKS-APPLICATION-KEY\" : \"1234567890\", \"Content-Type\" : \"application/json\"},\n\t\turl : \"http://adam_pc.craftyclicks.lan/crafty_new_admin_api/access/token\",\n\t\ttype : \"POST\",\n\t\tbeforeSend: function(xhr){\n\t\t\txhr.setRequestHeader(\"Authorization\", \"Basic \" + btoa(email + \":\" + password));\n\t\t},\n\t\tsuccess : function(accessTokenData){\n\t\t\taccess_token=accessTokenData.access_token;\n\t\t\taccount_id=accessTokenData.user_info.account_id;\n\t\t\tvar data = {\n\t\t\t\t\"account_id\" : account_id\n\t\t\t};\n\t\t\t//if the access token fetch was successful we punch it into the Access Token acquiring request with a new ajax request\n\t\t\tjQuery.ajax({\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tdataType : \"json\",\n\t\t\t\tbeforeSend: function(jqXHR, settings) {},\n\t\t\t\tcontentType: \"application/json; charset=utf-8\",\n\t\t\t\theaders : {\"CRAFTY-CLICKS-APPLICATION-KEY\" : \"1234567890\", \"Content-Type\" : \"application/json\", \"CRAFTY-CLICKS-AUTHENTICATION-TOKEN\" : access_token},\n\t\t\t\turl : \"https://account-api.craftyclicks.lan/ws_tokens/get\",\n\t\t\t\ttype : \"POST\",\n\t\t\t\tsuccess : function(wsTokenData){\n\t\t\t\t\tvar tokens=[];\n\t\t\t\t\tvar dropdown = jQuery('.cc-login-block select');\n\t\t\t\t\tfor (var i = 0; i < wsTokenData.ws_tokens.length; i++) {\n\t\t\t\t\t\tvar html = '<option value=\"'+wsTokenData.ws_tokens[i].token+'\">';\n\t\t\t\t\t\thtml += wsTokenData.ws_tokens[i].token;\n\t\t\t\t\t\tif(wsTokenData.ws_tokens[i].nickname != ''){\n\t\t\t\t\t\t\thtml += '('+wsTokenData.ws_tokens[i].nickname+')';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '</option>';\n\t\t\t\t\t\tdropdown.append(html);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror : function(error){\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t});\n\t\t\tjQuery('.login-form').hide(500);\n\t\t\tjQuery('.loading').hide(500);\n\t\t\tjQuery('.tokens').show(500);\n\t\t\tjQuery('.error').hide(500);\n\t\t\tjQuery('.btn-default').show();\n\t\t},\n\t\terror : function(error){\n\t\t\t\tjQuery('.login-form').show(500);\n\t\t\t\tjQuery('.error').show(1000);\n\t\t}\n\t});\n}\n","Craftyclicks_Clicktoaddress/form_integrations/cc_admin_order_create_customer.js":"var cc_activate_flags = [];\nfunction activate_cc_m2(){\n\tjQuery('[name$=\"_address][postcode]\"]').each(function(index,elem){\n\t\tif(jQuery(elem).data('cc_attach') != '1' && !jQuery(elem).prop('disabled')){\n\t\t\tjQuery(elem).data('cc_attach','1');\n\t\t\tvar form = jQuery(elem).closest('fieldset');\n\n\t\t\tvar tmp_html = '<div class=\"admin__field\"><label class=\"admin__field-label\">'+c2a_config.texts.search_label+'</label><div class=\"admin__field-control\"><input id=\"cc_'+cc_index+'_search_input\" class=\"cc_search_bar admin__control-text\" type=\"text\"/></div></div>';\n\t\t\tform.find('[name$=\"_address][street][0]\"]').closest('div.admin__field').before( tmp_html );\n\t\t\tform.attr('id','cc-fieldset-'+index);\n\t\t\tcc_holder.attach({\n\t\t\t\tsearch:\t\tform.find('#cc_'+cc_index+'_search_input')[0],\n\t\t\t\tcompany:\tform.find('[name$=\"_address][company]\"]')[0],\n\t\t\t\tline_1:\t\tform.find('[name$=\"_address][street][0]\"]')[0],\n\t\t\t\tline_2:\t\tform.find('[name$=\"_address][street][1]\"]')[0],\n\t\t\t\tpostcode:\tform.find('[name$=\"_address][postcode]\"]')[0],\n\t\t\t\ttown:\t\tform.find('[name$=\"_address][city]\"]')[0],\n\t\t\t\tcounty:\t\t{\n\t\t\t\t\t\t\tinput:\tform.find('[name$=\"_address][region]\"]'),\n\t\t\t\t\t\t\tlist:\tform.find('[name$=\"_address][region_id]\"]'),\n\t\t\t\t\t\t\tfieldsetSelector: '#cc-fieldset-'+index\n\t\t\t\t},\n\t\t\t\tcountry:\tform.find('select[name$=\"_address][country_id]\"]')[0]\n\t\t\t});\n\t\t\tcc_index++;\n\t\t}\n\t});\n}\n\nvar cc_index = 0;\nvar cc_holder = null;\nrequirejs(['jquery'], function( $ ) {\n\tjQuery( document ).ready(function() {\n\t\tif(c2a_config.enabled && c2a_config.key != null){\n\t\t\tvar config = {\n\t\t\t\taccessToken: c2a_config.key,\n\t\t\t\tonSetCounty: function(c2a, elements, county){\n\t\t\t\t\tvar fieldset = jQuery(elements.county.fieldsetSelector);\n\t\t\t\t\tvar current_id = fieldset.find('input.cc_search_bar').attr('id');\n\n\t\t\t\t\tif (\"createEvent\" in document) {\n\t\t\t\t\t\tvar evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\t\tevt.initEvent(\"change\", false, true);\n\t\t\t\t\t\telements.country.dispatchEvent(evt);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\telements.country.fireEvent(\"onchange\");\n\n\t\t\t\t\tif(fieldset.find(elements.county.list.selector).attr('id').indexOf('shipping') > -1){\n\t\t\t\t\t\tvar change_tracker = setInterval(function(){\n\t\t\t\t\t\t\tvar fieldset = jQuery(elements.county.fieldsetSelector);\n\t\t\t\t\t\t\tif( typeof fieldset.find('input.cc_search_bar').attr('id') == 'undefined' ||\n\t\t\t\t\t\t\t\tfieldset.find('input.cc_search_bar').attr('id') == current_id ){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclearInterval(change_tracker);\n\t\t\t\t\t\t\tc2a.setCounty(fieldset.find(elements.county.list.selector)[0], county);\n\t\t\t\t\t\t\tc2a.setCounty(fieldset.find(elements.county.input.selector)[0], county);\n\t\t\t\t\t\t},50);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\tc2a.setCounty(elements.county.list[0], county);\n\t\t\t\t\t\t\tc2a.setCounty(elements.county.input[0], county);\n\t\t\t\t\t\t},100);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdomMode: 'object',\n\t\t\t\tgfxMode: c2a_config.gfx_mode,\n\t\t\t\tstyle: {\n\t\t\t\t\tambient: c2a_config.gfx_ambient,\n\t\t\t\t\taccent: c2a_config.gfx_accent\n\t\t\t\t},\n\t\t\t\tonResultSelected: function(c2a, elements, address) {\n\t\t\t\t\tswitch(address.country_name) {\n\t\t\t\t\t\tcase 'Jersey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('JE')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Guernsey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('GG')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Isle of Man':\n\t\t\t\t\t\t\tjQuery(elements.country).val('IM')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tjQuery(elements.country).val(address.country.iso_3166_1_alpha_2);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(elements.country).trigger('change');\n\t\t\t\t},\n\t\t\t\tshowLogo: false,\n\t\t\t\ttexts: c2a_config.texts,\n\t\t\t\ttransliterate: c2a_config.advanced.transliterate,\n\t\t\t\tdebug: c2a_config.advanced.debug,\n\t\t\t\tcssPath: false,\n\t\t\t\ttag: 'Magento 2 - int'\n\t\t\t};\n\t\t\tif(typeof c2a_config.enabled_countries !== 'undefined'){\n\t\t\t\tconfig.countryMatchWith = 'iso_2';\n\t\t\t\tconfig.enabledCountries = c2a_config.enabled_countries;\n\t\t\t}\n\t\t\tif(c2a_config.advanced.lock_country_to_dropdown){\n\t\t\t\tconfig.countrySelector = false;\n\t\t\t\tconfig.onSearchFocus = function(c2a, dom){\n\t\t\t\t\tvar currentCountry = dom.country.options[dom.country.selectedIndex].value;\n\t\t\t\t\tif(currentCountry !== ''){\n\t\t\t\t\t\tvar countryCode = getCountryCode(c2a, currentCountry, 'iso_2');\n\t\t\t\t\t\tc2a.selectCountry(countryCode);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcc_holder = new clickToAddress(config);\n\t\t\tsetInterval(activate_cc_m2,200);\n\t\t}\n\n\t\tif(c2a_config.enabled && c2a_config.key == null){\n\t\t\tconsole.warn('ClickToAddress: Incorrect token format supplied');\n\t\t}\n\t});\n});\n","Craftyclicks_Clicktoaddress/form_integrations/cc_admin_order.js":"function activate_cc_m2(){\n\tjQuery('[name=\"postcode\"]').each(function(index,elem){\n\t\tif(jQuery(elem).data('cc_attach') != '1' && !jQuery(elem).prop('disabled')){\n\t\t\tjQuery(elem).data('cc_attach','1');\n\t\t\tvar form = jQuery(elem).closest('fieldset');\n\n\t\t\tvar tmp_html = '<div class=\"admin__field\"><label class=\"admin__field-label\">'+c2a_config.texts.search_label+'</label><div class=\"admin__field-control\"><input class=\"cc_search_input admin__control-text\" type=\"text\"/></div></div>';\n\t\t\tform.find('[name=\"street[0]\"]').closest('div.admin__field').before( tmp_html );\n\n\t\t\tcc_holder.attach({\n\t\t\t\tsearch:\t\tform.find('.cc_search_input')[0],\n\t\t\t\tcompany:\tform.find('[name=\"company\"]')[0],\n\t\t\t\tline_1:\t\tform.find('[name=\"street[0]\"]')[0],\n\t\t\t\tline_2:\t\tform.find('[name=\"street[1]\"]')[0],\n\t\t\t\tpostcode:\tform.find('[name=\"postcode\"]')[0],\n\t\t\t\ttown:\t\tform.find('[name=\"city\"]')[0],\n\t\t\t\tcounty:\t\t{\n\t\t\t\t\tinput:\tform.find('[name=\"region\"]'),\n\t\t\t\t\tlist:\tform.find('[name=\"region_id\"]')\n\t\t\t\t},\n\t\t\t\tcountry:\tform.find('[name=\"country_id\"]')[0]\n\t\t\t});\n\t\t\tcc_index++;\n\t\t}\n\t});\n}\n\nvar cc_holder = null;\nrequirejs(['jquery'], function( $ ) {\n\tjQuery( document ).ready(function() {\n\t\tif(c2a_config.enabled && c2a_config.key != null){\n\t\t\tvar config = {\n\t\t\t\taccessToken: c2a_config.key,\n\t\t\t\tonSetCounty: function(c2a, elements, county){\n\t\t\t\t\tif (\"createEvent\" in document) {\n\t\t\t\t\t\tvar evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\t\tevt.initEvent(\"change\", false, true);\n\t\t\t\t\t\telements.country.dispatchEvent(evt);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\telements.country.fireEvent(\"onchange\");\n\t\t\t\t\tc2a.setCounty(elements.county.list[0], county);\n\t\t\t\t\tc2a.setCounty(elements.county.input[0], county);\n\t\t\t\t},\n\t\t\t\tdomMode: 'object',\n\t\t\t\tgfxMode: c2a_config.gfx_mode,\n\t\t\t\tstyle: {\n\t\t\t\t\tambient: c2a_config.gfx_ambient,\n\t\t\t\t\taccent: c2a_config.gfx_accent\n\t\t\t\t},\n\t\t\t\tonResultSelected: function(c2a, elements, address){\n\t\t\t\t\tswitch(address.country_name) {\n\t\t\t\t\t\tcase 'Jersey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('JE')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Guernsey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('GG')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Isle of Man':\n\t\t\t\t\t\t\tjQuery(elements.country).val('IM')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tjQuery(elements.country).val(address.country.iso_3166_1_alpha_2);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(elements.country).trigger('change');\n\t\t\t\t\tjQuery(elements.company).trigger('change');\n\t\t\t\t\tjQuery(elements.line_1).trigger('change');\n\t\t\t\t\tjQuery(elements.line_2).trigger('change');\n\t\t\t\t\tjQuery(elements.postcode).trigger('change');\n\t\t\t\t\tjQuery(elements.town).trigger('change');\n\t\t\t\t\tjQuery(elements.county.input).trigger('change');\n\t\t\t\t\tjQuery(elements.county.list).trigger('change');\n\t\t\t\t},\n\t\t\t\tshowLogo: false,\n\t\t\t\ttexts: c2a_config.texts,\n\t\t\t\ttransliterate: c2a_config.advanced.transliterate,\n\t\t\t\tdebug: c2a_config.advanced.debug,\n\t\t\t\tcssPath: false,\n\t\t\t\ttag: 'Magento 2 - int'\n\t\t\t};\n\t\t\tif(typeof c2a_config.enabled_countries !== 'undefined'){\n\t\t\t\tconfig.countryMatchWith = 'iso_2';\n\t\t\t\tconfig.enabledCountries = c2a_config.enabled_countries;\n\t\t\t}\n\t\t\tif(c2a_config.advanced.lock_country_to_dropdown){\n\t\t\t\tconfig.countrySelector = false;\n\t\t\t\tconfig.onSearchFocus = function(c2a, dom){\n\t\t\t\t\tvar currentCountry = dom.country.options[dom.country.selectedIndex].value;\n\t\t\t\t\tif(currentCountry !== ''){\n\t\t\t\t\t\tvar countryCode = getCountryCode(c2a, currentCountry, 'iso_2');\n\t\t\t\t\t\tc2a.selectCountry(countryCode);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcc_holder = new clickToAddress(config);\n\t\t\tsetInterval(activate_cc_m2,200);\n\t\t}\n\n\t\tif(c2a_config.enabled && c2a_config.key == null){\n\t\t\tconsole.warn('ClickToAddress: Incorrect token format supplied');\n\t\t}\n\t});\n});\n","Craftyclicks_Clicktoaddress/form_integrations/cc_admin_customer.js":"function activate_cc_m2(){\n\tjQuery('[name=\"postcode\"]').each(function(index,elem){\n\t\tif(jQuery(elem).data('cc_attach') != '1'){\n\t\t\tvar form = jQuery(elem).closest('fieldset');\n\t\t\t// check if all form elements exist correctly\n\t\t\tif(!(\n\t\t\t\t0 != form.find('[name=\"company\"]').length &&\n\t\t\t\t0 != form.find('[name=\"street[0]\"]').length &&\n\t\t\t\t0 != form.find('[name=\"street[1]\"]').length &&\n\t\t\t\t0 != form.find('[name=\"postcode\"]').length &&\n\t\t\t\t0 != form.find('[name=\"city\"]').length &&\n\t\t\t\t0 != form.find('[name=\"region\"]').length &&\n\t\t\t\t0 != form.find('select[name=\"region_id\"]').length &&\n\t\t\t\t0 != form.find('select[name=\"country_id\"]').length\n\t\t\t)){\n\t\t\t\t// if anything is missing (some parts get loaded in a second ajax pass)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tjQuery(elem).data('cc_attach','1');\n\n\t\t\tvar tmp_html = '<div class=\"admin__field\"><label class=\"admin__field-label\">'+c2a_config.texts.search_label+'</label><div class=\"admin__field-control\"><input class=\"cc_search_input admin__control-text\" type=\"text\"/></div></div>';\n\t\t\tform.find('[name=\"street[0]\"]').closest('fieldset').before( tmp_html );\n\t\t\n\t\t\tcc_holder.attach({\n\t\t\t\tsearch:\t\tform.find('.cc_search_input')[0],\n\t\t\t\tcompany:\tform.find('[name=\"company\"]')[0],\n\t\t\t\tline_1:\t\tform.find('[name=\"street[0]\"]')[0],\n\t\t\t\tline_2:\t\tform.find('[name=\"street[1]\"]')[0],\n\t\t\t\tpostcode:\tform.find('[name=\"postcode\"]')[0],\n\t\t\t\ttown:\t\tform.find('[name=\"city\"]')[0],\n\t\t\t\tcounty:\t\t{\n\t\t\t\t\tinput:\tform.find('[name=\"region\"]'),\n\t\t\t\t\tlist:\tform.find('select[name=\"region_id\"]')\n\t\t\t\t},\n\t\t\t\tcountry:\tform.find('select[name=\"country_id\"]')[0]\n\t\t\t});\n\t\t}\n\t});\n}\nvar cc_holder = null;\nrequirejs(['jquery'], function( $ ) {\n\tjQuery( document ).ready(function() {\n\t\tif(c2a_config.enabled && c2a_config.key != null){\n\t\t\tvar config = {\n\t\t\t\taccessToken: c2a_config.key,\n\t\t\t\tonSetCounty: function(c2a, elements, county){\n\t\t\t\t\tif (\"createEvent\" in document) {\n\t\t\t\t\t\tvar evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\t\tevt.initEvent(\"change\", false, true);\n\t\t\t\t\t\telements.country.dispatchEvent(evt);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\telements.country.fireEvent(\"onchange\");\n\t\t\t\t\tc2a.setCounty(elements.county.list[0], county);\n\t\t\t\t\tc2a.setCounty(elements.county.input[0], county);\n\t\t\t\t},\n\t\t\t\tdomMode: 'object',\n\t\t\t\tgfxMode: c2a_config.gfx_mode,\n\t\t\t\tstyle: {\n\t\t\t\t\tambient: c2a_config.gfx_ambient,\n\t\t\t\t\taccent: c2a_config.gfx_accent\n\t\t\t\t},\n\t\t\t\tshowLogo: false,\n\t\t\t\ttexts: c2a_config.texts,\n\t\t\t\tonResultSelected: function(c2a, elements, address){\n\t\t\t\t\tswitch(address.country_name) {\n\t\t\t\t\t\tcase 'Jersey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('JE')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Guernsey':\n\t\t\t\t\t\t\tjQuery(elements.country).val('GG')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Isle of Man':\n\t\t\t\t\t\t\tjQuery(elements.country).val('IM')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tjQuery(elements.country).val(address.country.iso_3166_1_alpha_2);\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(elements.country).trigger('change');\n\t\t\t\t\tjQuery(elements.company).trigger('change');\n\t\t\t\t\tjQuery(elements.line_1).trigger('change');\n\t\t\t\t\tjQuery(elements.line_2).trigger('change');\n\t\t\t\t\tjQuery(elements.postcode).trigger('change');\n\t\t\t\t\tjQuery(elements.town).trigger('change');\n\t\t\t\t\tjQuery(elements.county.input).trigger('change');\n\t\t\t\t\tjQuery(elements.county.list).trigger('change');\n\t\t\t\t},\n\t\t\t\ttransliterate: c2a_config.advanced.transliterate,\n\t\t\t\tdebug: c2a_config.advanced.debug,\n\t\t\t\tcssPath: false,\n\t\t\t\ttag: 'Magento 2 - int'\n\t\t\t};\n\t\t\tif(typeof c2a_config.enabled_countries !== 'undefined'){\n\t\t\t\tconfig.countryMatchWith = 'iso_2';\n\t\t\t\tconfig.enabledCountries = c2a_config.enabled_countries;\n\t\t\t}\n\t\t\tif(c2a_config.advanced.lock_country_to_dropdown){\n\t\t\t\tconfig.countrySelector = false;\n\t\t\t\tconfig.onSearchFocus = function(c2a, dom){\n\t\t\t\t\tvar currentCountry = dom.country.options[dom.country.selectedIndex].value;\n\t\t\t\t\tif(currentCountry !== ''){\n\t\t\t\t\t\tvar countryCode = getCountryCode(c2a, currentCountry, 'iso_2');\n\t\t\t\t\t\tc2a.selectCountry(countryCode);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcc_holder = new clickToAddress(config);\n\t\t\tsetInterval(activate_cc_m2,200);\n\t\t}\n\t\tif(c2a_config.enabled && c2a_config.key == null){\n\t\t\tconsole.warn('ClickToAddress: Incorrect token format supplied');\n\t\t}\n\t});\n});\n","Magento_UrlRewrite/js/url-rewrite-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/backend/form',\n    'mage/backend/validation'\n], function ($) {\n    'use strict';\n\n    return function (data, element) {\n\n        $(element).form().validation({\n            validationUrl: data.url\n        });\n    };\n});\n"}
}});
